webpackJsonp([1],Array(347).concat([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),s=n(348);t["default"]=i["default"].createClass({displayName:"ProseMirror",propTypes:{options:i["default"].PropTypes.object,defaultValue:i["default"].PropTypes.any,value:i["default"].PropTypes.any,onChange:i["default"].PropTypes.func,valueLink:i["default"].PropTypes.shape({value:i["default"].PropTypes.any,requestChange:i["default"].PropTypes.func})},render:function(){return i["default"].createElement("div",{ref:"pm"})},componentWillUpdate:function(e){if("value"in e||"valueLink"in e){var t=e.value||"valueLink"in e&&e.valueLink.value||"";t!==this._lastValue&&this.pm.setContent(t,e.options.docFormat)}},componentWillMount:function(){this._lastValue=this.props.value,void 0===this._lastValue&&"valueLink"in this.props&&(this._lastValue=this.props.valueLink.value),void 0===this._lastValue&&(this._lastValue=this.props.defaultValue);var e=Object.assign({doc:this._lastValue},this.props.options);void 0!==e.doc&&null!==e.doc||(e.doc=null,e.docFormat=null),this.pm=new s.ProseMirror(e)},componentDidMount:function(){var e=this;this.refs.pm.appendChild(this.pm.wrapper),this.pm.on("change",function(){var t=e.props.onChange||"valueLink"in e.props&&e.props.valueLink.requestChange;t&&(e._lastValue=e.pm.getContent(e.props.options.docFormat),t(e._lastValue))})},componentDidUpdate:function(e){var t=this,n=e.options,r=this.props.options;Object.keys(r).forEach(function(e){r[e]!==n[e]&&t.pm.setOption(e,r[e])})},getContent:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props.options.docFormat:arguments[0];return this.pm.getContent(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Keymap=t.baseCommands=t.Command=t.CommandSet=t.MarkedRange=t.SelectionError=t.Range=t.defineOption=t.ProseMirror=void 0;var o=n(349);Object.defineProperty(t,"ProseMirror",{enumerable:!0,get:function(){return o.ProseMirror}});var i=n(383);Object.defineProperty(t,"defineOption",{enumerable:!0,get:function(){return i.defineOption}});var s=n(388);Object.defineProperty(t,"Range",{enumerable:!0,get:function(){return s.Range}}),Object.defineProperty(t,"SelectionError",{enumerable:!0,get:function(){return s.SelectionError}});var a=n(395);Object.defineProperty(t,"MarkedRange",{enumerable:!0,get:function(){return a.MarkedRange}});var u=n(385);Object.defineProperty(t,"CommandSet",{enumerable:!0,get:function(){return u.CommandSet}}),Object.defineProperty(t,"Command",{enumerable:!0,get:function(){return u.Command}});var l=n(386);Object.defineProperty(t,"baseCommands",{enumerable:!0,get:function(){return l.baseCommands}}),n(396);var c=n(352),f=r(c);t.Keymap=f["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.DIRTY_REDRAW=t.DIRTY_RESCAN=t.ProseMirror=void 0,n(350);var l=n(352),c=r(l),f=n(353),p=n(364),h=n(374),d=r(h),m=n(357),v=n(375),g=n(376),y=n(351),b=n(377),k=n(383),w=n(388),x=n(389),_=n(390),C=n(391),S=n(394),M=n(395),A=t.ProseMirror=function(){function e(t){s(this,e),(0,y.ensureCSSAdded)(),t=this.options=(0,k.parseOptions)(t),this.schema=t.schema,null==t.doc&&(t.doc=this.schema.node("doc",null,[this.schema.node("paragraph")])),this.content=(0,y.elt)("div",{"class":"ProseMirror-content","pm-container":!0}),this.wrapper=(0,y.elt)("div",{"class":"ProseMirror"},this.content),this.wrapper.ProseMirror=this,t.place&&t.place.appendChild?t.place.appendChild(this.wrapper):t.place&&t.place(this.wrapper),this.setDocInner(t.docFormat?(0,b.parseFrom)(this.schema,t.doc,t.docFormat):t.doc),(0,_.draw)(this,this.doc),this.content.contentEditable=!0,t.label&&this.content.setAttribute("aria-label",t.label),this.mod=Object.create(null),this.cached=Object.create(null),this.operation=null,this.dirtyNodes=new v.Map,this.flushScheduled=!1,this.sel=new w.SelectionState(this,(0,w.findSelectionAtStart)(this.doc)),this.accurateSelection=!1,this.input=new C.Input(this),this.commands=null,this.commandKeys=null,(0,k.initOptions)(this)}return u(e,[{key:"setOption",value:function(e,t){(0,k.setOption)(this,e,t),this.signal("optionChanged",e,t)}},{key:"getOption",value:function(e){return this.options[e]}},{key:"setTextSelection",value:function(e,t){this.setSelection(new w.TextSelection(e,t))}},{key:"setNodeSelection",value:function(e){this.checkPos(e,!1);var t=this.doc.path(e.path);e.offset>=t.size&&w.SelectionError.raise("Trying to set a node selection at the end of a node");var n=t.child(e.offset);n.type.selectable||w.SelectionError.raise("Trying to select a non-selectable node"),this.input.maybeAbortComposition(),this.sel.setAndSignal(new w.NodeSelection(e,e.move(1),n))}},{key:"setSelection",value:function(e){e instanceof w.TextSelection?(this.checkPos(e.head,!0),e.empty||this.checkPos(e.anchor,!0)):this.checkPos(e.to,!1),this.setSelectionDirect(e)}},{key:"setSelectionDirect",value:function(e){this.ensureOperation(),this.input.maybeAbortComposition(),e.eq(this.sel.range)||this.sel.setAndSignal(e)}},{key:"setContent",value:function(e,t){t&&(e=(0,b.parseFrom)(this.schema,e,t)),this.setDoc(e)}},{key:"getContent",value:function(e){return e?(0,b.serializeTo)(this.doc,e):this.doc}},{key:"setDocInner",value:function(e){e.type!=this.schema.nodes.doc&&m.AssertionError.raise("Trying to set a document with a different schema"),this.doc=e,this.ranges=new M.RangeStore(this),this.history=new S.History(this)}},{key:"setDoc",value:function(e,t){t||(t=(0,w.findSelectionAtStart)(e)),this.signal("beforeSetDoc",e,t),this.ensureOperation(),this.setDocInner(e),this.sel.set(t,!0),this.signal("setDoc",e,t)}},{key:"updateDoc",value:function(e,t,n){this.ensureOperation(),this.input.maybeAbortComposition(),this.ranges.transform(t),this.doc=e,this.sel.setAndSignal(n||this.sel.range.map(e,t)),this.signal("change")}},{key:"apply",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?T:arguments[1];return e.doc==this.doc?!1:(e.docs[0]!=this.doc&&(0,f.findDiffStart)(e.docs[0],this.doc)&&m.AssertionError.raise("Applying a transform that does not start with the current document"),this.updateDoc(e.doc,e,t.selection),this.signal("transform",e,t),t.scrollIntoView&&this.scrollIntoView(),e)}},{key:"checkPos",value:function(e,t){e.isValid(this.doc,t)||m.AssertionError.raise("Position "+e+" is not valid in current document")}},{key:"ensureOperation",value:function(){return this.operation||this.startOperation()}},{key:"startOperation",value:function(e){var t=this;return this.operation=new D(this),e&&e.readSelection===!1||!this.sel.readFromDOM()||(this.operation.sel=this.sel.range),this.flushScheduled||((0,y.requestAnimationFrame)(function(){t.flushScheduled=!1,t.flush()}),this.flushScheduled=!0),this.operation}},{key:"flush",value:function(){if(document.body.contains(this.wrapper)&&this.operation){this.signal("flushing");var e=this.operation;if(e){this.operation=null,this.accurateSelection=!0;var t=e.doc!=this.doc||this.dirtyNodes.size,n=!1;this.input.composing||!t&&!e.composingAtStart||((0,_.redraw)(this,this.dirtyNodes,this.doc,e.doc),this.dirtyNodes.clear(),n=!0),(!n&&e.sel.eq(this.sel.range)||this.input.composing)&&!e.focus||this.sel.toDOM(e.focus),e.scrollIntoView!==!1&&(0,x.scrollIntoView)(this,e.scrollIntoView),t&&this.signal("draw"),this.signal("flush"),this.accurateSelection=!1}}}},{key:"addKeymap",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?50:arguments[1];(0,d["default"])(this.input.keymaps,{map:e,rank:t},function(e,t){return e.rank-t.rank})}},{key:"removeKeymap",value:function(e){for(var t=this.input.keymaps,n=0;n<t.length;++n)if(t[n].map==e||t[n].map.options.name==e)return t.splice(n,1),!0}},{key:"markRange",value:function(e,t,n){this.checkPos(e),this.checkPos(t);var r=new M.MarkedRange(e,t,n);return this.ranges.addRange(r),r}},{key:"removeRange",value:function(e){this.ranges.removeRange(e)}},{key:"setMark",value:function(e,t,n){var r=this.selection;if(r.empty){var o=this.activeMarks();if(null==t&&(t=!e.isInSet(o)),t&&!this.doc.path(r.head.path).type.canContainMark(e))return;this.input.storedMarks=t?e.create(n).addToSet(o):e.removeFromSet(o),this.signal("activeMarkChange")}else(null!=t?t:!this.doc.rangeHasMark(r.from,r.to,e))?this.apply(this.tr.addMark(r.from,r.to,e.create(n))):this.apply(this.tr.removeMark(r.from,r.to,e))}},{key:"activeMarks",value:function(){var e;return this.input.storedMarks||((e=this.selection.head)?this.doc.marksAt(e):[])}},{key:"focus",value:function(){this.operation?this.operation.focus=!0:this.sel.toDOM(!0)}},{key:"hasFocus",value:function(){return this.sel.range instanceof w.NodeSelection?document.activeElement==this.content:(0,w.hasFocus)(this)}},{key:"posAtCoords",value:function(e){return(0,x.posAtCoords)(this,e)}},{key:"coordsAtPos",value:function(e){return this.checkPos(e),(0,x.coordsAtPos)(this,e)}},{key:"scrollIntoView",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];e&&this.checkPos(e),this.ensureOperation(),this.operation.scrollIntoView=e}},{key:"execCommand",value:function(e,t){var n=this.commands[e];return!(!n||n.exec(this,t)===!1)}},{key:"keyForCommand",value:function(e){var t=this.commandKeys[e];if(void 0!==t)return t;var n=this.commands[e],r=this.input.baseKeymap;if(!n)return this.commandKeys[e]=null;var o=n.spec.key||(y.browser.mac?n.spec.macKey:n.spec.pcKey);if(o){o=c["default"].normalizeKeyName(Array.isArray(o)?o[0]:o);var i=r.bindings[o];if(Array.isArray(i)?i.indexOf(e)>-1:i==e)return this.commandKeys[e]=o}for(var s in r.bindings){var a=r.bindings[s];if(Array.isArray(a)?a.indexOf(e)>-1:a==e)return this.commandKeys[e]=s}return this.commandKeys[e]=null}},{key:"markRangeDirty",value:function(e){this.ensureOperation();for(var t=this.dirtyNodes,n=e.from,r=e.to,o=0,i=this.doc;;o++){var s=o==n.depth,a=o==r.depth;if(s||a||n.path[o]!=r.path[o]){var u=function(){var e=s?n.offset:n.path[o],u=a?r.offset:r.path[o]+1;if(i.isTextblock)i.forEach(function(n,r,o){u>r&&o>e&&t.set(n,P)});else for(var l,c=i.iter(e,u);l=c.next().value;)t.set(l,P);return"break"}();if("break"===u)break}else{var l=i.child(n.path[o]);t.has(l)||t.set(l,O),i=l}}}},{key:"markAllDirty",value:function(){this.dirtyNodes.set(this.doc,P)}},{key:"selection",get:function(){return this.accurateSelection||this.ensureOperation(),this.sel.range}},{key:"tr",get:function(){return new E(this)}}]),e}();A.prototype.apply.scroll={scrollIntoView:!0};var O=t.DIRTY_RESCAN=1,P=t.DIRTY_REDRAW=2,T={};(0,g.eventMixin)(A);var D=function j(e){s(this,j),this.doc=e.doc,this.sel=e.sel.range,this.scrollIntoView=!1,this.focus=!1,this.composingAtStart=!!e.input.composing},E=function(e){function t(e){s(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e.doc));return n.pm=e,n}return i(t,e),u(t,[{key:"apply",value:function(e){return this.pm.apply(this,e)}},{key:"replaceSelection",value:function(e,t){var n=this.selection,r=n.empty,o=n.from,i=n.to,s=n.node,a=void 0;if(e&&e.isInline&&t!==!1){var u=r?this.pm.input.storedMarks:this.doc.marksAt(o);e=e.type.create(e.attrs,e.text,u)}if(s&&s.isTextblock&&e&&e.isInline)o=new f.Pos(o.toPath(),0),i=new f.Pos(o.path,s.size);else if(s)for(;o.depth&&0==o.offset&&(a=this.doc.path(o.path))&&o.offset==a.size-1&&!a.type.canBeEmpty&&(!e||!a.type.canContain(e));)o=o.shorten(),i=i.shorten(null,1);else if(e&&e.isBlock&&this.doc.path(o.path.slice(0,o.depth-1)).type.canContain(e)){this["delete"](o,i);var l=this.doc.path(o.path);return o.offset&&o.offset!=l.size&&this.split(o),this.insert(o.shorten(null,o.offset?1:0),e)}return e?this.replaceWith(o,i,e):this["delete"](o,i)}},{key:"deleteSelection",value:function(){return this.replaceSelection()}},{key:"typeText",value:function(e){return this.replaceSelection(this.pm.schema.text(e),!0)}},{key:"selection",get:function(){return this.steps.length?this.pm.selection.map(this):this.pm.selection}}]),t}(p.Transform)},function(e,t,n){"use strict";var r=n(351);(0,r.insertCSS)('\n\n.ProseMirror {\n  border: 1px solid silver;\n  position: relative;\n}\n\n.ProseMirror-content {\n  padding: 4px 8px 4px 14px;\n  white-space: pre-wrap;\n  line-height: 1.2;\n}\n\n.ProseMirror-drop-target {\n  position: absolute;\n  width: 1px;\n  background: #666;\n  display: none;\n}\n\n.ProseMirror-content ul.tight p, .ProseMirror-content ol.tight p {\n  margin: 0;\n}\n\n.ProseMirror-content ul, .ProseMirror-content ol {\n  padding-left: 30px;\n  cursor: default;\n}\n\n.ProseMirror-content blockquote {\n  padding-left: 1em;\n  border-left: 3px solid #eee;\n  margin-left: 0; margin-right: 0;\n}\n\n.ProseMirror-content pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\n.ProseMirror-content p:first-child,\n.ProseMirror-content h1:first-child,\n.ProseMirror-content h2:first-child,\n.ProseMirror-content h3:first-child,\n.ProseMirror-content h4:first-child,\n.ProseMirror-content h5:first-child,\n.ProseMirror-content h6:first-child {\n  margin-top: .3em;\n}\n\n/* Add space around the hr to make clicking it easier */\n\n.ProseMirror-content hr {\n  position: relative;\n  height: 6px;\n  border: none;\n}\n\n.ProseMirror-content hr:after {\n  content: "";\n  position: absolute;\n  left: 10px;\n  right: 10px;\n  top: 2px;\n  border-top: 2px solid silver;\n}\n\n.ProseMirror-content img {\n  cursor: default;\n}\n\n/* Make sure li selections wrap around markers */\n\n.ProseMirror-content li {\n  position: relative;\n  pointer-events: none; /* Don\'t do weird stuff with marker clicks */\n}\n.ProseMirror-content li > * {\n  pointer-events: auto;\n}\n\nli.ProseMirror-selectednode {\n  outline: none;\n}\n\nli.ProseMirror-selectednode:after {\n  content: "";\n  position: absolute;\n  left: -32px;\n  right: -2px; top: -2px; bottom: -2px;\n  border: 2px solid #8cf;\n  pointer-events: none;\n}\n\n')},function(e,t){"use strict";function n(e,t){var n=document.createElement(e);if(t)for(var o in t)"style"==o?n.style.cssText=t[o]:null!=t[o]&&n.setAttribute(o,t[o]);for(var i=arguments.length,s=Array(i>2?i-2:0),a=2;i>a;a++)s[a-2]=arguments[a];for(var u=0;u<s.length;u++)r(s[u],n);return n}function r(e,t){if("string"==typeof e&&(e=document.createTextNode(e)),Array.isArray(e))for(var n=0;n<e.length;n++)r(e[n],t);else t.appendChild(e)}function o(e){f?f(e):setTimeout(e,10)}function i(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function s(e,t){var n=e.className,r=i(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}}function a(e,t){var n=e.className;i(t).test(n)||(e.className+=(n?" ":"")+t)}function u(e,t){return 1!=t.nodeType&&(t=t.parentNode),t&&e.contains(t)}function l(e){m?m.textContent+=e:d+=e}function c(){m||(m=document.createElement("style"),m.textContent="/* ProseMirror CSS */\n"+d,document.head.insertBefore(m,document.head.firstChild))}Object.defineProperty(t,"__esModule",{value:!0}),t.elt=n,t.requestAnimationFrame=o,t.rmClass=s,t.addClass=a,t.contains=u,t.insertCSS=l,t.ensureCSSAdded=c;var f=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,p=/MSIE \d/.test(navigator.userAgent),h=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),d=(t.browser={mac:/Mac/.test(navigator.platform),ie_upto10:p,ie_11up:h,ie:p||h,gecko:/gecko\/\d/i.test(navigator.userAgent)},""),m=null},function(e,t,n){!function(t){e.exports=t()}(function(){"use strict";function e(e){if("keypress"==e.type)return"'"+String.fromCharCode(e.charCode)+"'";var t=i[e.keyCode],n=t;return null==n||e.altGraphKey?null:(e.altKey&&"Alt"!=t&&(n="Alt-"+n),e.ctrlKey&&"Ctrl"!=t&&(n="Ctrl-"+n),e.metaKey&&"Cmd"!=t&&(n="Cmd-"+n),e.shiftKey&&"Shift"!=t&&(n="Shift-"+n),n)}function t(e){return e=/[^-]*$/.exec(e)[0],"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function n(e){for(var t,n,r,i,s=e.split(/-(?!'?$)/),a=s[s.length-1],u=0;u<s.length-1;u++){var l=s[u];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);o?i=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),i&&(a="Cmd-"+a),r&&(a="Shift-"+a),a}function r(e,t){if(this.options=t||{},this.bindings=Object.create(null),e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.addBinding(n,e[n])}for(var o="undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os?"darwin"==os.platform():!1,i={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},s=0;10>s;s++)i[s+48]=i[s+96]=String(s);for(var s=65;90>=s;s++)i[s]=String.fromCharCode(s);for(var s=1;12>=s;s++)i[s+111]=i[s+63235]="F"+s;return r.prototype={normalize:function(e){return this.options.multi!==!1?e.split(/ +(?!\'$)/).map(n):[n(e)]},addBinding:function(e,t){for(var n=this.normalize(e),r=0;r<n.length;r++){var o=n.slice(0,r+1).join(" "),i=r==n.length-1?t:"...",s=this.bindings[o];if(s){if(s!=i)throw new Error("Inconsistent bindings for "+o)}else this.bindings[o]=i}},removeBinding:function(e){for(var t=this.normalize(e),n=t.length-1;n>=0;n--){var r=t.slice(0,n).join(" "),o=this.bindings[r];if("..."==o&&!this.unusedMulti(r))break;o&&delete this.bindings[r]}},unusedMulti:function(e){for(var t in this.bindings)if(t.length>e&&0==t.indexOf(e)&&" "==t.charAt(e.length))return!1;return!0},lookup:function(e,t){return this.options.call?this.options.call(e,t):this.bindings[e]},constructor:r},r.keyName=e,r.isModifierKey=t,r.normalizeKeyName=n,r})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(354);Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return r.Node}});var o=n(355);Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return o.Fragment}}),Object.defineProperty(t,"emptyFragment",{enumerable:!0,get:function(){return o.emptyFragment}});var i=n(358);Object.defineProperty(t,"Mark",{enumerable:!0,get:function(){return i.Mark}});var s=n(360);Object.defineProperty(t,"SchemaSpec",{enumerable:!0,get:function(){return s.SchemaSpec}}),Object.defineProperty(t,"Schema",{enumerable:!0,get:function(){return s.Schema}}),Object.defineProperty(t,"SchemaError",{enumerable:!0,get:function(){return s.SchemaError}}),Object.defineProperty(t,"NodeType",{enumerable:!0,get:function(){return s.NodeType}}),Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return s.Block}}),Object.defineProperty(t,"Textblock",{enumerable:!0,get:function(){return s.Textblock}}),Object.defineProperty(t,"Inline",{enumerable:!0,get:function(){return s.Inline}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return s.Text}}),Object.defineProperty(t,"MarkType",{enumerable:!0,get:function(){return s.MarkType}}),Object.defineProperty(t,"Attribute",{enumerable:!0,get:function(){return s.Attribute}});var a=n(362);Object.defineProperty(t,"defaultSchema",{enumerable:!0,get:function(){return a.defaultSchema}}),Object.defineProperty(t,"Doc",{enumerable:!0,get:function(){return a.Doc}}),Object.defineProperty(t,"BlockQuote",{enumerable:!0,get:function(){return a.BlockQuote}}),Object.defineProperty(t,"OrderedList",{enumerable:!0,get:function(){return a.OrderedList}}),Object.defineProperty(t,"BulletList",{enumerable:!0,get:function(){return a.BulletList}}),Object.defineProperty(t,"ListItem",{enumerable:!0,get:function(){return a.ListItem}}),Object.defineProperty(t,"HorizontalRule",{enumerable:!0,get:function(){return a.HorizontalRule}}),Object.defineProperty(t,"Paragraph",{enumerable:!0,get:function(){return a.Paragraph}}),Object.defineProperty(t,"Heading",{enumerable:!0,get:function(){return a.Heading}}),Object.defineProperty(t,"CodeBlock",{enumerable:!0,get:function(){return a.CodeBlock}}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return a.Image}}),Object.defineProperty(t,"HardBreak",{enumerable:!0,get:function(){return a.HardBreak}}),Object.defineProperty(t,"CodeMark",{enumerable:!0,get:function(){return a.CodeMark}}),Object.defineProperty(t,"EmMark",{enumerable:!0,get:function(){return a.EmMark}}),Object.defineProperty(t,"StrongMark",{enumerable:!0,get:function(){return a.StrongMark}}),Object.defineProperty(t,"LinkMark",{enumerable:!0,get:function(){return a.LinkMark}});var u=n(359);Object.defineProperty(t,"Pos",{enumerable:!0,get:function(){return u.Pos}});var l=n(363);Object.defineProperty(t,"findDiffStart",{enumerable:!0,get:function(){return l.findDiffStart}}),Object.defineProperty(t,"findDiffEnd",{enumerable:!0,get:function(){return l.findDiffEnd}});var c=n(356);Object.defineProperty(t,"ModelError",{enumerable:!0,get:function(){return c.ModelError}})},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function v(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:v(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TextNode=t.Node=void 0;var c=n(355),f=n(358),p=n(359),h=[],d=Object.create(null),m=function(){function e(t,n,r,o){i(this,e),this.type=t,this.attrs=n,this.content=r||c.emptyFragment,this.marks=o||h}return l(e,[{key:"child",value:function(e){return this.content.child(e)}},{key:"iter",value:function(e,t){return this.content.iter(e,t)}},{key:"reverseIter",value:function(e,t){return this.content.reverseIter(e,t)}},{key:"chunkBefore",value:function(e){return this.content.chunkBefore(e)}},{key:"chunkAfter",value:function(e){return this.content.chunkAfter(e)}},{key:"forEach",value:function(e){this.content.forEach(e)}},{key:"sameMarkup",value:function(e){return this.hasMarkup(e.type,e.attrs,e.marks)}},{key:"hasMarkup",value:function(t,n,r){return this.type==t&&e.sameAttrs(this.attrs,n||d)&&f.Mark.sameSet(this.marks,r||h)}},{key:"copy",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return new this.constructor(this.type,this.attrs,e,this.marks)}},{key:"mark",value:function(e){return new this.constructor(this.type,this.attrs,this.content,e)}},{key:"slice",value:function(e,t){return this.copy(this.content.slice(e,t))}},{key:"splice",value:function(e,t,n){return this.copy(this.content.slice(0,e).append(n).append(this.content.slice(t)))}},{key:"append",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return this.copy(this.content.append(e,t,n))}},{key:"replace",value:function(e,t){return this.copy(this.content.replace(e,t))}},{key:"replaceDeep",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(n==e.length)return t;var r=e[n];return this.replace(r,this.child(r).replaceDeep(e,t,n+1))}},{key:"close",value:function(e,t){if(0==e&&0==this.size&&!this.type.canBeEmpty)return this.copy(this.type.defaultContent());var n=void 0;return e>0&&(n=this.content.close(e-1,t))!=this.content?this.copy(n):this}},{key:"path",value:function(e){for(var t=0,n=this;t<e.length;n=n.child(e[t]),t++);return n}},{key:"nodeAfter",value:function(e){var t=this.path(e.path);return e.offset<t.size?t.child(e.offset):null}},{key:"pathNodes",value:function(e){for(var t=[],n=0,r=this;t.push(r),n!=e.length;n++)r=r.child(e[n]);return t}},{key:"siblingRange",value:function(e,t){for(var n=0,r=this;;n++){if(r.isTextblock){var o=e.path.slice(0,n-1),i=e.path[n-1];return{from:new p.Pos(o,i),to:new p.Pos(o,i+1)}}var s=n==e.path.length,a=n==t.path.length,u=s?e.offset:e.path[n],l=a?t.offset:t.path[n];if(s||a||u!=l){var o=e.path.slice(0,n);return{from:new p.Pos(o,u),to:new p.Pos(o,l+(a?0:1))}}r=r.child(u)}}},{key:"nodesBetween",value:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],o=arguments.length<=4||void 0===arguments[4]?null:arguments[4];n(this,r,o)!==!1&&this.content.nodesBetween(e,t,n,r,this)}},{key:"inlineNodesBetween",value:function(e,t,n){this.nodesBetween(e,t,function(e,t,r){if(e.isInline){var o=t.length-1;n(e,t.slice(0,o),t[o],t[o]+e.width,r)}})}},{key:"sliceBetween",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return this.copy(this.content.sliceBetween(e,t,n))}},{key:"marksAt",value:function(e){var t=this.path(e.path);return t.isTextblock&&t.size?t.chunkBefore(e.offset||1).node.marks:h}},{key:"rangeHasMark",value:function(e,t,n){var r=!1;return this.nodesBetween(e,t,function(e){n.isInSet(e.marks)&&(r=!0)}),r}},{key:"toString",value:function(){var e=this.type.name;return this.content.size&&(e+="("+this.content.toString()+")"),s(this.marks,e)}},{key:"toJSON",value:function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(function(e){return e.toJSON()})),e}},{key:"size",get:function(){return this.content.size}},{key:"width",get:function(){return 1}},{key:"textContent",get:function(){return this.content.textContent}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"value",get:function(){return this}}],[{key:"sameAttrs",value:function(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},{key:"fromJSON",value:function(e,t){var n=e.nodeType(t.type),r=null!=t.text?t.text:c.Fragment.fromJSON(e,t.content);return n.create(t.attrs,r,t.marks&&t.marks.map(e.markFromJSON))}}]),e}();t.Node=m,"undefined"!=typeof Symbol&&(m.prototype[Symbol.iterator]=function(){return this.iter()});t.TextNode=function(e){function t(e,n,o,s){i(this,t);var a=r(this,Object.getPrototypeOf(t).call(this,e,n,null,s));return a.text=o,a}return o(t,e),l(t,[{key:"toString",value:function(){return s(this.marks,JSON.stringify(this.text))}},{key:"mark",value:function(e){return new t(this.type,this.attrs,this.text,e)}},{key:"toJSON",value:function(){var e=u(Object.getPrototypeOf(t.prototype),"toJSON",this).call(this);return e.text=this.text,e}},{key:"textContent",get:function(){return this.text}},{key:"width",get:function(){return this.text.length}}]),t}(m)},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":s(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.emptyFragment=t.Fragment=void 0;var u=n(356),l=t.Fragment=function(){function e(){i(this,e)}return a(e,[{key:"append",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return this.size?e.size?this.appendInner(e,t,n):t?this.replace(this.size-1,this.lastChild.close(t-1,"end")):this:n?e.replace(0,e.firstChild.close(n-1,"start")):e}},{key:"toString",value:function(){var e="";return this.forEach(function(t){return e+=(e?", ":"")+t.toString()}),e}},{key:"toArray",value:function(){for(var e,t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?this.size:arguments[1],r=arguments[2],o=[],i=this.iter(t,n);e=i.next().value;)o.push(r?r(e):e);return o}},{key:"map",value:function(t){return e.fromArray(this.toArray(void 0,void 0,t))}},{key:"some",value:function(e){for(var t,n=this.iter();t=n.next().value;)if(e(t))return t}},{key:"close",value:function(e,t){var n="start"==t?this.firstChild:this.lastChild,r=n.close(e-1,t);return r==n?this:this.replace("start"==t?0:this.size-1,r)}},{key:"nodesBetween",value:function(e,t,n,r,o){for(var i,s=e&&e.depth>r.length,a=t&&t.depth>r.length,u=s?e.path[r.length]:e?e.offset:0,l=a?t.path[r.length]+1:t?t.offset:this.size,c=this.iter(u,l);i=c.next().value;){var f=c.offset-i.width;r.push(f),i.nodesBetween(s&&f==u?e:null,a&&c.offset==l?t:null,n,r,o),r.pop()}}},{key:"sliceBetween",value:function(e,t){for(var n,r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],o=e&&e.depth>r,i=t&&t.depth>r,s=o?e.path[r]:e?e.offset:0,a=i?t.path[r]+1:t?t.offset:this.size,u=[],l=this.iter(s,a);n=l.next().value;){var c=o&&l.offset-n.width==s?e:null,f=i&&l.offset==a?t:null;
(c||f)&&(n=n.sliceBetween(c,f,r+1)),u.push(n)}return new this.constructor(u)}},{key:"textContent",get:function(){var e="";return this.forEach(function(t){return e+=t.textContent}),e}}],[{key:"fromJSON",value:function(e,t){return t?this.fromArray(t.map(e.nodeFromJSON)):d}},{key:"fromArray",value:function(e){if(!e.length)return d;for(var t=!1,n=void 0,r=0;r<e.length;r++){var o=e[r];o.isText&&(t=!0,r&&e[r-1].sameMarkup(o))?(n||(n=e.slice(0,r)),n[n.length-1]=o.copy(n[n.length-1].text+o.text)):n&&n.push(o)}return t?new g(n||e):new h(e)}},{key:"from",value:function(t){return t?t instanceof e?t:this.fromArray(Array.isArray(t)?t:[t]):d}}]),e}(),c={done:!0},f=function(){function e(t,n,r){i(this,e),this.array=t,this.pos=n,this.end=r}return a(e,[{key:"copy",value:function(){return new this.constructor(this.array,this.pos,this.end)}},{key:"atEnd",value:function(){return this.pos==this.end}},{key:"next",value:function(){return this.pos==this.end?c:this.array[this.pos++]}},{key:"offset",get:function(){return this.pos}}]),e}(),p=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"next",value:function(){return this.pos==this.end?c:this.array[--this.pos]}}]),t}(f),h=function(e){function t(e){i(this,t);var n=r(this,Object.getPrototypeOf(t).call(this));return n.content=e,n}return o(t,e),a(t,[{key:"iter",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.size:arguments[1];return new f(this.content,e,t)}},{key:"reverseIter",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.size:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return new p(this.content,e,t)}},{key:"child",value:function(e){return(0>e||e>=this.content.length)&&u.ModelError.raise("Offset "+e+" out of range"),this.content[e]}},{key:"forEach",value:function(e){for(var t=0;t<this.content.length;t++)e(this.content[t],t,t+1)}},{key:"chunkBefore",value:function(e){return{node:this.child(e-1),start:e-1}}},{key:"chunkAfter",value:function(e){return{node:this.child(e),start:e}}},{key:"slice",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?this.size:arguments[1];return e==n?d:new t(this.content.slice(e,n))}},{key:"replace",value:function(e,n){n.isText&&u.ModelError.raise("Argument to replace should be a non-text node");var r=this.content.slice();return r[e]=n,new t(r)}},{key:"appendInner",value:function(e,t,n){var r=this.content.length-1,o=this.content.slice(0,r),i=this.content[r],s=e.firstChild;return t>0&&n>0&&i.sameMarkup(s)?o.push(i.append(s.content,t-1,n-1)):o.push(i.close(t-1,"end"),s.close(n-1,"start")),l.fromArray(o.concat(e.toArray(s.width)))}},{key:"toJSON",value:function(){return this.content.map(function(e){return e.toJSON()})}},{key:"size",get:function(){return this.content.length}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}}]),t}(l),d=t.emptyFragment=new h([]),m=function(){function e(t,n,r){var o=arguments.length<=3||void 0===arguments[3]?-1:arguments[3];i(this,e),this.frag=t,this.offset=n,this.pos=o,this.endOffset=r}return a(e,[{key:"copy",value:function(){return new this.constructor(this.frag,this.offset,this.endOffset,this.pos)}},{key:"atEnd",value:function(){return this.offset==this.endOffset}},{key:"next",value:function(){if(-1==this.pos){var e=this.init();if(e)return e}return this.offset==this.endOffset?c:this.advance()}},{key:"advance",value:function(){var e=this.frag.content[this.pos++],t=this.offset+e.width;return t>this.endOffset?(e=e.copy(e.text.slice(0,this.endOffset-this.offset)),this.offset=this.endOffset,e):(this.offset=t,e)}},{key:"init",value:function(){this.pos=0;for(var e=0;e<this.offset;){var t=this.frag.content[this.pos++],n=e+t.width;if(n==this.offset)break;if(n>this.offset){var r=t.width;return n>this.endOffset&&(r=this.endOffset-e,n=this.endOffset),t=t.copy(t.text.slice(this.offset-e,r)),this.offset=n,t}e=n}}}]),e}(),v=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"advance",value:function(){var e=this.frag.content[--this.pos],t=this.offset-e.width;return t<this.endOffset?(e=e.copy(e.text.slice(this.endOffset-t)),this.offset=this.endOffset,e):(this.offset=t,e)}},{key:"init",value:function(){this.pos=this.frag.content.length;for(var e=this.frag.size;e>this.offset;){var t=this.frag.content[--this.pos],n=e-t.width;if(n==this.offset)break;if(n<this.offset)return n<this.endOffset?(t=t.copy(t.text.slice(this.endOffset-n,this.offset-n)),n=this.endOffset):t=t.copy(t.text.slice(0,this.offset-n)),this.offset=n,t;e=n}}}]),t}(m),g=function(e){function t(e,n){i(this,t);var o=r(this,Object.getPrototypeOf(t).call(this));if(o.content=e,o.size=n||0,null==n)for(var s=0;s<e.length;s++)o.size+=e[s].width;return o}return o(t,e),a(t,[{key:"iter",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.size:arguments[1];return new m(this,e,t)}},{key:"reverseIter",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.size:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return new v(this,e,t)}},{key:"child",value:function n(e){(0>e||e>=this.size)&&u.ModelError.raise("Offset "+e+" out of range");for(var t=0,r=0;t<this.content.length;t++){var n=this.content[t];if(r+=n.width,r>e)return n}}},{key:"forEach",value:function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,n+=r.width)}}},{key:"chunkBefore",value:function(e){e||u.ModelError.raise("No chunk before start of node");for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t],o=n+r.width;if(o>=e)return{node:r,start:n};n=o}}},{key:"chunkAfter",value:function(e){e==this.size&&u.ModelError.raise("No chunk after end of node");for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t],o=n+r.width;if(o>e)return{node:r,start:n};n=o}}},{key:"slice",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?this.size:arguments[1];return e==n?d:new t(this.toArray(e,n))}},{key:"replace",value:function(e,n){n.isText&&u.ModelError.raise("Argument to replace should be a non-text node");for(var r=void 0,o=void 0,i=0;e>i;o++)r=this.content[o],i+=r.width;r.isText&&u.ModelError.raise("Can not replace text content with replace method");var s=this.content.slice();return s[o]=n,new t(s)}},{key:"appendInner",value:function(e,t,n){var r=this.content.length-1,o=this.content.slice(0,r),i=this.content[r],s=e.firstChild,a=i.sameMarkup(s);return a&&i.isText?o.push(i.copy(i.text+s.text)):a&&t>0&&n>0?o.push(i.append(s.content,t-1,n-1)):o.push(i.close(t-1,"end"),s.close(n-1,"start")),l.fromArray(o.concat(e.toArray(s.width)))}},{key:"toJSON",value:function(){return this.content.map(function(e){return e.toJSON()})}},{key:"firstChild",get:function(){return this.size?this.content[0]:null}},{key:"lastChild",get:function(){return this.size?this.content[this.content.length-1]:null}}]),t}(l);"undefined"!=typeof Symbol&&(l.prototype[Symbol.iterator]=function(){return this.iter()},f.prototype[Symbol.iterator]=m.prototype[Symbol.iterator]=function(){return this})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":s(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.ModelError=void 0;var a=n(357);t.ModelError=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),t}(a.ProseMirrorError)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":s(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=/^function (\w+)/.exec(e.toString());return t&&t[1]}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=t.ProseMirrorError=function(e){function t(e){n(this,t);var o=r(this,Object.getPrototypeOf(t).call(this,e));return o.message!=e&&(o.message=e,Error.captureStackTrace?Error.captureStackTrace(o,o.name):o.stack=new Error(e).stack),o}return o(t,e),a(t,[{key:"name",get:function(){return this.constructor.name||i(this.constructor)||"ProseMirrorError"}}],[{key:"raise",value:function(e){throw new this(e)}}]),t}(Error);t.AssertionError=function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),t}(u),t.NamespaceError=function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),t}(u)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=(t.Mark=function(){function e(t,r){n(this,e),this.type=t,this.attrs=r}return r(e,[{key:"toJSON",value:function(){var e={_:this.type.name};for(var t in this.attrs)e[t]=this.attrs[t];return e}},{key:"addToSet",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.type==this.type)return this.eq(n)?e:e.slice(0,t).concat(this).concat(e.slice(t+1));if(n.type.rank>this.type.rank)return e.slice(0,t).concat(this).concat(e.slice(t))}return e.concat(this)}},{key:"removeFromSet",value:function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}},{key:"isInSet",value:function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}},{key:"eq",value:function(e){if(this==e)return!0;if(this.type!=e.type)return!1;for(var t in this.attrs)if(e.attrs[t]!=this.attrs[t])return!1;return!0}}],[{key:"sameSet",value:function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}},{key:"setFrom",value:function(t){if(!t||0==t.length)return o;if(t instanceof e)return[t];var n=t.slice();return n.sort(function(e,t){return e.type.rank-t.type.rank}),n}}]),e}(),[])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Pos=void 0;var i=n(356);t.Pos=function(){function e(t,n){r(this,e),this.path=t,this.offset=n}return o(e,[{key:"toString",value:function(){return this.path.join("/")+":"+this.offset}},{key:"max",value:function(e){return this.cmp(e)>0?this:e}},{key:"min",value:function(e){return this.cmp(e)<0?this:e}},{key:"cmp",value:function(t){return t==this?0:e.cmp(this.path,this.offset,t.path,t.offset)}},{key:"shorten",value:function(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return t>=this.depth?this:e.shorten(this.path,t,n)}},{key:"move",value:function(t){return new e(this.path,this.offset+t)}},{key:"toPath",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return this.path.concat(this.offset+e)}},{key:"extend",value:function(t){for(var n=this.path.slice(),r=this.offset,o=0;o<t.path.length;o++)n.push(t.path[o]+r),r=0;return new e(n,t.offset+r)}},{key:"isValid",value:function(e,t){for(var n=0,r=e;;n++){if(n==this.path.length)return t&&!r.isTextblock?!1:this.offset<=r.size;var o=this.path[n];if(o>=r.size)return!1;r=r.child(o)}}},{key:"toJSON",value:function(){return this}},{key:"depth",get:function(){return this.path.length}}],[{key:"cmp",value:function(e,t,n,r){for(var o=e.length,i=n.length,s=0,a=Math.min(o,i);a>s;s++){var u=e[s]-n[s];if(0!=u)return u}return o>i?r<=e[s]?1:-1:i>o?t<=n[s]?-1:1:t-r}},{key:"samePath",value:function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}},{key:"shorten",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return null==n&&(n=t.length-1),new e(t.slice(0,n),t[n]+r)}},{key:"from",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return t.length||i.ModelError.raise("Can't create a pos from an empty array"),new e(t.slice(0,t.length-1),t[t.length-1]+n)}},{key:"fromJSON",value:function(t){return new e(t.path,t.offset)}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=(0,h.copyObj)(e);for(var r in t){var o=t[r];null==o?delete n[r]:n[r]=o}return n}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function x(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:x(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Schema=t.SchemaSpec=t.MarkType=t.Attribute=t.Text=t.Inline=t.Textblock=t.Block=t.NodeType=t.SchemaError=void 0;var c=n(354),f=n(355),p=n(358),h=n(361),d=n(357),m=t.SchemaError=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),t}(d.ProseMirrorError),v=function(){function e(){r(this,e)}return l(e,[{key:"getDefaultAttrs",value:function(){var e=Object.create(null);for(var t in this.attrs){var n=this.attrs[t];if(null==n["default"])return null;e[t]=n["default"]}return e}},{key:"computeAttrs",value:function(e,t){var n=Object.create(null);for(var r in this.attrs){var o=e&&e[r];if(null==o){var i=this.attrs[r];null!=i["default"]?o=i["default"]:i.compute?o=i.compute(this,t):m.raise("No value supplied for attribute "+r)}n[r]=o}return n}},{key:"freezeAttrs",value:function(){var e=Object.create(null);for(var t in this.attrs)e[t]=this.attrs[t];Object.defineProperty(this,"attrs",{value:e})}},{key:"attrs",get:function(){return{}}}],[{key:"updateAttrs",value:function(e){Object.defineProperty(this.prototype,"attrs",{value:s(this.prototype.attrs,e)})}},{key:"getRegistry",value:function(){return this==e?null:(this.prototype.hasOwnProperty("registry")||(this.prototype.registry=Object.create(Object.getPrototypeOf(this).getRegistry())),this.prototype.registry)}},{key:"getNamespace",value:function(t){if(this==e)return null;var n=this.getRegistry();return Object.prototype.hasOwnProperty.call(n,t)||(n[t]=Object.create(Object.getPrototypeOf(this).getNamespace(t))),n[t]}},{key:"register",value:function(e,t,n){this.getNamespace(e)[t]=function(){return n}}},{key:"registerComputed",value:function(e,t,n){this.getNamespace(e)[t]=n}},{key:"cleanNamespace",value:function(e){this.getNamespace(e).__proto__=null}}]),e}(),g=t.NodeType=function(e){function t(e,n,i){r(this,t);var s=o(this,Object.getPrototypeOf(t).call(this));return s.name=e,s.kind=n,s.freezeAttrs(),s.defaultAttrs=s.getDefaultAttrs(),s.schema=i,s}return i(t,e),l(t,[{key:"canContainFragment",value:function(e){var t=this,n=!0;return e.forEach(function(e){t.canContain(e)||(n=!1)}),n}},{key:"canContain",value:function(e){if(!this.canContainType(e.type))return!1;for(var t=0;t<e.marks.length;t++)if(!this.canContainMark(e.marks[t]))return!1;return!0}},{key:"canContainMark",value:function(e){var t=this.containsMarks;if(t===!0)return!0;if(t)for(var n=0;n<t.length;n++)if(t[n]==e.name)return!0;return!1}},{key:"canContainType",value:function(e){return this.schema.subKind(e.kind,this.contains)}},{key:"canContainContent",value:function(e){return this.schema.subKind(e.contains,this.contains)}},{key:"findConnection",value:function(e){if(this.canContainType(e))return[];for(var t=Object.create(null),n=[{from:this,via:[]}];n.length;){var r=n.shift();for(var o in this.schema.nodes){var i=this.schema.nodes[o];if(i.defaultAttrs&&!(i.contains in t)&&r.from.canContainType(i)){var s=r.via.concat(i);if(i.canContainType(e))return s;n.push({from:i,via:s}),t[i.contains]=!0}}}}},{key:"computeAttrs",value:function(e,n){return!e&&this.defaultAttrs?this.defaultAttrs:u(Object.getPrototypeOf(t.prototype),"computeAttrs",this).call(this,e,n)}},{key:"create",value:function(e,t,n){return new c.Node(this,this.computeAttrs(e,t),f.Fragment.from(t),p.Mark.setFrom(n))}},{key:"createAutoFill",value:function(e,t,n){return t&&0!=t.length||this.canBeEmpty||(t=this.defaultContent()),this.create(e,t,n)}},{key:"isBlock",get:function(){return!1}},{key:"isTextblock",get:function(){return!1}},{key:"isInline",get:function(){return!1}},{key:"isText",get:function(){return!1}},{key:"selectable",get:function(){return!0}},{key:"draggable",get:function(){return!1}},{key:"locked",get:function(){return!1}},{key:"contains",get:function(){return null}},{key:"canBeEmpty",get:function(){return!0}},{key:"containsMarks",get:function(){return!1}}],[{key:"compile",value:function(e,t){var n=Object.create(null);for(var r in e){for(var o=e[r],i=o.kinds.split(" "),s=0;s<i.length;s++)t.registerKind(i[s],s?i[s-1]:null);n[r]=new o(r,i[i.length-1],t)}for(var r in n){var a=n[r].contains;!a||a in t.kinds||m.raise("Node type "+r+" is specified to contain non-existing kind "+a)}return n.doc||m.raise("Every schema needs a 'doc' type"),n.text||m.raise("Every schema needs a 'text' type"),n}},{key:"kinds",get:function(){return"node"}}]),t}(v),y=t.Block=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"defaultContent",value:function(){var e=this.schema.defaultTextblockType().create(),t=this.findConnection(e.type);t||m.raise("Can't create default content for "+this.name);for(var n=t.length-1;n>=0;n--)e=t[n].create(null,e);return f.Fragment.from(e)}},{key:"contains",get:function(){return"block"}},{key:"isBlock",get:function(){return!0}},{key:"canBeEmpty",get:function(){return null==this.contains}}],[{key:"kinds",get:function(){return"block"}}]),t}(g),b=(t.Textblock=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"contains",get:function(){return"inline"}},{key:"containsMarks",get:function(){return!0}},{key:"isTextblock",get:function(){return!0}},{key:"canBeEmpty",get:function(){return!0}}]),t}(y),t.Inline=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"isInline",get:function(){return!0}}],[{key:"kinds",get:function(){return"inline"}}]),t}(g)),k=(t.Text=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"create",value:function(e,t,n){return new c.TextNode(this,this.computeAttrs(e,t),t,n)}},{key:"selectable",get:function(){return!1}},{key:"isText",get:function(){return!0}}],[{key:"kinds",get:function(){return u(Object.getPrototypeOf(t),"kinds",this)+" text"}}]),t}(b),t.Attribute=function _(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,_),this["default"]=e["default"],this.compute=e.compute,this.label=e.label},t.MarkType=function(e){function t(e,n,i){r(this,t);var s=o(this,Object.getPrototypeOf(t).call(this));s.name=e,s.freezeAttrs(),s.rank=n,s.schema=i;var a=s.getDefaultAttrs();return s.instance=a&&new p.Mark(s,a),s}return i(t,e),l(t,[{key:"create",value:function(e){return!e&&this.instance?this.instance:new p.Mark(this,this.computeAttrs(e))}},{key:"removeFromSet",value:function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e.slice(0,t).concat(e.slice(t+1));return e}},{key:"isInSet",value:function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]}}],[{key:"getOrder",value:function(e){var t=[];for(var n in e)t.push({name:n,rank:e[n].rank});t.sort(function(e,t){return e.rank-t.rank});for(var r=Object.create(null),o=0;o<t.length;o++)r[t[o].name]=o;return r}},{key:"compile",value:function(e,t){var n=this.getOrder(e),r=Object.create(null);for(var o in e)r[o]=new e[o](o,n[o],t);return r}},{key:"rank",get:function(){return 50}}]),t}(v)),w=(t.SchemaSpec=function(){function e(t,n){r(this,e),this.nodes=t||{},this.marks=n||{}}return l(e,[{key:"update",value:function(t,n){return new e(t?s(this.nodes,t):this.nodes,n?s(this.marks,n):this.marks)}}]),e}(),function(){function e(t){r(this,e),this.spec=t,this.kinds=Object.create(null),this.nodes=g.compile(t.nodes,this),this.marks=k.compile(t.marks,this);for(var n in this.nodes)n in this.marks&&m.raise(n+" can not be both a node and a mark");this.cached=Object.create(null),this.node=this.node.bind(this),this.text=this.text.bind(this),this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this)}return l(e,[{key:"node",value:function(e,t,n,r){return"string"==typeof e?e=this.nodeType(e):e instanceof g?e.schema!=this&&m.raise("Node type from different schema used ("+e.name+")"):m.raise("Invalid node type: "+e),e.create(t,n,r)}},{key:"text",value:function(e,t){return this.nodes.text.create(null,e,p.Mark.setFrom(t))}},{key:"defaultTextblockType",value:function(){var e=this.cached.defaultTextblockType;if(void 0!==e)return e;for(var t in this.nodes)if(this.nodes[t].defaultTextblock)return this.cached.defaultTextblockType=this.nodes[t];return this.cached.defaultTextblockType=null}},{key:"mark",value:function(e,t){var n=this.marks[e]||m.raise("No mark named "+e);return n.create(t)}},{key:"nodeFromJSON",value:function(e){return c.Node.fromJSON(this,e)}},{key:"markFromJSON",value:function(e){var t=this.marks[e._],n=null;for(var r in e)"_"!=r&&(n||(n=Object.create(null)),n[r]=e[r]);return n?t.create(n):t.instance}},{key:"nodeType",value:function(e){return this.nodes[e]||m.raise("Unknown node type: "+e)}},{key:"registerKind",value:function(e,t){if(e in this.kinds){if(this.kinds[e]==t)return;m.raise("Inconsistent superkinds for kind "+e+": "+t+" and "+this.kinds[e])}this.subKind(e,t)&&m.raise("Conflicting kind hierarchy through "+e+" and "+t),this.kinds[e]=t}},{key:"subKind",value:function(e,t){for(;;){if(e==t)return!0;if(e=this.kinds[e],!e)return!1}}},{key:"registry",value:function t(e,n){for(var r=0;2>r;r++){var o=r?this.marks:this.nodes;for(var i in o){var s=o[i],t=s.registry,a=t&&t[e];if(a)for(var u in a){var l=a[u](s);null!=l&&n(u,l,s,i)}}}}}]),e}());t.Schema=w},function(e,t){"use strict";function n(e,t){var n=t||Object.create(null);for(var r in e)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.copyObj=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":s(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSchema=t.CodeMark=t.LinkMark=t.StrongMark=t.EmMark=t.HardBreak=t.Image=t.Paragraph=t.CodeBlock=t.Heading=t.HorizontalRule=t.ListItem=t.BulletList=t.OrderedList=t.BlockQuote=t.Doc=void 0;var u=n(360),l=t.Doc=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,null,[{key:"kinds",get:function(){return"doc"}}]),t}(u.Block),c=t.BlockQuote=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),t}(u.Block),f=t.OrderedList=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"contains",get:function(){return"list_item"}},{key:"attrs",get:function(){return{order:new u.Attribute({"default":"1"})}}}]),t}(u.Block),p=t.BulletList=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"contains",get:function(){return"list_item"}}]),t}(u.Block),h=t.ListItem=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,null,[{key:"kinds",get:function(){return"list_item"}}]),t}(u.Block),d=t.HorizontalRule=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"contains",get:function(){return null}}]),t}(u.Block),m=t.Heading=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"attrs",get:function(){return{level:new u.Attribute({"default":"1"})}}},{key:"maxLevel",get:function(){return 6}}]),t}(u.Textblock),v=t.CodeBlock=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"contains",get:function(){return"text"}},{key:"containsMarks",get:function(){return!1}},{key:"isCode",get:function(){return!0}}]),t}(u.Textblock),g=t.Paragraph=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"defaultTextblock",get:function(){return!0}}]),t}(u.Textblock),y=t.Image=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"attrs",get:function(){return{src:new u.Attribute,alt:new u.Attribute({"default":""}),title:new u.Attribute({"default":""})}}},{key:"draggable",get:function(){return!0}}]),t}(u.Inline),b=t.HardBreak=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"selectable",get:function(){return!1}},{key:"isBR",get:function(){return!0}}]),t}(u.Inline),k=t.EmMark=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,null,[{key:"rank",get:function(){return 51}}]),t}(u.MarkType),w=t.StrongMark=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,null,[{key:"rank",get:function(){return 52}}]),t}(u.MarkType),x=t.LinkMark=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"attrs",get:function(){return{href:new u.Attribute,title:new u.Attribute({"default":""})}}}],[{key:"rank",get:function(){return 25}}]),t}(u.MarkType),_=t.CodeMark=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"isCode",get:function(){return!0}}],[{key:"rank",get:function(){return 101}}]),t}(u.MarkType),C=new u.SchemaSpec({doc:l,blockquote:c,ordered_list:f,bullet_list:p,list_item:h,horizontal_rule:d,paragraph:g,heading:m,code_block:v,text:u.Text,image:y,hard_break:b},{em:k,strong:w,link:x,code:_});t.defaultSchema=new u.Schema(C)},function(e,t,n){"use strict";function r(e,t){for(var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],o=e.iter(),s=t.iter(),a=0;;){if(o.atEnd()||s.atEnd()){if(e.size==t.size)return null;break}var u=o.next(),l=s.next();if(u!=l){if(!u.sameMarkup(l))break;if(u.isText&&u.text!=l.text){for(var c=0;u.text[c]==l.text[c];c++)a++;break}if(u.size||l.size){n.push(a);var f=r(u.content,l.content,n);if(f)return f;n.pop()}a+=u.width}else a+=u.width}return new i.Pos(n,a)}function o(e,t){for(var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],s=e.reverseIter(),a=t.reverseIter(),u=e.size,l=t.size;;){if(s.atEnd()||a.atEnd()){if(e.size==t.size)return null;break}var c=s.next(),f=a.next();if(c!=f){if(!c.sameMarkup(f))break;if(c.isText&&c.text!=f.text){for(var p=0,h=Math.min(c.text.length,f.text.length);h>p&&c.text[c.text.length-p-1]==f.text[f.text.length-p-1];)p++,u--,l--;break}if(u-=c.width,l-=f.width,c.size||f.size){n.push(u),r.push(l);var d=o(c.content,f.content,n,r);if(d)return d;n.pop(),r.pop()}}else u-=c.width,l-=f.width}return{a:new i.Pos(n,u),b:new i.Pos(r,l)}}Object.defineProperty(t,"__esModule",{value:!0}),t.findDiffStart=r,t.findDiffEnd=o;var i=n(359)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Remapping=t.MapResult=t.PosMap=t.joinableBlocks=t.joinPoint=t.canWrap=t.canLift=t.StepResult=t.Step=t.Transform=void 0;var r=n(365);Object.defineProperty(t,"Transform",{enumerable:!0,get:function(){return r.Transform}});var o=n(366);Object.defineProperty(t,"Step",{enumerable:!0,get:function(){return o.Step}}),Object.defineProperty(t,"StepResult",{enumerable:!0,get:function(){
return o.StepResult}});var i=n(368);Object.defineProperty(t,"canLift",{enumerable:!0,get:function(){return i.canLift}}),Object.defineProperty(t,"canWrap",{enumerable:!0,get:function(){return i.canWrap}});var s=n(370);Object.defineProperty(t,"joinPoint",{enumerable:!0,get:function(){return s.joinPoint}}),Object.defineProperty(t,"joinableBlocks",{enumerable:!0,get:function(){return s.joinableBlocks}});var a=n(367);Object.defineProperty(t,"PosMap",{enumerable:!0,get:function(){return a.PosMap}}),Object.defineProperty(t,"MapResult",{enumerable:!0,get:function(){return a.MapResult}}),Object.defineProperty(t,"Remapping",{enumerable:!0,get:function(){return a.Remapping}}),n(371),n(372),n(373)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Transform=void 0;var i=n(366),s=n(367),a=function(){function e(t){r(this,e),this.steps=[],this.docs=[t],this.maps=[]}return o(e,[{key:"step",value:function(e,t,n,r,o){"string"==typeof e&&(e=new i.Step(e,t,n,r,o));var s=e.apply(this.doc);return s&&(this.steps.push(e),this.maps.push(s.map),this.docs.push(s.doc)),s}},{key:"map",value:function(e,t){for(var n=!1,r=0;r<this.maps.length;r++){var o=this.maps[r].map(e,t);e=o.pos,o.deleted&&(n=!0)}return new s.MapResult(e,n)}},{key:"doc",get:function(){return this.docs[this.docs.length-1]}},{key:"before",get:function(){return this.docs[0]}}]),e}();t.Transform=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StepResult=t.Step=void 0;var i=n(353),s=n(357),a=n(367),u=(t.Step=function(){function e(t,n,o,i){var a=arguments.length<=4||void 0===arguments[4]?null:arguments[4];r(this,e),t in u||s.NamespaceError.raise("Unknown step type: "+t),this.type=t,this.from=n,this.to=o,this.pos=i,this.param=a}return o(e,[{key:"apply",value:function(e){return u[this.type].apply(e,this)}},{key:"invert",value:function(e,t){return u[this.type].invert(this,e,t)}},{key:"map",value:function(t){var n=!0,r=null,o=null,i=null;if(this.from){var s=t.map(this.from,1);r=s.pos,s.deleted||(n=!1)}if(this.to)if(0==this.to.cmp(this.from))o=r;else{var s=t.map(this.to,-1);o=s.pos.max(r),s.deleted||(n=!1)}if(this.pos)if(r&&0==this.pos.cmp(this.from))i=r;else if(o&&0==this.pos.cmp(this.to))i=o;else{var s=t.map(this.pos,1);i=s.pos,s.deleted||(n=!1)}return n?null:new e(this.type,r,o,i,this.param)}},{key:"toJSON",value:function(){var e=u[this.type];return{type:this.type,from:this.from,to:this.to,pos:this.pos,param:e.paramToJSON?e.paramToJSON(this.param):this.param}}}],[{key:"fromJSON",value:function(t,n){var r=u[n.type];return new e(n.type,n.from&&i.Pos.fromJSON(n.from),n.to&&i.Pos.fromJSON(n.to),n.pos&&i.Pos.fromJSON(n.pos),r.paramFromJSON?r.paramFromJSON(t,n.param):n.param)}},{key:"define",value:function(e,t){u[e]=t}}]),e}(),t.StepResult=function l(e){var t=arguments.length<=1||void 0===arguments[1]?a.nullMap:arguments[1];r(this,l),this.doc=e,this.map=t},Object.create(null))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(t.path.length>e.path.length){for(var n=[t.path[e.path.length]-e.offset],r=e.path.length+1;r<t.path.length;r++)n.push(t.path[r]);return new a.Pos(n,t.offset)}return new a.Pos([],t.offset-e.offset)}function i(e,t){for(var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],r=arguments[3],i=0;i<e.replaced.length;i++){var s=e.replaced[i],u=r?s.after:s.before,l=void 0,c=void 0;if((l=t.cmp(u.from))>=0&&(c=t.cmp(u.to))<=0){var p=r?s.before:s.after;return new f(0>n?p.from:p.to,!(!l||!c),{rangeID:i,offset:o(u.ref,t)})}}for(var i=0;i<e.moved.length;i++){var s=e.moved[i],h=r?s.dest:s.start;if(t.cmp(h)>=0&&a.Pos.cmp(t.path,t.offset,h.path,h.offset+s.size)<=0){var d=r?s.start:s.dest,m=h.depth;if(t.depth>m){var v=d.offset+(t.path[m]-h.offset);return new f(new a.Pos(d.path.concat(v).concat(t.path.slice(m+1)),t.offset))}return new f(new a.Pos(d.path,d.offset+(t.offset-h.offset)))}}return new f(t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Remapping=t.nullMap=t.MapResult=t.PosMap=t.ReplacedRange=t.MovedRange=void 0;var a=n(353),u=(t.MovedRange=function(){function e(t,n){var o=arguments.length<=2||void 0===arguments[2]?null:arguments[2];r(this,e),this.start=t,this.size=n,this.dest=o}return s(e,[{key:"toString",value:function(){return"[moved "+this.start+"+"+this.size+" to "+this.dest+"]"}},{key:"end",get:function(){return new a.Pos(this.start.path,this.start.offset+this.size)}}]),e}(),function h(e,t,n){r(this,h),this.from=e,this.to=t,this.ref=n}),l=(t.ReplacedRange=function(){function e(t,n,o,i){var s=arguments.length<=4||void 0===arguments[4]?t:arguments[4],a=arguments.length<=5||void 0===arguments[5]?o:arguments[5];r(this,e),this.before=new u(t,n,s),this.after=new u(o,i,a)}return s(e,[{key:"toString",value:function(){return"[replaced "+this.before.from+"-"+this.before.to+" with "+this.after.from+"-"+this.after.to+"]"}}]),e}(),[]),c=t.PosMap=function(){function e(t,n){r(this,e),this.moved=t||l,this.replaced=n||l}return s(e,[{key:"recover",value:function(e){return this.replaced[e.rangeID].after.ref.extend(e.offset)}},{key:"map",value:function(e,t){return i(this,e,t,!1)}},{key:"invert",value:function(){return new p(this)}},{key:"toString",value:function(){return this.moved.concat(this.replaced).join(" ")}}]),e}(),f=t.MapResult=function d(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];r(this,d),this.pos=e,this.deleted=t,this.recover=n},p=function(){function e(t){r(this,e),this.inner=t}return s(e,[{key:"recover",value:function(e){return this.inner.replaced[e.rangeID].before.ref.extend(e.offset)}},{key:"map",value:function(e,t){return i(this.inner,e,t,!0)}},{key:"invert",value:function(){return this.inner}},{key:"toString",value:function(){return"-"+this.inner}}]),e}();t.nullMap=new c,t.Remapping=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=arguments.length<=2||void 0===arguments[2]?Object.create(null):arguments[2];r(this,e),this.head=t,this.tail=n,this.mirror=o}return s(e,[{key:"addToFront",value:function(e,t){this.head.push(e);var n=-this.head.length;return null!=t&&(this.mirror[n]=t),n}},{key:"addToBack",value:function(e,t){this.tail.push(e);var n=this.tail.length-1;return null!=t&&(this.mirror[t]=n),n}},{key:"get",value:function(e){return 0>e?this.head[-e-1]:this.tail[e]}},{key:"map",value:function t(e,n){for(var r=!1,o=-this.head.length;o<this.tail.length;o++){var t=this.get(o),i=t.map(e,n);if(i.recover){var s=this.mirror[o];if(null!=s){o=s,e=this.get(s).recover(i.recover);continue}}i.deleted&&(r=!0),e=i.pos}return new f(e,r)}}]),e}()},function(e,t,n){"use strict";function r(e,t){for(var n=[e.path(t.from.path)],r=!1;;){for(var o=-1,i=function(e,r){n.some(function(t){return!e.type.canContainContent(t.type)})||(o=r),e=e.child(t.from.path[r]),s=e},s=e,a=0;a<t.from.path.length;a++)i(s,a);if(o>-1)return{path:t.from.path.slice(0,o),unwrap:r};if(r||!n[0].isBlock)return null;n=n[0].content.slice(t.from.offset,t.to.offset),r=!0}}function o(e,t,n){var o=e.siblingRange(t,n||t),i=r(e,o);return i?{found:i,range:o}:void 0}function i(e,t,n,r){var o=e.siblingRange(t,n||t);if(o.from.offset==o.to.offset)return null;var i=e.path(o.from.path),s=i.type.findConnection(r),a=r.findConnection(i.child(o.from.offset).type);return s&&a?{range:o,around:s,inside:a}:void 0}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":s(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.canLift=o,t.canWrap=i;var u=n(353),l=n(365),c=n(366),f=n(369),p=n(367);c.Step.define("ancestor",{apply:function(e,t){var n=t.from,r=t.to;if(!(0,f.isFlatRange)(n,r))return null;for(var o=n.path,i=n.offset,s=r.offset,l=t.param,h=l.depth,d=void 0===h?0:h,m=l.types,v=void 0===m?[]:m,g=l.attrs,y=void 0===g?[]:g,b=e.path(n.path),k=0;d>k;k++){if(i>0||s<e.path(o).size||0==o.length)return null;i=o[o.length-1],s=i+1,o=o.slice(0,o.length-1)}if(0==d&&0==v.length)return null;var w=e.path(o),x=w.size,_=void 0;if(w.type.locked)return null;if(v.length){var C=function(){var e=v[v.length-1],t=b.content.slice(n.offset,r.offset);if(!w.type.canContainType(v[0])||t.some(function(t){return!e.canContain(t)})||!b.size&&!e.canBeEmpty||e.locked)return{v:null};for(var o=null,a=v.length-1;a>=0;a--)o=v[a].create(y[a],o||t);_=w.splice(i,s,u.Fragment.from(o))}();if("object"===("undefined"==typeof C?"undefined":a(C)))return C.v}else{if(!w.type.canContainFragment(b.content)||!b.size&&0==i&&s==w.size&&!w.type.canBeEmpty)return null;_=w.splice(i,s,b.content)}for(var S=e.replaceDeep(o,_),M=o.slice(),k=0;k<v.length;k++)M.push(k?0:i);var A=new u.Pos(M,v.length?0:i),O=null,P=v.length?1:r.offset-n.offset;if(d!=v.length||d>1||v.length>1){var T=new u.Pos(o,i),D=new u.Pos(o,s),E=new u.Pos(o,i+P),j=new u.Pos(M,A.offset+(r.offset-n.offset));O=[new p.ReplacedRange(T,n,T,A),new p.ReplacedRange(r,D,j,E,D,E)]}var z=[new p.MovedRange(n,r.offset-n.offset,A)];return s-i!=P&&z.push(new p.MovedRange(new u.Pos(o,s),x-s,new u.Pos(o,i+P))),new c.StepResult(S,new p.PosMap(z,O))},invert:function(e,t,n){var r=[],o=[];if(e.param.depth)for(var i=0;i<e.param.depth;i++){var s=t.path(e.from.path.slice(0,e.from.path.length-i));r.unshift(s.type),o.unshift(s.attrs)}var a=n.map(e.from).pos,u=e.from.cmp(e.to)?n.map(e.to,-1).pos:a;return new c.Step("ancestor",a,u,null,{depth:e.param.types?e.param.types.length:0,types:r,attrs:o})},paramToJSON:function(e){return{depth:e.depth,types:e.types&&e.types.map(function(e){return e.name}),attrs:e.attrs}},paramFromJSON:function(e,t){return{depth:t.depth,types:t.types&&t.types.map(function(t){return e.nodeType(t)}),attrs:t.attrs}}}),l.Transform.prototype.lift=function(e){var t=arguments.length<=1||void 0===arguments[1]?e:arguments[1],n=o(this.doc,e,t);if(!n)return this;for(var r=n.found,i=n.range,s=i.from.path.length-r.path.length,a=r.unwrap&&this.doc.path(i.from.path),l=0,c=i.to;;l++){if(c.offset<this.doc.path(c.path).size){this.split(c,s-l);break}if(l==s-1)break;c=c.shorten(null,1)}for(var l=0,c=i.from;;l++){if(c.offset>0){this.split(c,s-l);for(var f=i.from.path.length-s,p=c.path.slice(0,f).concat(c.path[f]+1);p.length<i.from.path.length;)p.push(0);i={from:new u.Pos(p,0),to:new u.Pos(p,i.to.offset-i.from.offset)};break}if(l==s-1)break;c=c.shorten()}if(r.unwrap){for(var h=i.to.offset-1;h>i.from.offset;h--)this.join(new u.Pos(i.from.path,h));for(var d,m=0,h=a.iter(i.from.offset,i.to.offset);d=h.next().value;)m+=d.size;var p=i.from.path.concat(i.from.offset);i={from:new u.Pos(p,0),to:new u.Pos(p,m)},++s}return this.step("ancestor",i.from,i.to,null,{depth:s}),this},l.Transform.prototype.wrap=function(e,t,n,r){var o=i(this.doc,e,t,n);if(!o)return this;var s=o.range,a=o.around,l=o.inside,c=a.concat(n).concat(l),f=a.map(function(){return null}).concat(r).concat(l.map(function(){return null}));if(this.step("ancestor",s.from,s.to,null,{types:c,attrs:f}),l.length){for(var p=s.from.path.slice(),h=0;h<a.length+l.length+1;h++)p.push(h?0:s.from.offset);for(var h=s.to.offset-1-s.from.offset;h>0;h--)this.split(new u.Pos(p,h),l.length)}return this},l.Transform.prototype.setBlockType=function(e,t,n,r){var o=this;return this.doc.nodesBetween(e,t||e,function(e,t){return e.isTextblock&&!e.hasMarkup(n,r)?(t=t.slice(),o.clearMarkup(new u.Pos(t,0),new u.Pos(t,e.size),n),o.step("ancestor",new u.Pos(t,0),new u.Pos(t,o.doc.path(t).size),null,{depth:1,types:[n],attrs:[r]}),!1):void 0}),this},l.Transform.prototype.setNodeType=function(e,t,n){var r=this.doc.nodeAfter(e),o=e.toPath();return this.step("ancestor",new u.Pos(o,0),new u.Pos(o,r.size),null,{depth:1,types:[t],attrs:[n]}),this}},function(e,t,n){"use strict";function r(e,t,n,o){var i=arguments.length<=4||void 0===arguments[4]?0:arguments[4];if(e.isTextblock)return o(e,t?t.offset:0,n?n.offset:e.size);if(!e.size)return e;for(var s,a=t?t.path[i]:0,u=n?n.path[i]+1:e.size,c=e.content.toArray(0,a),f=e.iter(a,u);s=f.next().value;){var p=f.offset-s.width==a?t:null,h=f.offset==u?n:null;c.push(r(s,p,h,o,i+1))}return e.copy(l.Fragment.fromArray(c.concat(e.content.toArray(u))))}function o(e,t,n,r){return e.splice(t,n,e.content.slice(t,n).map(r))}function i(e,t){if(e.path.length!=t.path.length)return!1;for(var n=0;n<e.path.length;n++)if(e.path[n]!=t.path[n])return!1;return e.offset<=t.offset}function s(e,t,n){if(!n||0==t||t==e.size)return!1;var r=e.child(t-1),o=e.child(t);return r.sameMarkup(o)}function a(e,t,n){for(var r=0,o=e;;r++){var i=r==t.depth,a=r==n.depth;if(i||a||t.path[r]!=n.path[r]){var u=void 0,l=void 0;if(i)u=t.offset;else{u=t.path[r]+1;for(var c=r+1,f=o.child(u-1);c<=t.path.length;c++)if(c==t.path.length){if(t.offset<f.size)return!0}else{if(t.path[c]+1<f.size)return!0;f=f.child(t.path[c])}}if(a)l=n.offset;else{l=n.path[r];for(var c=r+1;c<=n.path.length;c++)if((c==n.path.length?n.offset:n.path[c])>0)return!0}return u!=l?!0:s(o,u,Math.min(t.depth,n.depth)-r)}o=o.child(t.path[r])}}function u(e,t){for(var n=0;;n++)if(n==e.path.length||n==t.path.length||e.path[n]!=t.path[n])return n}Object.defineProperty(t,"__esModule",{value:!0}),t.copyStructure=r,t.copyInline=o,t.isFlatRange=i,t.replaceHasEffect=a,t.samePathDepth=u;var l=n(353)},function(e,t,n){"use strict";function r(e,t){if(0==t.offset)return!1;var n=e.path(t.path);if(n.isTextblock||t.offset==n.size)return!1;var r=n.child(t.offset-1).type;return!r.isTextblock&&r.contains&&r==n.child(t.offset).type}function o(e,t){for(var n=arguments.length<=2||void 0===arguments[2]?-1:arguments[2];;){if(r(e,t))return t;if(0==t.depth)return null;t=t.shorten(null,0>n?0:1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.joinableBlocks=r,t.joinPoint=o;var i=n(353),s=n(365),a=n(366),u=n(367);a.Step.define("join",{apply:function(e,t){var n=e.path(t.from.path),r=e.path(t.to.path);if(t.from.offset<n.size||t.to.offset>0||!n.type.canContainFragment(r.content))return null;var o=t.from.path,s=t.to.path,l=o.length-1,c=o[l]+1;if(o.length!=s.length||0==o.length||c!=s[l])return null;for(var f=0;l>f;f++)if(o[f]!=s[f])return null;var p=o.slice(0,l),h=e.path(p),d=h.size;if(h.type.locked)return null;var m=n.append(r.content),v=e.replaceDeep(p,h.splice(c-1,c+1,i.Fragment.from(m))),g=new u.PosMap([new u.MovedRange(t.to,r.size,t.from),new u.MovedRange(new i.Pos(p,c+1),d-c-1,new i.Pos(p,c))],[new u.ReplacedRange(t.from,t.to,t.from,t.from,t.to.shorten())]);return new a.StepResult(v,g)},invert:function(e,t){return new a.Step("split",null,null,e.from,t.path(e.to.path).copy())}}),s.Transform.prototype.join=function(e){var t=this.doc.path(e.path);return 0==e.offset||e.offset==t.size||t.isTextblock?this:(this.step("join",new i.Pos(e.path.concat(e.offset-1),t.child(e.offset-1).size),new i.Pos(e.path.concat(e.offset),0)),this)}},function(e,t,n){"use strict";var r=n(353),o=n(365),i=n(366),s=n(369);i.Step.define("addMark",{apply:function(e,t){return new i.StepResult((0,s.copyStructure)(e,t.from,t.to,function(e,n,r){return e.type.canContainMark(t.param)?(0,s.copyInline)(e,n,r,function(e){return e.mark(t.param.addToSet(e.marks))}):e}))},invert:function(e,t,n){return new i.Step("removeMark",e.from,n.map(e.to).pos,null,e.param)},paramToJSON:function(e){return e.toJSON()},paramFromJSON:function(e,t){return e.markFromJSON(t)}}),o.Transform.prototype.addMark=function(e,t,n){var o=this,s=[],a=[],u=null,l=null;return this.doc.inlineNodesBetween(e,t,function(e,t,o,c,f){var p=e.marks;if(n.isInSet(p)||!f.type.canContainMark(n.type))l=u=null;else{var h=n.type.isInSet(p);h?u&&u.param.eq(h)?u.to=new r.Pos(t,c):(u=new i.Step("removeMark",new r.Pos(t,o),new r.Pos(t,c),null,h),s.push(u)):u&&(u=null),l?l.to=new r.Pos(t,c):(l=new i.Step("addMark",new r.Pos(t,o),new r.Pos(t,c),null,n),a.push(l))}}),s.forEach(function(e){return o.step(e)}),a.forEach(function(e){return o.step(e)}),this},i.Step.define("removeMark",{apply:function(e,t){return new i.StepResult((0,s.copyStructure)(e,t.from,t.to,function(e,n,r){return(0,s.copyInline)(e,n,r,function(e){return e.mark(t.param.removeFromSet(e.marks))})}))},invert:function(e,t,n){return new i.Step("addMark",e.from,n.map(e.to).pos,null,e.param)},paramToJSON:function(e){return e.toJSON()},paramFromJSON:function(e,t){return e.markFromJSON(t)}}),o.Transform.prototype.removeMark=function(e,t){var n=this,o=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=[],s=0;return this.doc.inlineNodesBetween(e,t,function(e,t,n,a){var u=e.marks;s++;var l=null;if(o instanceof r.MarkType){var c=o.isInSet(u);c&&(l=[c])}else o?o.isInSet(u)&&(l=[o]):l=u;if(l&&l.length){t=t.slice();for(var f=0;f<l.length;f++){for(var p=l[f],c=void 0,h=0;h<i.length;h++){var d=i[h];d.step==s-1&&p.eq(i[h].style)&&(c=d)}c?(c.to=new r.Pos(t,a),c.step=s):i.push({style:p,from:new r.Pos(t,n),to:new r.Pos(t,a),step:s})}}}),i.forEach(function(e){return n.step("removeMark",e.from,e.to,null,e.style)}),this},o.Transform.prototype.clearMarkup=function(e,t,n){var o=this,s=[];this.doc.inlineNodesBetween(e,t,function(e,t,a,u){var l=e.marks,c=e.type;if(n?!n.canContainType(c):!c.isText){t=t.slice();var f=new r.Pos(t,a);return void s.push(new i.Step("replace",f,new r.Pos(t,u),f))}for(var p=0;p<l.length;p++){var h=l[p];n&&n.canContainMark(h.type)||(t=t.slice(),o.step("removeMark",new r.Pos(t,a),new r.Pos(t,u),null,h))}});for(var a=s.length-1;a>=0;a--)this.step(s[a]);return this}},function(e,t,n){"use strict";var r=n(353),o=n(365),i=n(366),s=n(367);i.Step.define("split",{apply:function(e,t){var n=t.pos;if(0==n.depth)return null;var o=n.shorten(),a=o.path,u=o.offset,l=e.path(a),c=l.child(u),f=c.size,p=t.param||c,h=p.type,d=p.attrs,m=n.offset;if(0==m&&!c.type.canBeEmpty||c.type.locked||m==c.size&&!h.canBeEmpty)return null;var v=l.splice(u,u+1,r.Fragment.from([c.slice(0,m),h.create(d,c.content.slice(m))])),g=e.replaceDeep(a,v),y=new r.Pos(a.concat(u+1),0),b=new s.PosMap([new s.MovedRange(n,f-n.offset,y),new s.MovedRange(new r.Pos(a,u+1),v.size-2-u,new r.Pos(a,u+2))],[new s.ReplacedRange(n,n,n,y,n,n.shorten(null,1))]);return new i.StepResult(g,b)},invert:function(e,t,n){return new i.Step("join",e.pos,n.map(e.pos).pos)},paramToJSON:function(e){return e&&{type:e.type.name,attrs:e.attrs}},paramFromJSON:function(e,t){return t&&{type:e.nodeType(t.type),attrs:t.attrs}}}),o.Transform.prototype.split=function(e){var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=arguments[2],r=arguments[3];if(0==t)return this;for(var o=0;;o++){if(this.step("split",null,null,e,n&&{type:n,attrs:r}),o==t-1)return this;n=null,e=e.shorten(null,1)}},o.Transform.prototype.splitIfNeeded=function(e){for(var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=0;t>n;n++){var r=e.shorten(e.depth-n);r.offset&&r.offset<this.doc.path(r.path).size&&this.step("split",null,null,r)}return this}},function(e,t,n){"use strict";function r(e,t,n,r){for(var o=[],i=t.path.slice(0,r),s=r;;s++){var a=s==t.depth?0:1,l=s==t.depth?t.offset:t.path[s],c=e.size-l,p=n.size-c,h=t.shorten(s,a),d=new u.Pos(i,p+a);if(h.cmp(d)&&o.push(new f.MovedRange(h,c-a,d)),!a)return o;e=e.child(l),n=n.child(p),i=i.concat(p)}}function o(e,t,n,i,s){var a=arguments.length<=5||void 0===arguments[5]?0:arguments[5];if(a==i.length){var u=e.sliceBetween(null,t,a),l=e.sliceBetween(n,null,a),c=void 0;return u.type.canContainFragment(s.content)?(c=s.content.size?u.append(s.content,t.depth-a,s.openLeft).append(l.content,s.openRight,n.depth-a):u.append(l.content,t.depth-a,n.depth-a),c.size||c.type.canBeEmpty||(c=c.copy(c.type.defaultContent())),{doc:c,moved:r(e,n,c,a)}):null}var f=i[a],c=o(e.child(f),t,n,i,s,a+1);return c?{doc:e.replace(f,c.doc),moved:c.moved}:null}function i(e,t){for(var n=e[t]=e[t].splice(0,1,u.emptyFragment),r=t-1;r>=0;r--)n=e[r]=e[r].replace(0,n)}function s(e,t,n,r){for(var o=t.sliceBetween(n,r),s=[],a=o,l=0;l<=n.path.length;l++,a=a.firstChild)s.push(a);var c=(0,p.samePathDepth)(n,r),f=e.length-1,h=s.length-1,d=null,m=s[h];for(m.isTextblock&&m.size&&e[f].isTextblock&&(d=e[f--].copy(m.content),--h,i(s,h));;){for(var a=s[h],v=a.type,g=null,y=c>=h,l=f;l>=0;l--){var b=e[l];if(y?b.type.canContainContent(a.type):b.type==v){g=l;break}}if(null!=g)if(d)for(;f>=g;){var k=e[f],w=u.Fragment.from(d);d=k.copy(f==g?w.append(a.content):w),f--}else d=e[g].copy(a.content),f=g-1;if(null!=g||0==a.size){if(y)break;h&&i(s,h-1)}h--}var x={content:d?d.content:u.emptyFragment,openLeft:n.depth-h,openRight:r.depth-h};return{repl:x,depth:f+1}}function a(e,t,n,r){for(var o=(0,p.samePathDepth)(n,r),i=r.shorten(null,1);i.path.length>o&&1==t.path(i.path).size;)i=i.shorten(null,1);e.split(i,i.path.length-o);for(var s=r,a=new u.Pos(s.path,t.path(s.path).size),l=t.path(s.path.slice(0,o)),c=l.pathNodes(n.path.slice(o)),f=l.pathNodes(s.path.slice(o));c.length&&f.length&&c[0].sameMarkup(f[0]);)c.shift(),f.shift();(f.length||c.length)&&e.step("ancestor",s,a,null,{depth:f.length,types:c.map(function(e){return e.type}),attrs:c.map(function(e){return e.attrs})});for(var h=o;h<n.path.length;h++)e.join(n.shorten(h,1))}Object.defineProperty(t,"__esModule",{value:!0}),t.replace=o;var u=n(353),l=n(365),c=n(366),f=n(367),p=n(369),h={content:u.emptyFragment,openLeft:0,openRight:0};c.Step.define("replace",{apply:function(e,t){var n=t.pos,r=n.path;if(t.from.depth<r.length||t.to.depth<r.length)return null;for(var i=0;i<r.length;i++)if(t.from.path[i]!=r[i]||t.to.path[i]!=r[i])return null;var s=o(e,t.from,t.to,n.path,t.param||h);if(!s)return null;var a=s.doc,u=s.moved,l=u.length?u[u.length-1].dest:t.to,p=new f.ReplacedRange(t.from,t.to,t.from,l,n,n);return new c.StepResult(a,new f.PosMap(u,[p]))},invert:function(e,t,n){var r=e.pos.depth;return new c.Step("replace",e.from,n.map(e.to).pos,e.from.shorten(r),{content:t.path(e.pos.path).content.sliceBetween(e.from,e.to,r),openLeft:e.from.depth-r,openRight:e.to.depth-r})},paramToJSON:function(e){return e&&{content:e.content.size&&e.content.toJSON(),openLeft:e.openLeft,openRight:e.openRight}},paramFromJSON:function(e,t){return t&&{content:u.Fragment.fromJSON(e,t.content),openLeft:t.openLeft,openRight:t.openRight}}}),l.Transform.prototype["delete"]=function(e,t){return e.cmp(t)&&this.replace(e,t),this},l.Transform.prototype.replace=function(e,t,n,r,o){var i=void 0,l=void 0,c=this.doc,f=(0,p.samePathDepth)(e,t);if(n){var d=s(c.pathNodes(e.path),n,r,o);for(i=d.repl,l=d.depth;l>f;)i.content.size&&(i={content:u.Fragment.from(c.path(e.path.slice(0,l)).copy(i.content)),openLeft:i.openLeft+1,openRight:i.openRight+1}),l--}else i=h,l=f;var m=e.shorten(l),v=c,g=t;if(i.content.size||(0,p.replaceHasEffect)(c,e,t)){var y=this.step("replace",e,t,m,i);v=y.doc,g=y.map.map(t).pos}if(!c.path(t.path).isTextblock)return this;if(!(i.content.size?n.path(o.path).isTextblock:c.path(e.path).isTextblock))return this;var b=c.path(m.path).pathNodes(t.path.slice(l)).slice(1),k=void 0;if(i.content.size){var w=i.content;k=[];for(var x=0;x<i.openRight;x++){var _=w.child(w.size-1);k.push(_),w=_.content}}else k=c.path(m.path).pathNodes(e.path.slice(l)).slice(1);if(k.length&&(b.length!=k.length||!b.every(function(e,t){return e.sameMarkup(k[t])}))){for(var C=g.shorten(m.depth),S=C.path,M=C.offset,A=void 0,O=v.path(S),x=0;;x++){if(x==k.length){A=new u.Pos(S,M);break}S.push(M-1),O=O.child(M-1),M=O.size}a(this,v,A,g)}return this},l.Transform.prototype.replaceWith=function(e,t,n){return n instanceof u.Fragment||(n=u.Fragment.from(n)),u.Pos.samePath(e.path,t.path)?this.step("replace",e,t,e,{content:n,openLeft:0,openRight:0}):this["delete"](e,t).step("replace",e,e,e,{content:n,openLeft:0,openRight:0}),this},l.Transform.prototype.insert=function(e,t){return this.replaceWith(e,e,t)},l.Transform.prototype.insertText=function(e,t){return this.insert(e,this.doc.type.schema.text(t,this.doc.marksAt(e)))},l.Transform.prototype.insertInline=function(e,t){return this.insert(e,t.mark(this.doc.marksAt(e)))}},function(e,t){"use strict";function n(e,t,n){for(var r=0;r<e.length&&!(n(e[r],t)>0);r++);e.splice(r,0,t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});t.Map=window.Map||function(){function e(){n(this,e),this.content=[]}return r(e,[{key:"set",value:function(e,t){var n=this.find(e);n>-1?this.content[n+1]=t:this.content.push(e,t)}},{key:"get",value:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]}},{key:"has",value:function(e){return this.find(e)>-1}},{key:"find",value:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t}},{key:"clear",value:function(){this.content.length=0}},{key:"size",get:function(){return this.content.length/2}}]),e}()},function(e,t){"use strict";function n(e){var t=e.prototype;for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}Object.defineProperty(t,"__esModule",{value:!0}),t.eventMixin=n;var r={on:function(e,t){var n=this._handlers||(this._handlers={}),r=n[e]||(n[e]=[]);r.push(t)},off:function(e,t){var n=this._handlers&&this._handlers[e];if(n)for(var r=0;r<n.length;++r)if(n[r]==t){n.splice(r,1);break}},signal:function(e){for(var t=this._handlers&&this._handlers[e],n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];if(t)for(var i=0;i<t.length;++i)t[i].apply(t,r)},signalHandleable:function(e){var t=this._handlers&&this._handlers[e];if(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];for(var i=0;i<t.length;++i){var s=t[i].apply(t,r);if(s!==!1)return s}}return!1},signalPipelined:function(e,t){var n=this._handlers&&this._handlers[e];if(n)for(var r=0;r<n.length;++r)t=n[r](t);return t},hasHandler:function(e){var t=this._handlers&&this._handlers[e];return t&&t.length>0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(378);Object.defineProperty(t,"serializeTo",{enumerable:!0,get:function(){return r.serializeTo}}),Object.defineProperty(t,"knownTarget",{enumerable:!0,get:function(){return r.knownTarget}}),Object.defineProperty(t,"defineTarget",{enumerable:!0,get:function(){return r.defineTarget}}),Object.defineProperty(t,"parseFrom",{enumerable:!0,get:function(){return r.parseFrom}}),Object.defineProperty(t,"knownSource",{enumerable:!0,get:function(){return r.knownSource}}),Object.defineProperty(t,"defineSource",{enumerable:!0,get:function(){return r.defineSource}});var o=n(379);Object.defineProperty(t,"fromDOM",{enumerable:!0,get:function(){return o.fromDOM}}),Object.defineProperty(t,"fromHTML",{enumerable:!0,get:function(){return o.fromHTML}});var i=n(380);Object.defineProperty(t,"toDOM",{enumerable:!0,get:function(){return i.toDOM}}),Object.defineProperty(t,"toHTML",{enumerable:!0,get:function(){return i.toHTML}}),Object.defineProperty(t,"nodeToDOM",{enumerable:!0,get:function(){return i.nodeToDOM}});var s=n(381);Object.defineProperty(t,"fromText",{enumerable:!0,get:function(){return s.fromText}});var a=n(382);Object.defineProperty(t,"toText",{enumerable:!0,get:function(){return a.toText}})},function(e,t,n){"use strict";function r(e,t,n){var r=c[t];return r||l.NamespaceError.raise("Target format "+t+" not defined"),r(e,n)}function o(e){return!!c[e]}function i(e,t){c[e]=t}function s(e,t,n,r){var o=f[n];return o||l.NamespaceError.raise("Source format "+n+" not defined"),o(e,t,r)}function a(e){return!!f[e]}function u(e,t){f[e]=t}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTo=r,t.knownTarget=o,t.defineTarget=i,t.parseFrom=s,t.knownSource=a,t.defineSource=u;var l=n(357),c=Object.create(null);i("json",function(e){return e.toJSON()});var f=Object.create(null);u("json",function(e,t){return e.nodeFromJSON(t)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){n||(n={});var r=new y(e,n.topNode||e.node("doc"),n),o=n.from?t.childNodes[n.from]:t.firstChild,i=null!=n.to&&t.childNodes[n.to]||null;r.addAll(o,i,!0);for(var s=void 0;r.stack.length;)s=r.leave();return s}function s(e,t,n){var r=(n&&n.document||window.document).createElement("div");return r.innerHTML=t,i(e,r,n)}function a(e){for(var t=/\s*([\w-]+)\s*:\s*([^;]+)/g,n=void 0,r=[];n=t.exec(e);)r.push(n[1],n[2].trim());return r}function u(e){return e.cached.parseDOMInfo||(e.cached.parseDOMInfo=l(e))}function l(e){var t=Object.create(null),n=Object.create(null);return t._=[],e.registry("parseDOM",function(e,n,r){var o=n.parse;"block"==o?o=function(e,t){t.wrapIn(e,this)}:"mark"==o&&(o=function(e,t){t.wrapMark(e,this)}),(0,h["default"])(t[e]||(t[e]=[]),{type:r,parse:o,rank:null==n.rank?50:n.rank},function(e,t){return e.rank-t.rank})}),e.registry("parseDOMStyle",function(e,t,r){(0,h["default"])(n[e]||(n[e]=[]),{type:r,parse:t.parse,rank:null==t.rank?50:t.rank},function(e,t){return e.rank-t.rank})}),{tags:t,styles:n}}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.fromDOM=i,t.fromHTML=s;var f=n(353),p=n(374),h=r(p),d=n(378);(0,d.defineSource)("dom",i),(0,d.defineSource)("html",s);var m={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},v={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},g=[],y=function(){function e(t,n,r){o(this,e),this.options=r||{},this.schema=t,this.stack=[],this.marks=g,this.closing=!1,this.enter(n.type,n.attrs);var i=u(t);this.tagInfo=i.tags,this.styleInfo=i.styles}return c(e,[{key:"addDOM",value:function(e){if(3==e.nodeType){var t=e.nodeValue,n=this.top,r=void 0;(/\S/.test(t)||n.type.isTextblock)&&(t=t.replace(/\s+/g," "),/^\s/.test(t)&&(!(r=n.content[n.content.length-1])||"text"==r.type.name&&/\s$/.test(r.text))&&(t=t.slice(1)),t&&this.insertNode(this.schema.text(t,this.marks)))}else if(1!=e.nodeType||e.hasAttribute("pm-ignore"));else{var o=e.getAttribute("style");o?this.addElementWithStyles(a(o),e):this.addElement(e)}}},{key:"addElement",value:function(e){var t=e.nodeName.toLowerCase();this.parseNodeType(t,e)||v.hasOwnProperty(t)||(this.addAll(e.firstChild,null),m.hasOwnProperty(t)&&this.top.type==this.schema.defaultTextblockType()&&(this.closing=!0));
}},{key:"addElementWithStyles",value:function(e,t){for(var n=this,r=[],o=0;o<e.length;o+=2){var i=this.styleInfo[e[o]],s=e[o+1];if(i)for(var a=0;a<i.length;a++)r.push(i[a],s)}var u=function l(e){if(e==r.length)n.addElement(t);else{var o=r[e];o.parse.call(o.type,r[e+1],n,l.bind(null,e+2))}};u(0)}},{key:"tryParsers",value:function(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n];if(r.parse.call(r.type,t,this)!==!1)return!0}}},{key:"parseNodeType",value:function(e,t){return this.tryParsers(this.tagInfo[e],t)||this.tryParsers(this.tagInfo._,t)}},{key:"addAll",value:function(e,t,n){for(var r=n&&this.stack.slice(),o=e;o!=t;o=o.nextSibling)this.addDOM(o),n&&m.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(r)}},{key:"doClose",value:function(){if(this.closing&&!(this.stack.length<2)){var e=this.leave();this.enter(e.type,e.attrs),this.closing=!1}}},{key:"insertNode",value:function(e){if(this.top.type.canContain(e))this.doClose();else for(var t=this.stack.length-1;t>=0;t--){var n=this.stack[t].type.findConnection(e.type);if(n){if(t==this.stack.length-1)this.doClose();else for(;this.stack.length>t+1;)this.leave();for(var r=0;r<n.length;r++)this.enter(n[r]);this.marks.length&&(this.marks=g);break}}return this.top.content.push(e),e}},{key:"insert",value:function(e,t,n){return this.insertNode(e.createAutoFill(t,n,this.marks))}},{key:"enter",value:function(e,t){this.stack.push({type:e,attrs:t,content:[]})}},{key:"leave",value:function(){this.marks.length&&(this.marks=g);var e=this.stack.pop(),t=e.content[e.content.length-1];t&&t.isText&&/\s$/.test(t.text)&&(e.content[e.content.length-1]=t.copy(t.text.slice(0,t.text.length-1)));var n=e.type.createAutoFill(e.attrs,e.content);return this.stack.length&&this.insertNode(n),n}},{key:"sync",value:function(e){for(;this.stack.length>e.length;)this.leave();for(;;){var t=this.stack.length-1,n=this.stack[t],r=e[t];if(n.type==r.type&&f.Node.sameAttrs(n.attrs,r.attrs))break;this.leave()}for(;e.length>this.stack.length;){var o=e[this.stack.length];this.enter(o.type,o.attrs)}this.marks.length&&(this.marks=g),this.closing=!1}},{key:"wrapIn",value:function(e,t,n){this.enter(t,n),this.addAll(e.firstChild,null,!0),this.leave()}},{key:"wrapMark",value:function(e,t){var n=this.marks;this.marks=(t.instance||t).addToSet(n),e.call?e():this.addAll(e.firstChild,null),this.marks=n}},{key:"top",get:function(){return this.stack[this.stack.length-1]}}]),e}();f.Paragraph.register("parseDOM","p",{parse:"block"}),f.BlockQuote.register("parseDOM","blockquote",{parse:"block"});for(var b=function(e){f.Heading.registerComputed("parseDOM","h"+e,function(t){return e<=t.maxLevel?{parse:function(t,n){n.wrapIn(t,this,{level:e})}}:void 0})},k=1;6>=k;k++)b(k);f.HorizontalRule.register("parseDOM","hr",{parse:"block"}),f.CodeBlock.register("parseDOM","pre",{parse:function(e,t){var n=e.firstChild&&/^code$/i.test(e.firstChild.nodeName)&&e.firstChild.getAttribute("class");if(n&&/fence/.test(n)){for(var r=[],o=/(?:^|\s)lang-(\S+)/g,i=void 0;i=o.test(n);)r.push(i[1]);n=r.join(" ")}else n=null;var s=e.textContent;t.insert(this,{params:n},s?[t.schema.text(s)]:[])}}),f.BulletList.register("parseDOM","ul",{parse:"block"}),f.OrderedList.register("parseDOM","ol",{parse:function(e,t){var n={order:e.getAttribute("start")||1};t.wrapIn(e,this,n)}}),f.ListItem.register("parseDOM","li",{parse:"block"}),f.HardBreak.register("parseDOM","br",{parse:function(e,t){t.insert(this)}}),f.Image.register("parseDOM","img",{parse:function(e,t){t.insert(this,{src:e.getAttribute("src"),title:e.getAttribute("title")||null,alt:e.getAttribute("alt")||null})}}),f.LinkMark.register("parseDOM","a",{parse:function(e,t){var n=e.getAttribute("href");return n?void t.wrapMark(e,this.create({href:n,title:e.getAttribute("title")})):!1}}),f.EmMark.register("parseDOM","i",{parse:"mark"}),f.EmMark.register("parseDOM","em",{parse:"mark"}),f.StrongMark.register("parseDOMStyle","font-style",{parse:function(e,t,n){"italic"==e?t.wrapMark(n,this):n()}}),f.StrongMark.register("parseDOM","b",{parse:"mark"}),f.StrongMark.register("parseDOM","strong",{parse:"mark"}),f.StrongMark.register("parseDOMStyle","font-weight",{parse:function(e,t,n){"bold"==e||"bolder"==e||!/\D/.test(e)&&+e>=500?t.wrapMark(n,this):n()}}),f.CodeMark.register("parseDOM","code",{parse:"mark"})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return new f(t).renderContent(e)}function i(e,t,n){var r=new f(t),o=r.renderNode(e,n);return e.isInline&&(o=r.wrapInlineFlat(o,e.marks),r.options.renderInlineFlat&&(o=t.renderInlineFlat(e,o,n)||o)),o}function s(e,t){var n=new f(t),r=n.elt("div");return r.appendChild(n.renderContent(e)),r.innerHTML}function a(e,t){e.prototype.serializeDOM=t}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.toDOM=o,t.nodeToDOM=i,t.toHTML=s;var l=n(353),c=n(378),f=function(){function e(t){r(this,e),this.options=t||{},this.doc=this.options.document||window.document}return u(e,[{key:"elt",value:function(e,t){var n=this.doc.createElement(e);if(t)for(var r in t)"style"==r?n.style.cssText=t[r]:t[r]&&n.setAttribute(r,t[r]);for(var o=arguments.length,i=Array(o>2?o-2:0),s=2;o>s;s++)i[s-2]=arguments[s];for(var a=0;a<i.length;a++)n.appendChild("string"==typeof i[a]?this.doc.createTextNode(i[a]):i[a]);return n}},{key:"renderNode",value:function(e,t){var n=e.type.serializeDOM(e,this);return this.options.onRender&&(n=this.options.onRender(e,n,t)||n),n}},{key:"renderContent",value:function(e,t){return t||(t=this.doc.createDocumentFragment()),e.isTextblock?this.options.renderInlineFlat?this.renderInlineFlatInto(e,t):this.renderInlineInto(e,t):this.renderBlocksInto(e,t),t}},{key:"renderBlocksInto",value:function(e,t){for(var n,r=e.iter();n=r.next().value;)this.options.path&&this.options.path.push(r.offset-n.width),t.appendChild(this.renderNode(n,r.offset-n.width)),this.options.path&&this.options.path.pop()}},{key:"renderInlineInto",value:function(e,t){var n=this,r=t,o=[];e.forEach(function(e,t){for(var i=0;i<Math.min(o.length,e.marks.length)&&e.marks[i].eq(o[i]);++i);for(;i<o.length;)o.pop(),r=r.parentNode;for(;o.length<e.marks.length;){var s=e.marks[o.length];o.push(s),r=r.appendChild(n.renderMark(s))}r.appendChild(n.renderNode(e,t))})}},{key:"renderInlineFlatInto",value:function(e,t){var n=this;e.forEach(function(e,r){var o=n.renderNode(e,r);o=n.wrapInlineFlat(o,e.marks),o=n.options.renderInlineFlat(e,o,r)||o,t.appendChild(o)})}},{key:"renderMark",value:function(e){return e.type.serializeDOM(e,this)}},{key:"wrapInlineFlat",value:function(e,t){for(var n=t.length-1;n>=0;n--){var r=this.renderMark(t[n]);r.appendChild(e),e=r}return e}},{key:"renderAs",value:function(e,t,n){var r=this.renderContent(e,this.elt(t,n));return this.options.onContainer&&this.options.onContainer(r),r}}]),e}();(0,c.defineTarget)("dom",o),(0,c.defineTarget)("html",s),a(l.BlockQuote,function(e,t){return t.renderAs(e,"blockquote")}),l.BlockQuote.prototype.countCoordsAsChild=function(e,t,n,r){var o=n.firstChild.getBoundingClientRect();return r.left<o.left-2?l.Pos.from(t):void 0},a(l.BulletList,function(e,t){return t.renderAs(e,"ul")}),a(l.OrderedList,function(e,t){return t.renderAs(e,"ol",{start:"1"!=e.attrs.order&&e.attrs.order})}),l.OrderedList.prototype.countCoordsAsChild=l.BulletList.prototype.countCoordsAsChild=function(e,t,n,r){for(var o=0;o<n.childNodes.length;o++){var i=n.childNodes[o];if(i.hasAttribute("pm-offset")){var s=i.getBoundingClientRect();if(r.left>s.left-2)return null;if(s.top<=r.top&&s.bottom>=r.top)return new l.Pos(t,o)}}},a(l.ListItem,function(e,t){return t.renderAs(e,"li")}),a(l.HorizontalRule,function(e,t){return t.elt("hr")}),a(l.Paragraph,function(e,t){return t.renderAs(e,"p")}),a(l.Heading,function(e,t){return t.renderAs(e,"h"+e.attrs.level)}),a(l.CodeBlock,function(e,t){var n=t.renderAs(e,"code");return null!=e.attrs.params&&(n.className="fence "+e.attrs.params.replace(/(^|\s+)/g,"$&lang-")),t.elt("pre",null,n)}),a(l.Text,function(e,t){return t.doc.createTextNode(e.text)}),a(l.Image,function(e,t){return t.elt("img",{src:e.attrs.src,alt:e.attrs.alt,title:e.attrs.title})}),a(l.HardBreak,function(e,t){return t.elt("br")}),a(l.EmMark,function(e,t){return t.elt("em")}),a(l.StrongMark,function(e,t){return t.elt("strong")}),a(l.CodeMark,function(e,t){return t.elt("code")}),a(l.LinkMark,function(e,t){return t.elt("a",{href:e.attrs.href,title:e.attrs.title})})},function(e,t,n){"use strict";function r(e,t){for(var n=t.trim().split(/\n{2,}/),r=[],o=0;o<n.length;o++){for(var i=[],s=n[o].split("\n"),a=0;a<s.length;a++)a&&i.push(e.node("hard_break")),s[a]&&i.push(e.text(s[a]));r.push(e.node("paragraph",null,i))}return r.length||r.push(e.node("paragraph")),e.node("doc",null,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.fromText=r;var o=n(378);(0,o.defineSource)("text",r)},function(e,t,n){"use strict";function r(e){return e.type.serializeText(e).trim()}Object.defineProperty(t,"__esModule",{value:!0}),t.toText=r;var o=n(353),i=n(378);o.Block.prototype.serializeText=function(e){var t="";return e.forEach(function(e){return t+=e.type.serializeText(e)}),t},o.Textblock.prototype.serializeText=function(e){var t=o.Block.prototype.serializeText(e);return t&&t+"\n\n"},o.Inline.prototype.serializeText=function(){return""},o.HardBreak.prototype.serializeText=function(){return"\n"},o.Text.prototype.serializeText=function(e){return e.text},(0,i.defineTarget)("text",r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r){h[e]=new p(t,n,r)}function i(e){var t=Object.create(null),n=e?[e].concat(e.use||[]):[];e:for(var r in h){for(var o=0;o<n.length;o++)if(r in n[o]){t[r]=n[o][r];continue e}t[r]=h[r].defaultValue}return t}function s(e){for(var t in h){var n=h[t];n.update&&n.updateOnInit&&n.update(e,e.options[t],null,!0)}}function a(e,t,n){var r=h[t];void 0===r&&l.AssertionError.raise("Option '"+t+"' is not defined"),r.update===!1&&l.AssertionError.raise("Option '"+t+"' can not be changed");var o=e.options[t];e.options[t]=n,r.update&&r.update(e,n,o,!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.defineOption=o,t.parseOptions=i,t.initOptions=s,t.setOption=a;var u=n(353),l=n(357),c=n(384),f=n(385),p=function d(e,t,n){r(this,d),this.defaultValue=e,this.update=t,this.updateOnInit=n!==!1},h=Object.create(null);o("schema",u.defaultSchema,!1),o("doc",null,function(e,t){return e.setDoc(t)},!1),o("docFormat",null),o("place",null),o("historyDepth",100),o("historyEventDelay",500),o("commands",f.CommandSet["default"],f.updateCommands),o("commandParamPrompt",c.ParamPrompt),o("label",null)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){var r=(0,a.elt)("button",{"class":"ProseMirror-prompt-close"}),o=(0,a.elt)("div",{"class":"ProseMirror-prompt"},t,r),i=e.wrapper.getBoundingClientRect();if(e.wrapper.appendChild(o),n&&n.pos)o.style.left=n.pos.left-i.left+"px",o.style.pos=n.pos.top-i.top+"px";else{var s=o.getBoundingClientRect(),u=Math.max(0,i.left)+Math.min(window.innerWidth,i.right)-s.width,l=Math.max(0,i.top)+Math.min(window.innerHeight,i.bottom)-s.height;o.style.left=u/2-i.left+"px",o.style.top=l/2-i.top+"px"}var c=function f(){e.off("interaction",f),o.parentNode&&(o.parentNode.removeChild(o),n&&n.onClose&&n.onClose())};return r.addEventListener("click",c),e.on("interaction",c),{close:c}}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ParamPrompt=void 0,t.openPrompt=o;var s=n(357),a=n(351),u=t.ParamPrompt=function(){function e(t,n){var o=this;r(this,e),this.pm=t,this.command=n,this.doClose=null,this.fields=n.params.map(function(e){return e.type in o.paramTypes||s.AssertionError.raise("Unsupported parameter type: "+e.type),o.paramTypes[e.type].render.call(o.pm,e,o.defaultValue(e))}),this.form=(0,a.elt)("form",null,this.fields.map(function(e){return(0,a.elt)("div",null,e)}))}return i(e,[{key:"close",value:function(){this.doClose&&(this.doClose(),this.doClose=null)}},{key:"open",value:function(){var e=this;this.close();var t=this.prompt(),n=this.pm.hasFocus();this.doClose=function(){t.close(),n&&setTimeout(function(){return e.pm.focus()},50)};var r=function(){var t=e.values();t&&(e.close(),e.command.exec(e.pm,t))};this.form.addEventListener("submit",function(e){e.preventDefault(),r()}),this.form.addEventListener("keydown",function(e){27==e.keyCode?t.close():13!=e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||r()});var o=this.form.querySelector("input, textarea");o&&o.focus()}},{key:"values",value:function(){for(var e=[],t=0;t<this.command.params.length;t++){var n=this.command.params[t],r=this.fields[t],o=this.paramTypes[n.type],i=o.read.call(this.pm,r),s=void 0;if(n.validate?s=n.validate(i):i||null!=n["default"]||(s="No default value available"),s)return o.reportInvalid?o.reportInvalid.call(this.pm,r,s):this.reportInvalid(r,s),null;e.push(i)}return e}},{key:"defaultValue",value:function(e){if(e.prefill){var t=e.prefill.call(this.command.self,this.pm);if(null!=t)return t}return e["default"]}},{key:"prompt",value:function(){var e=this;return o(this.pm,this.form,{onClose:function(){return e.close()}})}},{key:"reportInvalid",value:function(e,t){var n=e.parentNode,r="left: "+(e.offsetLeft+e.offsetWidth+2)+"px; top: "+(e.offsetTop-5)+"px",o=n.appendChild((0,a.elt)("div",{"class":"ProseMirror-invalid",style:r},t));setTimeout(function(){return n.removeChild(o)},1500)}}]),e}();u.prototype.paramTypes=Object.create(null),u.prototype.paramTypes.text={render:function(e,t){return(0,a.elt)("input",{type:"text",placeholder:e.label,value:t,autocomplete:"off"})},read:function(e){return e.value}},u.prototype.paramTypes.select={render:function(e,t){var n=e.options.call?e.options(this):e.options;return(0,a.elt)("select",null,n.map(function(e){return(0,a.elt)("option",{value:e.value,selected:e.value==t?"true":null},e.label)}))},read:function(e){return e.value}},(0,a.insertCSS)('\n.ProseMirror-prompt {\n  background: white;\n  padding: 2px 6px 2px 15px;\n  border: 1px solid silver;\n  position: absolute;\n  border-radius: 3px;\n  z-index: 11;\n}\n\n.ProseMirror-prompt input[type="text"],\n.ProseMirror-prompt textarea {\n  background: #eee;\n  border: none;\n  outline: none;\n}\n\n.ProseMirror-prompt input[type="text"] {\n  padding: 0 4px;\n}\n\n.ProseMirror-prompt-close {\n  position: absolute;\n  left: 2px; top: 1px;\n  color: #666;\n  border: none; background: transparent; padding: 0;\n}\n\n.ProseMirror-prompt-close:after {\n  content: "";\n  font-size: 12px;\n}\n\n.ProseMirror-invalid {\n  background: #ffc;\n  border: 1px solid #cc7;\n  border-radius: 4px;\n  padding: 5px 10px;\n  position: absolute;\n  min-width: 10em;\n}\n')},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n){if(!t.derive)return t;var r="object"==w(t.derive)?t.derive:{},o=r.name||n,i=e.constructor.deriveableCommands[o];i||T.AssertionError.raise("Don't know how to derive command "+o);var s=i.call(e,r);for(var a in t)"derive"!=a&&(s[a]=t[a]);return s}function a(e){function t(e,t){for(var r=0;r<t.length;r++){var o=/^(.+?)(?:\((\d+)\))?$/.exec(t[r]),i=k(o,3),s=(i[0],i[1]),a=i[2],u=void 0===a?50:a;(0,P["default"])(n[s]||(n[s]=[]),{command:e,rank:u},function(e,t){return e.rank-t.rank})}}var n={},r=A.browser.mac?"mac":"pc";for(var o in e.commands){var i=e.commands[o],s=i.spec.keys;s&&(Array.isArray(s)&&t(i,s),s.all&&t(i,s.all),s[r]&&t(i,s[r]))}for(var a in n)n[a]=n[a].map(function(e){return e.command.name});return new C["default"](n)}function u(e,t){e.signal("commandsChanging"),e.commands=t.derive(e.schema),e.input.baseKeymap=a(e),e.commandKeys=Object.create(null),e.signal("commandsChanged")}function l(e,t){var n=e.selection;return n.empty?t.isInSet(e.activeMarks()):e.doc.rangeHasMark(n.from,n.to,t)}function c(e,t){var n=e.selection,r=n.from,o=n.to,i=n.empty;if(i)return!t.isInSet(e.activeMarks())&&e.doc.path(r.path).type.canContainMark(t);var s=!1;return e.doc.nodesBetween(r,o,function(e){return s||e.isTextblock&&!e.type.canContainMark(t)?!1:void(e.isInline&&!t.isInSet(e.marks)&&(s=!0))}),s}function f(e,t){var n=e.selection,r=n.from,o=n.to,i=!1;return e.doc.nodesBetween(r,o,function(e){return e.isTextblock?(e.type.canContainMark(t)&&(i=!0),!1):void 0}),i}function p(e,t,n){var r=e.selection,o=r.from,i=r.to,s=r.empty,a=void 0,u=void 0;if(s)a=u=t.isInSet(e.activeMarks());else{var l=e.doc.path(o.path),c=l.size>o.offset&&l.chunkAfter(o.offset);a=c?t.isInSet(c.node.marks):null,u=t.isInSet(e.doc.marksAt(i))}return a&&u&&a.attrs[n]==u.attrs[n]?a.attrs[n]:void 0}function h(e,t,n){var r=e.selection.node;return r&&r.type==t?r.attrs[n]:void 0}function d(e,t){return t&&t.map(function(t){var n=e.attrs[t.attr],r={type:"text","default":n["default"],prefill:e instanceof S.NodeType?function(e){return h(e,this,t.attr)}:function(e){return p(e,this,t.attr)}};for(var o in t)r[o]=t[o];return r})}function m(e,t){var n=e.attrs;return e.params&&!function(){var r=Object.create(null);if(n)for(var o in n)r[o]=n[o];e.params.forEach(function(e,n){return r[e.attr]=t[n]}),n=r}(),n}function v(e,t,n,r){return S.Pos.samePath(t.path,n.path)&&t.path.length>=2&&0==t.path[t.path.length-1]&&r.canContain(e.path(t.path.slice(0,t.path.length-1)))}function g(e,t,n,r,o){var i=!1;return o||(o={}),e.nodesBetween(t,n||t,function(e){return e.isTextblock?(e.hasMarkup(r,o)&&(i=!0),!1):void 0}),i}function y(e,t,n){var r=e.selection,o=r.from,i=r.to,s=r.node;if(!s||s.isInline){if(!S.Pos.samePath(o.path,i.path))return!1;s=e.doc.path(o.path)}else if(!s.isTextblock)return!1;return s.hasMarkup(t,n)}var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},k=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w="function"==typeof Symbol&&"symbol"===b(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":b(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":b(e)},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CommandSet=t.Command=void 0,t.updateCommands=u,t.selectedNodeAttr=h;var _=n(352),C=r(_),S=n(353),M=n(364),A=n(351),O=n(374),P=r(O),T=n(357),D=n(361),E=n(386),j=t.Command=function(){function e(t,n,r){i(this,e),this.name=r,this.name||T.NamespaceError.raise("Trying to define a command without a name"),this.spec=t,this.self=n}return x(e,[{key:"exec",value:function(e,t){var n=this.spec.run;return t?(this.params.length!=(t?t.length:0)&&T.AssertionError.raise("Invalid amount of parameters for command "+this.name),n.call.apply(n,[this.self,e].concat(o(t)))):this.params.length?new e.options.commandParamPrompt(e,this).open():n.call(this.self,e)}},{key:"select",value:function(e){var t=this.spec.select;return t?t.call(this.self,e):!0}},{key:"active",value:function(e){var t=this.spec.active;return t?t.call(this.self,e):!1}},{key:"params",get:function(){return this.spec.params||z}},{key:"label",get:function(){return this.spec.label||this.name}}]),e}(),z=[],q=function(){function e(t,n){i(this,e),this.base=t,this.op=n}return x(e,[{key:"add",value:function(t,n){return new e(this,function(e,r){function o(t,r,o){n&&!n(t,r)||(e[t]&&T.AssertionError.raise("Duplicate definition of command "+t),e[t]=new j(r,o,t))}if("schema"===t)r.registry("command",function(e,t,n,r){o(r+":"+e,s(n,t,e),n)});else for(var i in t)o(i,t[i])})}},{key:"update",value:function(t){return new e(this,function(e){for(var n in t){var r=t[n];if(r)if(r.run)e[n]=new j(r,null,n);else{var o=e[n];o&&(e[n]=new j((0,D.copyObj)(r,(0,D.copyObj)(o.spec)),o.self,n))}else delete e[n]}})}},{key:"derive",value:function(e){var t=this.base?this.base.derive(e):Object.create(null);return this.op(t,e),t}}]),e}();t.CommandSet=q,q.empty=new q(null,function(){return null}),q["default"]=q.empty.add("schema").add(E.baseCommands),S.NodeType.deriveableCommands=Object.create(null),S.MarkType.deriveableCommands=Object.create(null),S.MarkType.deriveableCommands.set=function(e){return{run:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];t.setMark(this,!0,m(e,r))},select:function(t){return e.inverseSelect?f(t,this)&&!l(t,this):c(t,this)},params:d(this,e.params)}},S.MarkType.deriveableCommands.unset=function(){return{run:function(e){e.setMark(this,!1)},select:function(e){return l(e,this)}}},S.MarkType.deriveableCommands.toggle=function(){return{run:function(e){e.setMark(this,null)},active:function(e){return l(e,this)},select:function(e){return f(e,this)}}},S.NodeType.deriveableCommands.wrap=function(e){return{run:function(t){var n=t.selection,r=n.from,o=n.to,i=n.head,s=!1;if(e.list&&i&&v(t.doc,r,o,this)){if(0==r.path[r.path.length-2])return!1;s=!0}for(var a=arguments.length,u=Array(a>1?a-1:0),l=1;a>l;l++)u[l-1]=arguments[l];var c=t.tr.wrap(r,o,this,m(e,u));return s&&c.join(r.shorten(r.depth-2)),c.apply(t.apply.scroll)},select:function(t){var n=t.selection,r=n.from,o=n.to,i=n.head;return e.list&&i&&v(t.doc,r,o,this)&&0==r.path[r.path.length-2]?!1:(0,M.canWrap)(t.doc,r,o,this,e.attrs)},params:d(this,e.params)}},S.NodeType.deriveableCommands.make=function(e){return{run:function(t){var n=t.selection,r=n.from,o=n.to;return t.tr.setBlockType(r,o,this,e.attrs).apply(t.apply.scroll)},select:function(t){var n=t.selection,r=n.from,o=n.to,i=n.node;return i?i.isTextblock&&!i.hasMarkup(this,e.attrs):!g(t.doc,r,o,this,e.attrs)},active:function(t){return y(t,this,e.attrs)}}},S.NodeType.deriveableCommands.insert=function(e){return{run:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];return t.tr.replaceSelection(this.create(m(e,r))).apply(t.apply.scroll)},select:this.isInline?function(e){return e.doc.path(e.selection.from.path).type.canContainType(this)}:null,params:d(this,e.params)}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){"char"!=n&&"word"!=n&&m.AssertionError.raise("Unknown motion unit: "+n);for(var r=null,o=0;;){if(0==t)return t;var i=e.chunkBefore(t),s=i.start,a=i.node;if(!a.isText)return r?t:t-1;if("char"==n)for(var u=t-s;u>0;u--){if(!(0,v.isExtendingChar)(a.text.charAt(u-1)))return t-1;t--}else if("word"==n)for(var u=t-s;u>0;u--){var l=(0,v.charCategory)(a.text.charAt(u-1));if(null==r||1==o&&"space"==r)r=l;else if(r!=l)return t;t--,o++}}}function i(e,t){var n=e.doc.path(t.path),o=n.child(t.offset-1),i=n.child(t.offset);if(!o.type.canContainContent(i.type)||e.tr.join(t).apply(e.apply.scroll)===!1){var s=void 0;if(i.isTextblock&&(s=o.type.findConnection(i.type))){var a=e.tr,u=t.move(1);if(a.step("ancestor",t,u,null,{types:[o.type].concat(r(s)),attrs:[o.attrs].concat(r(s.map(function(){return null})))}),a.join(u),a.join(t),a.apply(e.apply.scroll)!==!1)return}var l=(0,g.findSelectionFrom)(e.doc,t,1);return e.tr.lift(l.from,l.to).apply(e.apply.scroll)}}function s(e,t,n){"char"!=n&&"word"!=n&&m.AssertionError.raise("Unknown motion unit: "+n);for(var r=null,o=0;;){if(t==e.size)return t;var i=e.chunkAfter(t),s=i.start,a=i.node;if(!a.isText)return r?t:t+1;if("char"==n)for(var u=t-s;u<a.text.length;u++){if(!(0,v.isExtendingChar)(a.text.charAt(u+1)))return t+1;t++}else if("word"==n)for(var u=t-s;u<a.text.length;u++){var l=(0,v.charCategory)(a.text.charAt(u));if(null==r||1==o&&"space"==r)r=l;else if(r!=l)return t;t++,o++}}}function a(e){var t=e.selection,n=t.node,r=t.from;return n?(0,d.joinableBlocks)(e.doc,r)?r:null:(0,d.joinPoint)(e.doc,r,-1)}function u(e){var t=e.selection,n=t.node,r=t.to;return n?(0,d.joinableBlocks)(e.doc,r)?r:null:(0,d.joinPoint)(e.doc,r,1)}function l(e){var t=e.selection,n=0;if(t.node)return!!t.from.depth&&t.from.shorten();for(;n<t.head.depth&&n<t.anchor.depth&&t.head.path[n]==t.anchor.path[n];n++);return 0==n?!1:t.head.shorten(n-1)}function c(e,t){var n=e.selection,r=n.from,o=n.to,i=n.node,s=t>0?o:r;return(0,g.findSelectionFrom)(e.doc,i&&i.isBlock?s:s.shorten(null,t>0?1:0),t)}function f(e,t){var n=e.selection,r=n.empty,o=n.node,i=n.from,s=n.to;if(!r&&!o)return!1;if(o&&o.isInline)return e.setTextSelection(t>0?s:i),!0;var a=void 0;if(!o&&(a=e.doc.path(i.path))&&(t>0?i.offset<a.size:i.offset)){var u=t>0?a.chunkAfter(i.offset):a.chunkBefore(i.offset),l=u.node,f=u.start;return l.type.selectable&&f==i.offset-(t>0?0:1)?(e.setNodeSelection(0>t?i.move(-1):i),!0):!1}var p=c(e,t);return p&&(p instanceof g.NodeSelection||o)?(e.setSelectionDirect(p),!0):!1}function p(e,t){var n=e.selection,r=n.empty,o=n.node,i=n.from,s=n.to;if(!r&&!o)return!1;var a=!0;if(o&&!o.isInline||(a=(0,g.verticalMotionLeavesTextblock)(e,t>0?s:i,t)),a){var u=c(e,t);if(u&&u instanceof g.NodeSelection)return e.setSelectionDirect(u),o||(e.sel.lastNonNodePos=i),!0}if(!o)return!1;if(o.isInline)return(0,y.setDOMSelectionToPos)(e,i),!1;var l=e.sel.lastNonNodePos,f=(0,g.findSelectionFrom)(e.doc,0>t?i:s,t);return l&&f&&h.Pos.samePath(l.path,f.from.path)?((0,y.setDOMSelectionToPos)(e,l),!1):(e.setSelectionDirect(f),!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.baseCommands=void 0;var h=n(353),d=n(364),m=n(357),v=n(387),g=n(388),y=n(389),b=t.baseCommands=Object.create(null);b.deleteSelection={label:"Delete the selection",run:function(e){return e.tr.replaceSelection().apply(e.apply.scroll)},keys:{all:["Backspace(10)","Delete(10)","Mod-Backspace(10)","Mod-Delete(10)"],mac:["Ctrl-H(10)","Alt-Backspace(10)","Ctrl-D(10)","Ctrl-Alt-Backspace(10)","Alt-Delete(10)","Alt-D(10)"]}},b.joinBackward={label:"Join with the block above",run:function(e){var t=e.selection,n=t.head,r=t.empty;if(!r||n.offset>0)return!1;for(var o=void 0,s=void 0,a=n.path.length-1;!o&&a>=0;a--)n.path[a]>0&&(s=n.shorten(a),o=e.doc.path(s.path).child(s.offset-1));return o?null==o.type.contains?e.tr["delete"](s.move(-1),s).apply(e.apply.scroll):i(e,s):e.tr.lift(n).apply(e.apply.scroll)},keys:["Backspace(30)","Mod-Backspace(30)"]},b.deleteCharBefore={label:"Delete a character before the cursor",run:function(e){var t=e.selection,n=t.head,r=t.empty;if(!r||0==n.offset)return!1;var i=o(e.doc.path(n.path),n.offset,"char");return e.tr["delete"](new h.Pos(n.path,i),n).apply(e.apply.scroll)},keys:{all:["Backspace(60)"],mac:["Ctrl-H(40)"]}},b.deleteWordBefore={label:"Delete the word before the cursor",run:function(e){var t=e.selection,n=t.head,r=t.empty;if(!r||0==n.offset)return!1;var i=o(e.doc.path(n.path),n.offset,"word");return e.tr["delete"](new h.Pos(n.path,i),n).apply(e.apply.scroll)},keys:{all:["Mod-Backspace(40)"],mac:["Alt-Backspace(40)"]}},b.joinForward={label:"Join with the block below",run:function(e){var t=e.selection,n=t.head,r=t.empty;if(!r||n.offset<e.doc.path(n.path).size)return!1;for(var o=void 0,s=void 0,a=n.path.length-1;!o&&a>=0;a--){s=n.shorten(a,1);var u=e.doc.path(s.path);s.offset<u.size&&(o=u.child(s.offset))}return o?null==o.type.contains?e.tr["delete"](s,s.move(1)).apply(e.apply.scroll):i(e,s):!1},keys:["Delete(30)","Mod-Delete(30)"]},b.deleteCharAfter={label:"Delete a character after the cursor",run:function(e){var t=e.selection,n=t.head,r=t.empty;if(!r||n.offset==e.doc.path(n.path).size)return!1;var o=s(e.doc.path(n.path),n.offset,"char");return e.tr["delete"](n,new h.Pos(n.path,o)).apply(e.apply.scroll)},keys:{all:["Delete(60)"],mac:["Ctrl-D(60)"]}},b.deleteWordAfter={label:"Delete a word after the cursor",run:function(e){var t=e.selection,n=t.head,r=t.empty;if(!r||n.offset==e.doc.path(n.path).size)return!1;var o=s(e.doc.path(n.path),n.offset,"word");return e.tr["delete"](n,new h.Pos(n.path,o)).apply(e.apply.scroll)},keys:{all:["Mod-Delete(40)"],mac:["Ctrl-Alt-Backspace(40)","Alt-Delete(40)","Alt-D(40)"]}},b.joinUp={label:"Join with above block",run:function(e){var t=a(e),n=e.selection.node;return t?(e.tr.join(t).apply(),void(n&&e.setNodeSelection(t.move(-1)))):!1},select:function(e){return a(e)},menu:{group:"block",rank:80,display:{type:"icon",width:800,height:900,path:"M0 75h800v125h-800z M0 825h800v-125h-800z M250 400h100v-100h100v100h100v100h-100v100h-100v-100h-100z"}},keys:["Alt-Up"]},b.joinDown={label:"Join with below block",run:function(e){var t=e.selection.node,n=u(e);return n?(e.tr.join(n).apply(),void(t&&e.setNodeSelection(n.move(-1)))):!1},select:function(e){return u(e)},keys:["Alt-Down"]},b.lift={label:"Lift out of enclosing block",run:function(e){var t=e.selection,n=t.from,r=t.to;return e.tr.lift(n,r).apply(e.apply.scroll)},select:function(e){var t=e.selection,n=t.from,r=t.to;return(0,d.canLift)(e.doc,n,r)},menu:{group:"block",rank:75,display:{type:"icon",width:1024,height:1024,path:"M219 310v329q0 7-5 12t-12 5q-8 0-13-5l-164-164q-5-5-5-13t5-13l164-164q5-5 13-5 7 0 12 5t5 12zM1024 749v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12zM1024 530v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 310v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 91v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12z"}},keys:["Alt-Left"]},b.newlineInCode={label:"Insert newline",run:function(e){var t=e.selection,n=t.from,r=t.to,o=t.node,i=void 0;return!o&&h.Pos.samePath(n.path,r.path)&&(i=e.doc.path(n.path)).type.isCode&&r.offset<i.size?e.tr.typeText("\n").apply(e.apply.scroll):!1},keys:["Enter(10)"]},b.createParagraphNear={label:"Create a paragraph near the selected leaf block",run:function(e){var t=e.selection,n=t.from,r=t.to,o=t.node;if(!o||!o.isBlock||o.type.contains)return!1;var i=n.offset?r:n;e.tr.insert(i,e.schema.defaultTextblockType().create()).apply(e.apply.scroll),e.setTextSelection(new h.Pos(i.toPath(),0))},keys:["Enter(20)"]},b.liftEmptyBlock={label:"Move current block up",run:function(e){var t=e.selection,n=t.head,r=t.empty;if(!r||n.offset>0||e.doc.path(n.path).size)return!1;if(n.depth>1){var o=n.shorten();if(o.offset>0&&o.offset<e.doc.path(o.path).size-1&&e.tr.split(o).apply()!==!1)return}return e.tr.lift(n).apply(e.apply.scroll)},keys:["Enter(30)"]},b.splitBlock={label:"Split the current block",run:function(e){var t=e.selection,n=t.from,r=t.to,o=t.node,i=e.doc.path(r.path);if(o&&o.isBlock)return n.offset?e.tr.split(n).apply(e.apply.scroll):!1;var s=e.schema.defaultTextblockType(),a=r.offset==i.size?s:null,u=e.tr["delete"](n,r).split(n,1,a);return r.offset<i.size&&!n.offset&&e.doc.path(n.path).type!=s&&u.setNodeType(n.shorten(),s),u.apply(e.apply.scroll)},keys:["Enter(60)"]},b.selectParentNode={label:"Select parent node",run:function(e){var t=l(e);return t?void e.setNodeSelection(t):!1},select:function(e){return l(e)},menu:{group:"block",rank:90,display:{type:"icon",text:"",style:"font-weight: bold; vertical-align: 20%"
}},keys:["Esc"]},b.selectNodeLeft={label:"Move the selection onto or out of the block to the left",run:function(e){var t=f(e,-1);return t&&e.scrollIntoView(),t},keys:["Left","Mod-Left"]},b.selectNodeRight={label:"Move the selection onto or out of the block to the right",run:function(e){var t=f(e,1);return t&&e.scrollIntoView(),t},keys:["Right","Mod-Right"]},b.selectNodeUp={label:"Move the selection onto or out of the block above",run:function(e){var t=p(e,-1);return t!==!1&&e.scrollIntoView(),t},keys:["Up"]},b.selectNodeDown={label:"Move the selection onto or out of the block below",run:function(e){var t=p(e,1);return t!==!1&&e.scrollIntoView(),t},keys:["Down"]},b.undo={label:"Undo last change",run:function(e){return e.scrollIntoView(),e.history.undo()},select:function(e){return e.history.undoDepth>0},menu:{group:"history",rank:10,display:{type:"icon",width:1024,height:1024,path:"M761 1024c113-206 132-520-313-509v253l-384-384 384-384v248c534-13 594 472 313 775z"}},keys:["Mod-Z"]},b.redo={label:"Redo last undone change",run:function(e){return e.scrollIntoView(),e.history.redo()},select:function(e){return e.history.redoDepth>0},menu:{group:"history",rank:20,display:{type:"icon",width:1024,height:1024,path:"M576 248v-248l384 384-384 384v-253c-446-10-427 303-313 509-280-303-221-789 313-775z"}},keys:["Mod-Y","Shift-Mod-Z"]}},function(e,t){"use strict";function n(e){return/\w/.test(e)||o(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||i.test(e))}function r(e){return/\s/.test(e)?"space":n(e)?"word":"other"}function o(e){return e.charCodeAt(0)>=768&&s.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isWordChar=n,t.charCategory=r,t.isExtendingChar=o;var i=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,s=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":d(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":d(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(!a(e))return null;var t=window.getSelection();return new x((0,b.posFromDOM)(e,t.anchorNode,t.anchorOffset,!0),(0,b.posFromDOM)(e,t.focusNode,t.focusOffset,!0))}function a(e){var t=window.getSelection();return t.rangeCount&&(0,y.contains)(e.content,t.anchorNode)}function u(e,t,n,r,o){var i=e.path(t);if(i.isTextblock)return new x(new v.Pos(t,n));for(var s=n+(r>0?0:-1);r>0?s<i.size:s>=0;s+=r){var a=i.child(s);if(!o&&null==a.type.contains&&a.type.selectable)return new _(new v.Pos(t,s),new v.Pos(t,s+1),a);t.push(s);var l=u(e,t,0>r?a.size:0,r,o);if(l)return l;t.pop()}}function l(e,t,n,r){for(var o=t.path.slice(),i=t.offset;;){var s=u(e,o,i,n,r);if(s)return s;if(!o.length)break;i=o.pop()+(n>0?1:0)}}function c(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],r=arguments[3],o=l(e,t,n,r)||l(e,t,-n,r);return o||k("Searching for selection in invalid document "+e),o}function f(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=arguments[2];return u(e,t.slice(),0,1,n)}function p(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=arguments[2];return u(e,t.slice(),e.size,-1,n)}function h(e,t,n){for(var r=(0,b.pathToDOM)(e.content,t.path),o=(0,b.coordsAtPos)(e,t),i=r.firstChild;i;i=i.nextSibling)if(1==i.nodeType)for(var s=i.getClientRects(),a=0;a<s.length;a++){var u=s[a];if(0>n?u.bottom<o.top:u.top>o.bottom)return!1}return!0}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.NodeSelection=t.TextSelection=t.Selection=t.SelectionState=t.SelectionError=void 0,t.rangeFromDOMLoose=s,t.hasFocus=a,t.findSelectionFrom=l,t.findSelectionNear=c,t.findSelectionAtStart=f,t.findSelectionAtEnd=p,t.verticalMotionLeavesTextblock=h;var v=n(353),g=n(357),y=n(351),b=n(389),k=t.SelectionError=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),t}(g.ProseMirrorError),w=(t.SelectionState=function(){function e(t,n){var o=this;r(this,e),this.pm=t,this.range=n,this.lastNonNodePos=null,this.lastFocusTime=this.lastFastPollTime=0,this.polling=null,this.lastAnchorNode=this.lastHeadNode=this.lastAnchorOffset=this.lastHeadOffset=null,this.lastNode=null,t.content.addEventListener("focus",function(){return o.receivedFocus()}),this.poller=this.poller.bind(this)}return m(e,[{key:"setAndSignal",value:function(e,t){this.set(e,t),this.pm.signal("selectionChange")}},{key:"set",value:function(e,t){this.range=e,e.node||(this.lastNonNodePos=null),t!==!1&&(this.lastAnchorNode=null)}},{key:"poller",value:function(){a(this.pm)?(this.pm.operation||this.readFromDOM(),this.polling=setTimeout(this.poller,100)):this.polling=null}},{key:"startPolling",value:function(){clearTimeout(this.polling),this.polling=setTimeout(this.poller,50)}},{key:"fastPoll",value:function(){this.lastFastPollTime=Date.now(),this.startPolling()}},{key:"stopPolling",value:function(){clearTimeout(this.polling),this.polling=null}},{key:"domChanged",value:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastHeadNode||e.focusOffset!=this.lastHeadOffset}},{key:"storeDOMState",value:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastHeadNode=e.focusNode,this.lastHeadOffset=e.focusOffset}},{key:"readFromDOM",value:function(){if(this.pm.input.composing||!a(this.pm)||!this.domChanged())return!1;var e=window.getSelection(),t=this.pm.doc,n=(0,b.posFromDOM)(this.pm,e.anchorNode,e.anchorOffset),r=e.isCollapsed?n:(0,b.posFromDOM)(this.pm,e.focusNode,e.focusOffset);if(this.range.node&&e.isCollapsed&&this.lastFocusTime>Date.now()-100&&this.lastFastPollTime<Date.now()-100){var o=f(this.pm.doc,void 0,!0);if(o&&0==n.cmp(o.anchor))return this.toDOM()}var i=c(t,r,this.range.head&&this.range.head.cmp(r)<0?-1:1);return i instanceof x&&t.path(n.path).isTextblock&&(i=new x(n,i.head)),this.setAndSignal(i),i instanceof _||i.head.cmp(r)||i.anchor.cmp(n)?this.toDOM():(this.clearNode(),this.storeDOMState()),!0}},{key:"toDOM",value:function(e){this.range instanceof _?this.nodeToDOM(e):this.rangeToDOM(e)}},{key:"nodeToDOM",value:function(e){window.getSelection().removeAllRanges(),e&&this.pm.content.focus();var t=(0,b.pathToDOM)(this.pm.content,this.range.from.toPath());t!=this.lastNode&&(this.clearNode(),t.classList.add("ProseMirror-selectednode"),this.lastNode=t)}},{key:"clearNode",value:function(){return this.lastNode?(this.lastNode.classList.remove("ProseMirror-selectednode"),this.lastNode=null,!0):void 0}},{key:"rangeToDOM",value:function(e){if(!this.clearNode()&&!a(this.pm)){if(!e)return;y.browser.gecko&&this.pm.content.focus()}if(this.domChanged()){var t=this.pm.content,n=(0,b.DOMFromPos)(t,this.range.anchor),r=(0,b.DOMFromPos)(t,this.range.head),o=window.getSelection(),i=document.createRange();if(o.extend)i.setEnd(n.node,n.offset),i.collapse(!1);else{if(this.range.anchor.cmp(this.range.head)>0){var s=n;n=r,r=s}i.setEnd(r.node,r.offset),i.setStart(n.node,n.offset)}o.removeAllRanges(),o.addRange(i),o.extend&&o.extend(r.node,r.offset),this.storeDOMState()}}},{key:"receivedFocus",value:function(){this.lastFocusTime=Date.now(),null==this.polling&&this.startPolling()}}]),e}(),t.Selection=function C(){r(this,C)}),x=t.TextSelection=function(e){function t(e,n){r(this,t);var i=o(this,Object.getPrototypeOf(t).call(this));return i.anchor=e,i.head=n||e,i}return i(t,e),m(t,[{key:"eq",value:function(e){return e instanceof t&&!e.head.cmp(this.head)&&!e.anchor.cmp(this.anchor)}},{key:"map",value:function(e,n){var r=n.map(this.head).pos;if(!e.path(r.path).isTextblock)return c(e,r);var o=n.map(this.anchor).pos;return new t(e.path(o.path).isTextblock?o:r,r)}},{key:"inverted",get:function(){return this.anchor.cmp(this.head)>0}},{key:"from",get:function(){return this.inverted?this.head:this.anchor}},{key:"to",get:function(){return this.inverted?this.anchor:this.head}},{key:"empty",get:function(){return 0==this.anchor.cmp(this.head)}}]),t}(w),_=t.NodeSelection=function(e){function t(e,n,i){r(this,t);var s=o(this,Object.getPrototypeOf(t).call(this));return s.from=e,s.to=n,s.node=i,s}return i(t,e),m(t,[{key:"eq",value:function(e){return e instanceof t&&!this.from.cmp(e.from)}},{key:"map",value:function(e,n){var r=n.map(this.from,1).pos,o=n.map(this.to,-1).pos;if(v.Pos.samePath(r.path,o.path)&&r.offset==o.offset-1){var i=e.nodeAfter(r);if(i.type.selectable)return new t(r,o,i)}return c(e,r)}},{key:"empty",get:function(){return!1}}]),t}(w)},function(e,t,n){"use strict";function r(e,t){for(var n=[];t!=e.content;){var r=t.getAttribute("pm-offset");r&&n.unshift(+r),t=t.parentNode}return n}function o(e){var t=e.getAttribute("pm-leaf");return t&&"true"!=t?+t:1}function i(e,t,n,i){!i&&e.operation&&e.doc!=e.operation.doc&&S.AssertionError.raise("Fetching a position from an outdated DOM structure"),null==n&&(n=Array.prototype.indexOf.call(t.parentNode.childNodes,t),t=t.parentNode);for(var s=0,a=void 0;;){var u=0;if(3==t.nodeType)s+=n;else{if(t.hasAttribute("pm-container"))break;(a=t.getAttribute("pm-inner-offset"))?(s+=+a,u=-1):n&&n==t.childNodes.length&&(u=1)}var l=t.parentNode;n=0>u?0:Array.prototype.indexOf.call(l.childNodes,t)+u,t=l}var c=r(e,t);if(t.hasAttribute("pm-leaf"))return _.Pos.from(c,s+(n?1:0));for(var f=0,p=n-1;p>=0;p--){var h=t.childNodes[p];if(3==h.nodeType)i&&(s+=h.nodeValue.length);else{if(a=h.getAttribute("pm-offset")){f=+a+o(h);break}i&&!h.hasAttribute("pm-ignore")&&(s+=h.textContent.length)}}return new _.Pos(c,f+s)}function s(e,t,n){for(var r=u(e),o=n?r.lastChild:r.firstChild;o;o=n?o.previousSibling:o.nextSibling)if(1==o.nodeType){var i=o.getAttribute("pm-offset");if(i&&+i==t)return o}}function a(e,t){for(var n=e,r=0;r<t.length;r++)n=s(n,t[r]),n||S.AssertionError.raise("Failed to resolve path "+t.join("/"));return n}function u(e){return e.hasAttribute("pm-container")?e:e.querySelector("[pm-container]")}function l(e,t,n){for(var r,i=e.firstChild,s=0;i;i=i.nextSibling,s++)if(1==i.nodeType&&(r=i.getAttribute("pm-offset"))){var a=t-+r,u=o(i);if(a>=0&&(n?u>=a:u>a))return{node:i,offset:s,innerOffset:a}}}function c(e,t){for(;;){var n=e.firstChild;if(!n)return{node:e,offset:t};if(1!=n.nodeType)return{node:n,offset:t};if(n.hasAttribute("pm-inner-offset")){for(var r=0;;){var o=n.nextSibling,i=void 0;if(!o||(i=+o.getAttribute("pm-inner-offset"))>=t)break;n=o,r=i}t-=r}e=n}}function f(e,t){var n=u(a(e,t.path)),r=l(n,t.offset,!0),o=void 0;return r?"true"!=r.node.getAttribute("pm-leaf")&&(o=c(r.node,r.innerOffset))?o:{node:r.node.parentNode,offset:r.offset+(r.innerOffset?1:0)}:{node:n,offset:0}}function p(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function h(e,t){t||(t=e.sel.range.head||e.sel.range.from);for(var n=b(e,t),r=e.content;;r=r.parentNode){var o=r==document.body,i=o?p():r.getBoundingClientRect(),s=0,a=0;if(n.top<i.top?a=-(i.top-n.top+M):n.bottom>i.bottom&&(a=n.bottom-i.bottom+M),n.left<i.left?s=-(i.left-n.left+M):n.right>i.right&&(s=n.right-i.right+M),s||a?o&&window.scrollBy(s,a):(a&&(r.scrollTop+=a),s&&(r.scrollLeft+=s)),o)break}}function d(e,t){for(var n=void 0,r=1e8,o=void 0,i=0,s=e.firstChild,a=0;s;s=s.nextSibling,a++){var u=void 0;if(1==s.nodeType)u=s.getClientRects();else{if(3!=s.nodeType)continue;u=y(s)}for(var l=0;l<u.length;l++){var c=u[l];if(c.left<=t.left&&c.right>=t.left){var f=c.top>t.top?c.top-t.top:c.bottom<t.top?t.top-c.bottom:0;if(r>f){n=s,r=f,o=f?{left:t.left,top:c.top}:t,1!=s.nodeType||s.firstChild||(i=l+(t.left>=(c.left+c.right)/2?1:0));continue}}!n&&(t.top>=c.bottom||t.top>=c.top&&t.left>=c.right)&&(i=l+1)}}return n?3==n.nodeType?m(n,o):n.firstChild?d(n,o):{node:e,offset:i}:{node:e,offset:i}}function m(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;n>o;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=r.getBoundingClientRect();if(i.top!=i.bottom&&i.left<=t.left&&i.right>=t.left&&i.top<=t.top&&i.bottom>=t.top)return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function v(e,t){var n=document.elementFromPoint(t.left,t.top+1);if(!(0,C.contains)(e.content,n))return null;n.firstChild||(n=n.parentNode);var r=d(n,t),o=r.node,s=r.offset;return i(e,o,s)}function g(e,t,n){var r=document.createRange();return r.setEnd(e,n),r.setStart(e,t),r.getBoundingClientRect()}function y(e){var t=document.createRange();return t.setEnd(e,e.nodeValue.length),t.setStart(e,0),t.getClientRects()}function b(e,t){var n=f(e.content,t),r=n.node,o=n.offset,i=void 0,s=void 0;if(3==r.nodeType)o<r.nodeValue.length&&(s=g(r,o,o+1),i="left"),s&&s.left!=s.right||!o||(s=g(r,o-1,o),i="right");else if(r.firstChild){if(o<r.childNodes.length){var a=r.childNodes[o];s=3==a.nodeType?g(a,0,a.nodeValue.length):a.getBoundingClientRect(),i="left"}if((!s||s.left==s.right)&&o){var a=r.childNodes[o-1];s=3==a.nodeType?g(a,0,a.nodeValue.length):a.getBoundingClientRect(),i="right"}}else s=r.getBoundingClientRect(),i="left";var u=s[i];return{top:s.top,bottom:s.bottom,left:u,right:u}}function k(e,t){var n=f(e.content,t),r=n.node,o=n.offset,i=document.createRange();i.setEnd(r,o),i.setStart(r,o);var s=window.getSelection();s.removeAllRanges(),s.addRange(i)}function w(e,t,n,o){for(;t&&t!=e.content;t=t.parentNode)if(t.hasAttribute("pm-offset")){var i=r(e,t),s=e.doc.path(i);if(s.type.countCoordsAsChild){var a=s.type.countCoordsAsChild(s,i,t,n);if(a)return a}if((o||null==s.type.contains)&&s.type.selectable)return _.Pos.from(i);if(!o)return null}}function x(e,t,n,o){for(var i=n.target;i&&i!=e.content;i=i.parentNode)if(i.hasAttribute("pm-offset")){var s=r(e,i),a=e.doc.path(s),u=a.type[t]&&a.type[t](e,n,s,a)!==!1;if(o||u)return u}}Object.defineProperty(t,"__esModule",{value:!0}),t.pathFromDOM=r,t.widthFromDOM=o,t.posFromDOM=i,t.findByPath=s,t.pathToDOM=a,t.childContainer=u,t.DOMFromPos=f,t.scrollIntoView=h,t.posAtCoords=v,t.coordsAtPos=b,t.setDOMSelectionToPos=k,t.selectableNodeAbove=w,t.handleNodeClick=x;var _=n(353),C=n(351),S=n(357),M=5},function(e,t,n){"use strict";function r(e,t){return{onRender:function(e,t,n){return e.isText||null!=e.type.contains||(t.contentEditable=!1,e.isBlock&&t.setAttribute("pm-leaf","true")),e.isBlock&&null!=n&&t.setAttribute("pm-offset",n),e.isTextblock&&s(t,e),t},onContainer:function(e){e.setAttribute("pm-container",!0)},renderInlineFlat:function(n,r,i){t.advanceTo(new c.Pos(e,i));for(var s=new c.Pos(e,i+n.width),a=t.nextChangeBefore(s),u=r,l=void 0,f=0;f<n.marks.length;f++)u=u.firstChild;1!=r.nodeType&&(r=(0,p.elt)("span",null,r),a||(l=r)),l||!a&&!t.current.length||(l=u==r?r=(0,p.elt)("span",null,u):u.parentNode.appendChild((0,p.elt)("span",null,u))),r.setAttribute("pm-offset",i),null==n.type.contains&&r.setAttribute("pm-leaf",n.isText?n.width:"true");for(var h=0;a;){var d=a-i,m=o(l,d);t.current.length&&(m.className=t.current.join(" ")),m.setAttribute("pm-inner-offset",h),h+=d,i+=d,t.advanceTo(new c.Pos(e,i)),(a=t.nextChangeBefore(s))||l.setAttribute("pm-inner-offset",h)}return t.current.length&&(l.className=t.current.join(" ")),r},document:document,path:e}}function o(e,t){var n=e.firstChild,r=n.nodeValue,o=e.parentNode.insertBefore((0,p.elt)("span",null,r.slice(0,t)),e);return n.nodeValue=r.slice(t),o}function i(e,t){e.content.textContent="",e.content.appendChild((0,f.toDOM)(t,r([],e.ranges.activeRangeTracker())))}function s(e,t){var n=0==t.size||t.lastChild.type.isBR||t.type.isCode&&t.lastChild.isText&&/\n$/.test(t.lastChild.text)?"br":t.lastChild.isText||null!=t.lastChild.type.contains?null:"text",r=e.lastChild,o=r&&1==r.nodeType&&r.hasAttribute("pm-ignore")?"BR"==r.nodeName?"br":"text":null;n!=o&&(o&&e.removeChild(r),n&&e.appendChild("br"==n?(0,p.elt)("br",{"pm-ignore":"trailing-break"}):(0,p.elt)("span",{"pm-ignore":"cursor-text"},"")))}function a(e,t){for(var n,r=e.copy();n=r.next().value;)if(n==t)return n}function u(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}function l(e,t,n,o){function l(e,n,r){for(var o,i=n.iter(),p=r.iter(),m=p.next().value,v=e.firstChild;o=i.next().value;){var g=i.offset-o.width,y=void 0,b=void 0;if(n.isTextblock||c.path.push(g),m==o)y=m;else if(y=a(p,o))for(;m!=y;)m=p.next().value,v=u(v);if(y&&!t.get(y))b=!0;else if(m&&!o.isText&&o.sameMarkup(m)&&t.get(m)!=h.DIRTY_REDRAW)b=!0,m.type.contains&&l((0,d.childContainer)(v),o,m);else{var k=(0,f.nodeToDOM)(o,c,g);e.insertBefore(k,v),b=!1}b&&(v.setAttribute("pm-offset",g),v=v.nextSibling,m=p.next().value),n.isTextblock||c.path.pop()}for(;m;)v=u(v),m=p.next().value;n.isTextblock&&s(e,n)}if(t.get(o)==h.DIRTY_REDRAW)return i(e,n);var c=r([],e.ranges.activeRangeTracker());l(e.content,n,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.draw=i,t.redraw=l;var c=n(353),f=n(377),p=n(351),h=n(349),d=n(389)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){var r=e.input.keySeq;if(r){if(d["default"].isModifierKey(t))return!0;clearTimeout(x),x=setTimeout(function(){e.input.keySeq==r&&(e.input.keySeq=null)},50),t=r+" "+t}for(var o=function a(t){if(t===!1)return"nothing";if("..."==t)return"multi";if(null==t)return!1;var n=!1;if(Array.isArray(t))for(var r=0;n===!1&&r<t.length;r++)n=a(t[r]);else n="string"==typeof t?e.execCommand(t):t(e);return 0==n?!1:"handled"},i=void 0,s=0;!i&&s<e.input.keymaps.length;s++)i=o(e.input.keymaps[s].map.lookup(t,e));return i||(i=o(e.input.baseKeymap.lookup(t,e))||o(g.captureKeys.lookup(t))),"multi"==i&&(e.input.keySeq=t),"handled"!=i&&"multi"!=i||n.preventDefault(),r&&!i&&/\'$/.test(t)?(n.preventDefault(),!0):!!i}function s(e,t,n){if(t.empty&&!n)return!1;var r=e.input.storedMarks||e.doc.marksAt(t.from);e.tr.replaceWith(t.from,t.to,e.schema.text(n,r)).apply({scrollIntoView:!0}),e.signal("textInput",n)}function a(e,t){var n=(0,w.selectableNodeAbove)(e,t.target,{left:t.clientX,top:t.clientY},!0);if(!n)return e.sel.fastPoll();var r=e.selection,o=r.node,i=r.from;if(o&&n.depth>=i.depth&&0==n.shorten(i.depth).cmp(i)){if(0==i.depth)return e.sel.fastPoll();n=i.shorten()}e.setNodeSelection(n),e.focus(),t.preventDefault()}function u(e,t){t.preventDefault();var n=(0,w.selectableNodeAbove)(e,t.target,{left:t.clientX,top:t.clientY},!0);if(n){var r=e.doc.nodeAfter(n);if(r.isBlock&&!r.isTextblock)e.setNodeSelection(n);else{var o=r.isInline?n.path:n.toPath();r.isInline&&(r=e.doc.path(o)),e.setTextSelection(new m.Pos(o,0),new m.Pos(o,r.size))}e.focus()}}function l(e){var t=e.input.composing,n=(0,b.textInContext)(t.context,t.endData),r=(0,k.rangeFromDOMLoose)(e);e.ensureOperation(),e.input.composing=null,n!=t.data&&s(e,t.range,n),r&&!r.eq(e.sel.range)&&e.setSelectionDirect(r)}function c(e,t,n,r){var o=e.sliceBetween(t,n);O={doc:e,from:t,to:n,schema:e.type.schema,html:(0,v.toHTML)(o),text:(0,v.toText)(o)},r&&(r.clearData(),r.setData("text/html",O.html),r.setData("text/plain",O.text))}function f(e,t,n){var r=t.getData("text/plain"),o=t.getData("text/html");if(!o&&!r)return null;var i=void 0;if(n&&r)i=(0,v.fromText)(e.schema,e.signalPipelined("transformPastedText",r));else{if(O&&O.html==o&&O.schema==e.schema)return O;i=o?(0,v.fromHTML)(e.schema,e.signalPipelined("transformPastedHTML",o)):(0,v.parseFrom)(e.schema,e.signalPipelined("transformPastedText",r),(0,v.knownSource)("markdown")?"markdown":"text")}return{doc:i,from:(0,k.findSelectionAtStart)(i).from,to:(0,k.findSelectionAtEnd)(i).to}}var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0,t.dispatchKey=i;var h=n(352),d=r(h),m=n(353),v=n(377),g=n(392),y=n(351),b=n(393),k=n(388),w=n(389),x=null,_={};t.Input=function(){function e(t){var n=this;o(this,e),this.pm=t,this.baseKeymap=null,this.keySeq=null,this.composing=null,this.mouseDown=null,this.shiftKey=this.updatingComposition=!1,this.skipInput=0,this.draggingFrom=!1,this.keymaps=[],this.defaultKeymap=null,this.storedMarks=null,this.dropTarget=t.wrapper.appendChild((0,y.elt)("div",{"class":"ProseMirror-drop-target"}));var r=function(e){var n=_[e];t.content.addEventListener(e,function(e){return n(t,e)})};for(var i in _)r(i);t.on("selectionChange",function(){return n.storedMarks=null})}return p(e,[{key:"maybeAbortComposition",value:function(){if(this.composing&&!this.updatingComposition){if(this.composing.finished)l(this.pm);else{this.composing=null,this.skipInput++;var e=window.getSelection();if(e.rangeCount){var t=e.getRangeAt(0);e.removeAllRanges(),e.addRange(t)}}return!0}}}]),e}();_.keydown=function(e,t){if(e.signal("interaction"),16==t.keyCode&&(e.input.shiftKey=!0),!e.input.composing){var n=d["default"].keyName(t);n&&i(e,n,t)||e.sel.fastPoll()}},_.keyup=function(e,t){16==t.keyCode&&(e.input.shiftKey=!1)},_.keypress=function(e,t){if(!(e.input.composing||!t.charCode||t.ctrlKey&&!t.altKey||y.browser.mac&&t.metaKey||i(e,d["default"].keyName(t)))){var n=e.selection;n.node&&null==n.node.contains&&(e.tr["delete"](n.from,n.to).apply(),n=e.selection),s(e,n,String.fromCharCode(t.charCode)),t.preventDefault()}};var C=0,S=0;_.mousedown=function(e,t){e.signal("interaction");var n=Date.now(),r=500>n-C,o=600>n-S;S=C,C=n,o?u(e,t):e.input.mouseDown=new M(e,t,r)};var M=function(){function e(t,n,r){o(this,e),this.pm=t,this.event=n,this.leaveToBrowser=t.input.shiftKey||r;var i=(0,w.pathFromDOM)(t,n.target),s=t.doc.path(i);this.mightDrag=s.type.draggable||s==t.sel.range.node?i:null,this.mightDrag&&(n.target.draggable=!0,y.browser.gecko&&(this.setContentEditable=!n.target.hasAttribute("contentEditable"))&&n.target.setAttribute("contentEditable","false")),this.x=n.clientX,this.y=n.clientY,addEventListener("mouseup",this.up=this.up.bind(this)),addEventListener("mousemove",this.move=this.move.bind(this)),t.sel.fastPoll()}return p(e,[{key:"done",value:function(){removeEventListener("mouseup",this.up),removeEventListener("mousemove",this.move),this.mightDrag&&(this.event.target.draggable=!1,y.browser.gecko&&this.setContentEditable&&this.event.target.removeAttribute("contentEditable"))}},{key:"up",value:function(){if(this.done(),this.leaveToBrowser)this.pm.sel.fastPoll();else if(this.event.ctrlKey)a(this.pm,this.event);else if(!(0,w.handleNodeClick)(this.pm,"handleClick",this.event,!0)){var e=(0,w.selectableNodeAbove)(this.pm,this.event.target,{left:this.x,top:this.y});e?(this.pm.setNodeSelection(e),this.pm.focus()):this.pm.sel.fastPoll()}}},{key:"move",value:function(e){!this.leaveToBrowser&&(Math.abs(this.x-e.clientX)>4||Math.abs(this.y-e.clientY)>4)&&(this.leaveToBrowser=!0),this.pm.sel.fastPoll()}}]),e}();_.touchdown=function(e){e.sel.fastPoll()},_.contextmenu=function(e,t){(0,w.handleNodeClick)(e,"handleContextMenu",t,!1)};var A=function P(e,t){o(this,P),this.finished=!1,this.context=(0,b.textContext)(t),this.data=t,this.endData=null;var n=e.selection;if(t){var r=n.head.path,i=e.doc.path(r).textContent,s=i.indexOf(t,n.head.offset-t.length);s>-1&&s<=n.head.offset+t.length&&(n=new k.TextSelection(new m.Pos(r,s),new m.Pos(r,s+t.length)))}this.range=n};_.compositionstart=function(e,t){if(!e.input.maybeAbortComposition()){e.flush(),e.input.composing=new A(e,t.data);var n=e.selection.head.shorten();e.markRangeDirty({from:n,to:n.move(1)})}},_.compositionupdate=function(e,t){var n=e.input.composing;n&&n.data!=t.data&&(n.data=t.data,e.input.updatingComposition=!0,s(e,n.range,n.data),e.input.updatingComposition=!1,n.range=new k.TextSelection(n.range.from,n.range.from.move(n.data.length)))},_.compositionend=function(e,t){var n=e.input.composing;n&&(e.input.composing.finished=!0,e.input.composing.endData=t.data,setTimeout(function(){e.input.composing==n&&l(e)},20))},_.input=function(e){return e.input.skipInput?--e.input.skipInput:e.input.composing?void(e.input.composing.finished&&l(e)):(e.startOperation({readSelection:!1}),(0,b.applyDOMChange)(e),void e.scrollIntoView())};var O=null;_.copy=_.cut=function(e,t){var n=e.selection,r=n.from,o=n.to,i=n.empty;i||(c(e.doc,r,o,t.clipboardData),t.clipboardData&&(t.preventDefault(),"cut"!=t.type||i||e.tr["delete"](r,o).apply()))},_.paste=function(e,t){if(t.clipboardData){var n=e.selection,r=f(e,t.clipboardData,e.input.shiftKey);r&&(t.preventDefault(),e.tr.replace(n.from,n.to,r.doc,r.from,r.to).apply(),e.scrollIntoView())}},_.dragstart=function(e,t){var n=e.input.mouseDown;if(n&&n.done(),t.dataTransfer){var r=e.selection,o=r.from,i=r.to,s=r.empty,a=void 0,u=!s&&e.posAtCoords({left:t.clientX,top:t.clientY});if(u&&u.cmp(o)>=0&&u.cmp(i)<=0)a={from:o,to:i};else if(n&&n.mightDrag){var l=m.Pos.from(n.mightDrag);a={from:l,to:l.move(1)}}a&&(e.input.draggingFrom=a,c(e.doc,a.from,a.to,t.dataTransfer))}},_.dragend=function(e){return window.setTimeout(function(){return e.input.draggingFrom=!1},50)},_.dragover=_.dragenter=function(e,t){t.preventDefault();var n=e.posAtCoords({left:t.clientX,top:t.clientY});if(n){var r=(0,w.coordsAtPos)(e,n),o=e.wrapper.getBoundingClientRect();r.top-=o.top,r.right-=o.left,r.bottom-=o.top,r.left-=o.left;var i=e.input.dropTarget;i.style.display="block",i.style.left=r.left-1+"px",i.style.top=r.top+"px",i.style.height=r.bottom-r.top+"px"}},_.dragleave=function(e){return e.input.dropTarget.style.display=""},_.drop=function(e,t){if(e.input.dropTarget.style.display="",t.dataTransfer){var n=f(e,t.dataTransfer);if(n){t.preventDefault();var r=e.posAtCoords({left:t.clientX,top:t.clientY}),o=r;if(!r)return;var i=e.tr;e.input.draggingFrom&&!t.ctrlKey&&(i["delete"](e.input.draggingFrom.from,e.input.draggingFrom.to),r=i.map(r).pos),i.replace(r,r,n.doc,n.from,n.to).apply();var s=i.map(o).pos;m.Pos.samePath(r.path,s.path)&&s.offset==r.offset+1&&e.doc.nodeAfter(r).type.selectable?e.setNodeSelection(r):e.setTextSelection(r,s),e.focus()}}},_.focus=function(e){(0,y.addClass)(e.wrapper,"ProseMirror-focused"),e.signal("focus")},_.blur=function(e){(0,y.rmClass)(e.wrapper,"ProseMirror-focused"),e.signal("blur")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){}function i(e){if(e.selection.node){var t=(0,u.findSelectionNear)(e.doc,e.selection.from,1,!0);t&&(0,l.setDOMSelectionToPos)(e,t.head)}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.captureKeys=void 0;var s=n(352),a=r(s),u=n(388),l=n(389),c=n(351),f={Esc:o,Enter:o,"Mod-Enter":o,"Shift-Enter":o,Backspace:o,Delete:o,"Mod-B":o,"Mod-I":o,"Mod-Backspace":o,"Mod-Delete":o,"Shift-Backspace":o,"Shift-Delete":o,"Shift-Mod-Backspace":o,"Shift-Mod-Delete":o,"Mod-Z":o,"Mod-Y":o,"Shift-Mod-Z":o,"Ctrl-D":o,"Ctrl-H":o,"Ctrl-Alt-Backspace":o,"Alt-D":o,"Alt-Delete":o,"Alt-Backspace":o,"Mod-A":i};["Left","Right","Up","Down","Home","End","PageUp","PageDown"].forEach(function(e){f[e]=f["Shift-"+e]=f["Mod-"+e]=f["Shift-Mod-"+e]=f["Alt-"+e]=f["Shift-Alt-"+e]=i}),["Left","Mod-Left","Right","Mod-Right","Up","Down"].forEach(function(e){return delete f[e]}),c.browser.mac&&(f["Ctrl-F"]=f["Ctrl-B"]=f["Ctrl-P"]=f["Ctrl-N"]=f["Alt-F"]=f["Alt-B"]=f["Ctrl-A"]=f["Ctrl-E"]=f["Ctrl-V"]=f.goPageUp=i);t.captureKeys=new a["default"](f)},function(e,t,n){"use strict";function r(e,t,n){for(var r=n||0;r<t.path.length;r++){var o=t.path[n];if(o<e.size-1)return!1;e=e.child(o)}return t.offset==e.size}function o(e,t){if(e.offset>0)return!1;for(var n=t||0;n<e.path.length;n++)if(e.path[t]>0)return!1;return!0}function i(e){for(var t=e.content,n=e.doc,i=e.selection,s=i.from,a=i.to,u=0;;u++){var l=n.child(a.path[u]),c=o(s,u+1),f=r(l,a,u+1);if(c||f||s.path[u]!=a.path[u]||l.isTextblock){var p=u==s.depth?s.offset:s.path[u];c&&p>0&&p--;var h=u==a.depth?a.offset:a.path[u]+1;f&&h<n.size-1&&h++;var d=(0,g.fromDOM)(e.schema,t,{topNode:n.copy(),from:p,to:t.childNodes.length-(n.size-h)});d=d.copy(n.content.slice(0,p).append(d.content).append(n.content.slice(h)));for(var m=u-1;m>=0;m--){var v=e.doc.path(s.path.slice(0,m));d=v.replace(s.path[m],d)}return d}n=l,t=(0,b.findByPath)(t,s.path[u],!1)}}function s(e){var t=i(e),n=(0,v.findDiffStart)(e.doc.content,t.content);if(n){var r=u(e.doc.content,t.content,n);return c(e,n,r),e.tr.replace(n,r.a,t,n,r.b).apply(),!0}return!1}function a(e,t,n){var r=(0,y.samePathDepth)(e,t),o=r==e.depth,i=r==t.depth,s=(i?t.offset:t.path[r])-(o?e.offset:e.path[r]),a=o?n.move(s):n.shorten(r,s);return i?a:a.extend(new v.Pos(t.path.slice(r),t.offset))}function u(e,t,n){var r=(0,v.findDiffEnd)(e,t);return r?r.a.cmp(n)<0?{a:n,b:a(r.a,n,r.b)}:r.b.cmp(n)<0?{a:a(r.b,n,r.a),b:n}:r:r}function l(e,t){for(var n=Math.min(e.depth,t.depth),r=0;n>r;r++)if(e.path[r]!=t.path[r])return r;return n}function c(e,t,n){var r=Math.min(l(t,n.a),l(t,n.b));if(0==r)e.markAllDirty();else{var o=v.Pos.from(t.path.slice(0,r));e.markRangeDirty({from:o,to:o.move(1)})}}function f(e){var t=window.getSelection().getRangeAt(0),n=t.startContainer,r=t.endContainer;if(n==r&&3==n.nodeType){var o=n.nodeValue,i=t.startOffset,s=t.endOffset;return e&&s>=e.length&&o.slice(s-e.length,s)==e&&(i=s-e.length),{inside:n,lead:i,trail:o.length-s}}for(var a=null,u=null,l=n.childNodes[t.startOffset-1]||d(n);l.lastChild;)l=l.lastChild;if(l&&3==l.nodeType){var o=l.nodeValue;a=o.length,e&&o.slice(o.length-e.length)==e&&(a-=e.length)}for(var c=r.childNodes[t.endOffset]||h(r);c.firstChild;)c=c.firstChild;
return c&&3==c.nodeType&&(u=c.nodeValue.length),{before:l,sizeBefore:a,after:c,sizeAfter:u}}function p(e,t){if(e.inside){var n=e.inside.nodeValue;return n.slice(e.lead,n.length-e.trail)}var r=e.before,o=e.after,i="";if(!r)return t;3==r.nodeType&&(i=r.nodeValue.slice(e.sizeBefore));var s=m(r,o);if(null==s)return t;if(i+=s,o&&3==o.nodeType){var a=o.nodeValue;i+=a.slice(0,a.length-e.sizeAfter)}return i}function h(e){for(;;){var t=e.nextSibling;if(t){for(;t.firstChild;)t=t.firstChild;return t}if(!(e=e.parentElement))return null}}function d(e){for(;;){var t=e.previousSibling;if(t){for(;t.lastChild;)t=t.lastChild;return t}if(!(e=e.parentElement))return null}}function m(e,t){for(var n="",r=h(e);;){if(r==t)return n;if(!r)return null;3==r.nodeType&&(n+=r.nodeValue),r=r.firstChild||h(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.applyDOMChange=s,t.textContext=f,t.textInContext=p;var v=n(353),g=n(377),y=n(369),b=n(389)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return"replace"==e.type&&e.from.offset<e.to.offset&&s.Pos.samePath(e.from.path,e.to.path)&&(!e.param||0==e.param.content.size)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.History=void 0;var s=n(353),a=n(364),u=function v(e,t,n){r(this,v),this.step=e,this.version=t,this.id=n},l=function(){function e(t){r(this,e),this.branch=t,this.remap=new a.Remapping,this.version=t.version,this.mirrorBuffer=Object.create(null)}return i(e,[{key:"moveToVersion",value:function(e){for(;this.version>e;)this.addNextMap()}},{key:"addNextMap",value:function(){var e=this.branch.mirror[this.version],t=this.branch.maps.length-(this.branch.version-this.version)-1,n=this.remap.addToFront(this.branch.maps[t],this.mirrorBuffer[this.version]);return--this.version,null!=e&&(this.mirrorBuffer[e]=n),n}},{key:"movePastStep",value:function(e){var t=this.addNextMap();e&&this.remap.addToBack(e.map,t)}}]),e}(),c=100,f=150,p=function(){function e(t,n,o){r(this,e),this.branch=n,this.callback=o,this.remap=new l(n),this.doc=t,this.events=[],this.maps=[],this.version=this.startVersion=n.version,this.i=n.events.length,this.timeout=null,this.aborted=!1}return i(e,[{key:"work",value:function(){var e=this;if(!this.aborted)for(var t=Date.now()+c;;){if(0==this.i)return this.finish();for(var n=this.branch.events[--this.i],r=[],i=n.length-1;i>=0;i--){var s=n[i],l=s.step,p=s.version,h=s.id;this.remap.moveToVersion(p);var d=l.map(this.remap.remap);if(d&&o(l)){for(var m=0,v=l.from;i>0;){var g=n[i-1];if(g.version!=p-1||!o(g.step)||v.cmp(g.step.to))break;m+=g.step.to.offset-g.step.from.offset,v=g.step.from,p--,i--,this.remap.addNextMap()}if(m>0){var y=d.from.move(-m);d=new a.Step("replace",y,d.to,y)}}var b=d&&d.apply(this.doc);b&&(this.doc=b.doc,this.maps.push(b.map.invert()),r.push(new u(d,this.version,h)),this.version--),this.remap.movePastStep(b)}if(r.length&&(r.reverse(),this.events.push(r)),Date.now()>t)return void(this.timeout=window.setTimeout(function(){return e.work()},f))}}},{key:"finish",value:function(){this.aborted||(this.events.reverse(),this.maps.reverse(),this.callback(this.maps.concat(this.branch.maps.slice(this.branch.maps.length-(this.branch.version-this.startVersion))),this.events))}},{key:"abort",value:function(){this.aborted=!0,window.clearTimeout(this.timeout)}}]),e}(),h=150,d=function(){function e(t){r(this,e),this.maxDepth=t,this.version=0,this.nextStepID=1,this.maps=[],this.mirror=Object.create(null),this.events=[],this.stepsSinceCompress=0,this.compressing=null,this.compressTimeout=null}return i(e,[{key:"clear",value:function(e){!e&&this.empty()||(this.maps.length=this.events.length=this.stepsSinceCompress=0,this.mirror=Object.create(null),this.abortCompression())}},{key:"newEvent",value:function(){for(this.abortCompression(),this.events.push([]);this.events.length>this.maxDepth;)this.events.shift()}},{key:"addMap",value:function(e){return this.empty()?void 0:(this.maps.push(e),this.version++,this.stepsSinceCompress++,!0)}},{key:"empty",value:function(){return 0==this.events.length}},{key:"addStep",value:function(e,t,n){this.addMap(t),null==n&&(n=this.nextStepID++),this.events[this.events.length-1].push(new u(e,this.version,n))}},{key:"addTransform",value:function(e,t){this.abortCompression();for(var n=0;n<e.steps.length;n++){var r=e.steps[n].invert(e.docs[n],e.maps[n]);this.addStep(r,e.maps[n],t&&t[n])}}},{key:"popEvent",value:function(e,t){this.abortCompression();var n=this.events.pop();if(!n)return null;for(var r=new l(this),o=t,i=new a.Transform(e),s=[],u=n.length-1;u>=0;u--){var c=n[u],f=c.step;if(o&&c.version==r.version)this.version--,delete this.mirror[this.version],this.maps.pop(),i.step(f),s.push(c.id),--r.version;else{o=!1,r.moveToVersion(c.version),f=f.map(r.remap);var p=f&&i.step(f);p&&(s.push(c.id),this.addMap(p.map)&&(this.mirror[this.version]=c.version)),u>0&&r.movePastStep(p)}}return this.empty()&&this.clear(!0),{transform:i,ids:s}}},{key:"lastStep",value:function(){for(var e=this.events.length-1;e>=0;e--){var t=this.events[e];if(t.length)return t[t.length-1]}}},{key:"getVersion",value:function(){var e=this.lastStep();return{lastID:e&&e.id,version:this.version}}},{key:"isAtVersion",value:function(e){var t=this.lastStep();return this.version==e.version&&(t&&t.id)==e.lastID}},{key:"findVersion",value:function(e){for(var t=this.events.length-1;t>=0;t--)for(var n=this.events[t],r=n.length-1;r>=0;r--)if(n[r].id<=e.lastID)return{event:t,step:r+1}}},{key:"rebased",value:function(e,t,n){if(!this.empty()){this.abortCompression();var r=this.version-n.length;e:for(var o=this.events.length-1;o>=0;o--)for(var i=this.events[o],s=i.length-1;s>=0;s--){var a=i[s];if(a.version<=r)break e;var l=n[a.version-r-1];if(-1==l)i.splice(s--,1);else{var c=t.steps[l].invert(t.docs[l],t.maps[l]);i[s]=new u(c,r+e.length+l+1,a.id)}}this.maps.length>n.length?this.maps=this.maps.slice(0,this.maps.length-n.length).concat(e).concat(t.maps):this.maps=t.maps.slice(),this.version=r+e.length+t.maps.length,this.stepsSinceCompress+=e.length+t.steps.length-n.length}}},{key:"abortCompression",value:function(){this.compressing&&(this.compressing.abort(),this.compressing=null)}},{key:"needsCompression",value:function(){return this.stepsSinceCompress>h&&!this.compressing}},{key:"startCompression",value:function(e){var t=this;this.compressing=new p(e,this,function(e,n){t.maps=e,t.events=n,t.mirror=Object.create(null),t.compressing=null,t.stepsSinceCompress=0}),this.compressing.work()}}]),e}(),m=750;t.History=function(){function e(t){var n=this;r(this,e),this.pm=t,this.done=new d(t.options.historyDepth),this.undone=new d(t.options.historyDepth),this.lastAddedAt=0,this.ignoreTransform=!1,this.allowCollapsing=!0,t.on("transform",function(e,t){return n.recordTransform(e,t)})}return i(e,[{key:"recordTransform",value:function(e,t){if(!this.ignoreTransform){if(0==t.addToHistory)for(var n=0;n<e.maps.length;n++){var r=e.maps[n];this.done.addMap(r),this.undone.addMap(r)}else{this.undone.clear();var o=Date.now();o>this.lastAddedAt+this.pm.options.historyEventDelay&&this.done.newEvent(),this.done.addTransform(e),this.lastAddedAt=o}this.maybeScheduleCompression()}}},{key:"undo",value:function(){return this.shift(this.done,this.undone)}},{key:"redo",value:function(){return this.shift(this.undone,this.done)}},{key:"shift",value:function(e,t){var n=e.popEvent(this.pm.doc,this.allowCollapsing);if(!n)return!1;var r=n.transform,o=n.ids;return this.ignoreTransform=!0,this.pm.apply(r),this.ignoreTransform=!1,r.steps.length?(t&&(t.newEvent(),t.addTransform(r,o)),this.lastAddedAt=0,!0):this.shift(e,t)}},{key:"getVersion",value:function(){return this.done.getVersion()}},{key:"isAtVersion",value:function(e){return this.done.isAtVersion(e)}},{key:"backToVersion",value:function(e){var t=this.done.findVersion(e);if(!t)return!1;var n=this.done.events[t.event];if(t.event==this.done.events.length-1&&t.step==n.length)return!0;var r=this.done.events.slice(t.event+1).reduce(function(e,t){return e.concat(t)},n.slice(t.step));return this.done.events.length=t.event+((n.length=t.step)?1:0),this.done.events.push(r),this.shift(this.done),!0}},{key:"rebased",value:function(e,t,n){this.done.rebased(e,t,n),this.undone.rebased(e,t,n),this.maybeScheduleCompression()}},{key:"maybeScheduleCompression",value:function(){this.maybeScheduleCompressionForBranch(this.done),this.maybeScheduleCompressionForBranch(this.undone)}},{key:"maybeScheduleCompressionForBranch",value:function(e){var t=this;window.clearTimeout(e.compressTimeout),e.needsCompression()&&(e.compressTimeout=window.setTimeout(function(){e.needsCompression()&&e.startCompression(t.pm.doc)},m))}},{key:"undoDepth",get:function(){return this.done.events.length}},{key:"redoDepth",get:function(){return this.undone.events.length}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.RangeStore=t.MarkedRange=void 0;var i=n(376),s=t.MarkedRange=function(){function e(t,n,o){r(this,e),this.options=o||{},this.from=t,this.to=n}return o(e,[{key:"remove",value:function(){this.signal("removed",this.from,this.to.max(this.from)),this.from=this.to=null}}]),e}();(0,i.eventMixin)(s);var a=function(){function e(){r(this,e),this.sorted=[]}return o(e,[{key:"find",value:function(e){for(var t=0,n=this.sorted.length;;){if(t+10>n){for(var r=t;n>r;r++)if(this.sorted[r].at.cmp(e)>=0)return r;return n}var o=t+n>>1;this.sorted[o].at.cmp(e)>0?n=o:t=o}}},{key:"insert",value:function(e){this.sorted.splice(this.find(e.at),0,e)}},{key:"remove",value:function(e,t){for(var n=this.find(e),r=0;;r++){var o=n-r-1,i=n+r;if(o>=0&&this.sorted[o].range==t)return void this.sorted.splice(o,1);if(i<this.sorted.length&&this.sorted[i].range==t)return void this.sorted.splice(i,1)}}},{key:"resort",value:function(){for(var e=0;e<this.sorted.length;e++)for(var t=this.sorted[e],n=t.at="open"==t.type?t.range.from:t.range.to,r=e;r>0&&this.sorted[r-1].at.cmp(n)>0;)this.sorted[r]=this.sorted[r-1],this.sorted[--r]=t}}]),e}(),u=(t.RangeStore=function(){function e(t){r(this,e),this.pm=t,this.ranges=[],this.sorted=new a}return o(e,[{key:"addRange",value:function(e){this.ranges.push(e),this.sorted.insert({type:"open",at:e.from,range:e}),this.sorted.insert({type:"close",at:e.to,range:e}),this.pm.markRangeDirty(e)}},{key:"removeRange",value:function(e){var t=this.ranges.indexOf(e);t>-1&&(this.ranges.splice(t,1),this.sorted.remove(e.from,e),this.sorted.remove(e.to,e),this.pm.markRangeDirty(e),e.remove())}},{key:"transform",value:function(e){for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t];n.from=e.map(n.from,n.options.inclusiveLeft?-1:1).pos,n.to=e.map(n.to,n.options.inclusiveRight?1:-1).pos;var r=n.from.cmp(n.to);n.options.removeWhenEmpty!==!1&&r>=0?(this.removeRange(n),t--):r>0&&(n.to=n.from)}this.sorted.resort()}},{key:"activeRangeTracker",value:function(){return new u(this.sorted.sorted)}}]),e}(),function(){function e(t){r(this,e),this.sorted=t,this.pos=0,this.current=[]}return o(e,[{key:"advanceTo",value:function(e){for(var t=void 0;this.pos<this.sorted.length&&(t=this.sorted[this.pos]).at.cmp(e)<=0;){var n=t.range.options.className;n&&("open"==t.type?this.current.push(n):this.current.splice(this.current.indexOf(n),1)),this.pos++}}},{key:"nextChangeBefore",value:function(e){for(;;){if(this.pos==this.sorted.length)return null;var t=this.sorted[this.pos];if(t.range.options.className)return t.at.cmp(e)>=0?null:t.at.offset;this.pos++}}}]),e}())},function(e,t,n){"use strict";var r=n(353),o=n(385),i=n(377);r.StrongMark.register("command","set",{derive:!0,label:"Set strong"}),r.StrongMark.register("command","unset",{derive:!0,label:"Unset strong"}),r.StrongMark.register("command","toggle",{derive:!0,label:"Toggle strong",menu:{group:"inline",rank:20,display:{type:"icon",width:805,height:1024,path:"M317 869q42 18 80 18 214 0 214-191 0-65-23-102-15-25-35-42t-38-26-46-14-48-6-54-1q-41 0-57 5 0 30-0 90t-0 90q0 4-0 38t-0 55 2 47 6 38zM309 442q24 4 62 4 46 0 81-7t62-25 42-51 14-81q0-40-16-70t-45-46-61-24-70-8q-28 0-74 7 0 28 2 86t2 86q0 15-0 45t-0 45q0 26 0 39zM0 950l1-53q8-2 48-9t60-15q4-6 7-15t4-19 3-18 1-21 0-19v-37q0-561-12-585-2-4-12-8t-25-6-28-4-27-2-17-1l-2-47q56-1 194-6t213-5q13 0 39 0t38 0q40 0 78 7t73 24 61 40 42 59 16 78q0 29-9 54t-22 41-36 32-41 25-48 22q88 20 146 76t58 141q0 57-20 102t-53 74-78 48-93 27-100 8q-25 0-75-1t-75-1q-60 0-175 6t-132 6z"}},keys:["Mod-B"]}),r.EmMark.register("command","set",{derive:!0,label:"Add emphasis"}),r.EmMark.register("command","unset",{derive:!0,label:"Remove emphasis"}),r.EmMark.register("command","toggle",{derive:!0,label:"Toggle emphasis",menu:{group:"inline",rank:21,display:{type:"icon",width:585,height:1024,path:"M0 949l9-48q3-1 46-12t63-21q16-20 23-57 0-4 35-165t65-310 29-169v-14q-13-7-31-10t-39-4-33-3l10-58q18 1 68 3t85 4 68 1q27 0 56-1t69-4 56-3q-2 22-10 50-17 5-58 16t-62 19q-4 10-8 24t-5 22-4 26-3 24q-15 84-50 239t-44 203q-1 5-7 33t-11 51-9 47-3 32l0 10q9 2 105 17-1 25-9 56-6 0-18 0t-18 0q-16 0-49-5t-49-5q-78-1-117-1-29 0-81 5t-69 6z"}},keys:["Mod-I"]}),r.CodeMark.register("command","set",{derive:!0,label:"Set code style"}),r.CodeMark.register("command","unset",{derive:!0,label:"Remove code style"}),r.CodeMark.register("command","toggle",{derive:!0,label:"Toggle code style",menu:{group:"inline",rank:22,display:{type:"icon",width:896,height:1024,path:"M608 192l-96 96 224 224-224 224 96 96 288-320-288-320zM288 192l-288 320 288 320 96-96-224-224 224-224-96-96z"}},keys:["Mod-`"]});var s={type:"icon",width:951,height:1024,path:"M832 694q0-22-16-38l-118-118q-16-16-38-16-24 0-41 18 1 1 10 10t12 12 8 10 7 14 2 15q0 22-16 38t-38 16q-8 0-15-2t-14-7-10-8-12-12-10-10q-18 17-18 41 0 22 16 38l117 118q15 15 38 15 22 0 38-14l84-83q16-16 16-38zM430 292q0-22-16-38l-117-118q-16-16-38-16-22 0-38 15l-84 83q-16 16-16 38 0 22 16 38l118 118q15 15 38 15 24 0 41-17-1-1-10-10t-12-12-8-10-7-14-2-15q0-22 16-38t38-16q8 0 15 2t14 7 10 8 12 12 10 10q18-17 18-41zM941 694q0 68-48 116l-84 83q-47 47-116 47-69 0-116-48l-117-118q-47-47-47-116 0-70 50-119l-50-50q-49 50-118 50-68 0-116-48l-118-118q-48-48-48-116t48-116l84-83q47-47 116-47 69 0 116 48l117 118q47 47 47 116 0 70-50 119l50 50q49-50 118-50 68 0 116 48l118 118q48 48 48 116z"};r.LinkMark.register("command","unset",{derive:!0,label:"Unlink",menu:{group:"inline",rank:30,display:s},active:function(){return!0}}),r.LinkMark.register("command","set",{derive:{inverseSelect:!0,params:[{label:"Target",attr:"href"},{label:"Title",attr:"title"}]},label:"Add link",menu:{group:"inline",rank:30,display:s}}),r.Image.register("command","insert",{derive:{params:[{label:"Image URL",attr:"src"},{label:"Description / alternative text",attr:"alt",prefill:function(e){return(0,o.selectedNodeAttr)(e,this,"alt")||(0,i.toText)(e.doc.sliceBetween(e.selection.from,e.selection.to))}},{label:"Title",attr:"title"}]},label:"Insert image",menu:{group:"insert",rank:20,display:{type:"label",label:"Image"}}}),r.BulletList.register("command","wrap",{derive:{list:!0},label:"Wrap the selection in a bullet list",menu:{group:"block",rank:40,display:{type:"icon",width:768,height:896,path:"M0 512h128v-128h-128v128zM0 256h128v-128h-128v128zM0 768h128v-128h-128v128zM256 512h512v-128h-512v128zM256 256h512v-128h-512v128zM256 768h512v-128h-512v128z"}},keys:["Alt-Right '*'","Alt-Right '-'"]}),r.OrderedList.register("command","wrap",{derive:{list:!0},label:"Wrap the selection in an ordered list",menu:{group:"block",rank:41,display:{type:"icon",width:768,height:896,path:"M320 512h448v-128h-448v128zM320 768h448v-128h-448v128zM320 128v128h448v-128h-448zM79 384h78v-256h-36l-85 23v50l43-2v185zM189 590c0-36-12-78-96-78-33 0-64 6-83 16l1 66c21-10 42-15 67-15s32 11 32 28c0 26-30 58-110 112v50h192v-67l-91 2c49-30 87-66 87-113l1-1z"}},keys:["Alt-Right '1'"]}),r.BlockQuote.register("command","wrap",{derive:!0,label:"Wrap the selection in a block quote",menu:{group:"block",rank:45,display:{type:"icon",width:640,height:896,path:"M0 448v256h256v-256h-128c0 0 0-128 128-128v-128c0 0-256 0-256 256zM640 320v-128c0 0-256 0-256 256v256h256v-256h-128c0 0 0-128 128-128z"}},keys:["Alt-Right '>'","Alt-Right '\"'"]}),r.HardBreak.register("command","insert",{label:"Insert hard break",run:function(e){var t=e.selection,n=t.node,r=t.from;return n&&n.isBlock?!1:e.doc.path(r.path).type.isCode?e.tr.typeText("\n").apply(e.apply.scroll):e.tr.replaceSelection(this.create()).apply(e.apply.scroll)},keys:["Mod-Enter","Shift-Enter"]}),r.ListItem.register("command","split",{label:"Split the current list item",run:function(e){var t=e.selection,n=t.from,o=t.to,i=t.node;if(i&&i.isBlock||n.path.length<2||!r.Pos.samePath(n.path,o.path))return!1;var s=n.shorten(),a=e.doc.path(s.path);if(a.type!=this)return!1;var u=o.offset==a.child(s.offset).size?e.schema.defaultTextblockType():null;return e.tr["delete"](n,o).split(n,2,u).apply(e.apply.scroll)},keys:["Enter(50)"]});for(var a=function(e){r.Heading.registerComputed("command","make"+e,function(t){return e<=t.maxLevel?{derive:{name:"make",attrs:{level:e}},label:"Change to heading "+e,keys:["Mod-H '"+e+"'"],menu:{group:"textblockHeading",rank:30+e,display:{type:"label",label:"Level "+e},activeDisplay:"Head "+e}}:void 0})},u=1;10>=u;u++)a(u);r.Paragraph.register("command","make",{derive:!0,label:"Change to paragraph",keys:["Mod-P"],menu:{group:"textblock",rank:10,display:{type:"label",label:"Plain"},activeDisplay:"Plain"}}),r.CodeBlock.register("command","make",{derive:!0,label:"Change to code block",keys:["Mod-\\"],menu:{group:"textblock",rank:20,display:{type:"label",label:"Code"},activeDisplay:"Code"}}),r.HorizontalRule.register("command","insert",{derive:!0,label:"Insert horizontal rule",keys:["Mod-Shift--"],menu:{group:"insert",rank:70,display:{type:"label",label:"Horizontal rule"}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(398);Object.defineProperty(t,"fromMarkdown",{enumerable:!0,get:function(){return r.fromMarkdown}});var o=n(466);Object.defineProperty(t,"toMarkdown",{enumerable:!0,get:function(){return o.toMarkdown}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=f(e).parse(t,{}),r=new _(e,n),o=void 0;r.parseTokens(n);do o=r.closeNode();while(r.stack.length);return o}function s(e,t){return e.isText&&t.isText&&g.Mark.sameSet(e.marks,t.marks)?e.copy(e.text+t.text):void 0}function a(e){return e.cached.markdownTokens||(e.cached.markdownTokens=l(e))}function u(e,t,n,r){"block"==r.parse?(e[t+"_open"]=function(e,t){var o="function"==typeof r.attrs?r.attrs.call(n,e,t):r.attrs;e.openNode(n,o)},e[t+"_close"]=function(e){return e.closeNode()}):"mark"==r.parse?(e[t+"_open"]=function(e,t){var o=r.attrs instanceof Function?r.attrs.call(n,e,t):r.attrs;e.openMark(n.create(o))},e[t+"_close"]=function(e){return e.closeMark(n)}):r.parse?e[t]=r.parse.bind(n):b.AssertionError.raise("Unrecognized markdown parsing spec: "+r)}function l(e){var t=Object.create(null);return t.text=function(e,t){return e.addText(t.content)},t.inline=function(e,t){return e.parseTokens(t.children)},t.softbreak=function(e){return e.addText("\n")},e.registry("parseMarkdown",function(e,n,r){u(t,e,r,n)}),t}function c(e){var t=e.cached.markdownConfig;return t||!function(){var n=null,r=[];e.registry("configureMarkdown",function(e,t){if("init"==e)n&&b.AssertionError.raise("Two markdown parser initializers defined in schema"),n=t;else{var o=(/_(\d+)$/.exec(e)||[0,50])[1];(0,w["default"])(r,{f:t,rank:o},function(e,t){return e.rank-t.rank})}}),t={init:n||function(){return(0,v["default"])("commonmark")},modifiers:r.map(function(e){return e.f})}}(),t}function f(e){var t=c(e),n=t.init();return t.modifiers.forEach(function(e){return n=e(n)}),n}function p(e){return"\n"==e.charAt(e.length-1)?e.slice(0,e.length-1):e}function h(e,t){e.openNode(this),e.addText(p(t.content)),e.closeNode()}var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.fromMarkdown=i;var m=n(399),v=r(m),g=n(353),y=n(377),b=n(357),k=n(374),w=r(k);(0,y.defineSource)("markdown",i);var x=[],_=function(){function e(t,n){o(this,e),this.schema=t,this.stack=[{type:t.nodes.doc,content:[]}],this.tokens=n,this.marks=x,this.tokenTypes=a(t)}return d(e,[{key:"top",value:function(){return this.stack[this.stack.length-1]}},{key:"push",value:function(e){this.stack.length&&this.top().content.push(e)}},{key:"addText",value:function(e){var t=this.top().content,n=t[t.length-1],r=this.schema.text(e,this.marks),o=void 0;n&&(o=s(n,r))?t[t.length-1]=o:t.push(r)}},{key:"openMark",value:function(e){this.marks=e.addToSet(this.marks)}},{key:"closeMark",value:function(e){this.marks=e.removeFromSet(this.marks)}},{key:"parseTokens",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.tokenTypes[n.type];if(!r)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");r(this,n)}}},{key:"addNode",value:function(e,t,n){var r=e.createAutoFill(t,n,this.marks);return this.push(r),r}},{key:"openNode",value:function(e,t){this.stack.push({type:e,attrs:t,content:[]})}},{key:"closeNode",value:function(){this.marks.length&&(this.marks=x);var e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}},{key:"getAttr",value:function(e,t){if(e.attrs)for(var n=0;n<e.attrs.length;n++)if(e.attrs[n][0]==t)return e.attrs[n][1]}}]),e}();g.BlockQuote.register("parseMarkdown","blockquote",{parse:"block"}),g.Paragraph.register("parseMarkdown","paragraph",{parse:"block"}),g.ListItem.register("parseMarkdown","list_item",{parse:"block"}),g.BulletList.register("parseMarkdown","bullet_list",{parse:"block"}),g.OrderedList.register("parseMarkdown","ordered_list",{parse:"block",attrs:function(e,t){return{order:Number(e.getAttr(t,"order")||1)}}}),g.Heading.register("parseMarkdown","heading",{parse:"block",attrs:function(e,t){return{level:Math.min(this.maxLevel,+t.tag.slice(1))}}}),g.CodeBlock.register("parseMarkdown","code_block",{parse:h}),g.CodeBlock.register("parseMarkdown","fence",{parse:h}),g.HorizontalRule.register("parseMarkdown","hr",{parse:function(e,t){e.addNode(this,{markup:t.markup})}}),g.Image.register("parseMarkdown","image",{parse:function(e,t){e.addNode(this,{src:e.getAttr(t,"src"),title:e.getAttr(t,"title")||null,alt:t.children[0]&&t.children[0].content||null})}}),g.HardBreak.register("parseMarkdown","hardbreak",{parse:function(e){e.addNode(this)}}),g.EmMark.register("parseMarkdown","em",{parse:"mark"}),g.StrongMark.register("parseMarkdown","strong",{parse:"mark"}),g.LinkMark.register("parseMarkdown","link",{parse:"mark",attrs:function(e,t){return{href:e.getAttr(t,"href"),title:e.getAttr(t,"title")||null}}}),g.CodeMark.register("parseMarkdown","code_inline",{parse:function(e,t){e.openMark(this.create()),e.addText(t.content),e.closeMark(this)}})},function(e,t,n){"use strict";e.exports=n(400)},function(e,t,n){"use strict";function r(e){var t=e.trim().toLowerCase();return g.test(t)?!!y.test(t):!0}function o(e){var t=d.parse(e,!0);if(t.hostname&&(!t.protocol||b.indexOf(t.protocol)>=0))try{t.hostname=m.toASCII(t.hostname)}catch(n){}return d.encode(d.format(t))}function i(e){var t=d.parse(e,!0);if(t.hostname&&(!t.protocol||b.indexOf(t.protocol)>=0))try{t.hostname=m.toUnicode(t.hostname)}catch(n){}return d.decode(d.format(t))}function s(e,t){return this instanceof s?(t||a.isString(e)||(t=e||{},e="default"),this.inline=new p,this.block=new f,this.core=new c,this.renderer=new l,this.linkify=new h,this.validateLink=r,this.normalizeLink=o,this.normalizeLinkText=i,this.utils=a,this.helpers=u,this.options={},this.configure(e),void(t&&this.set(t))):new s(e,t)}var a=n(401),u=n(415),l=n(419),c=n(420),f=n(430),p=n(445),h=n(459),d=n(405),m=n(461),v={"default":n(463),zero:n(464),commonmark:n(465)},g=/^(vbscript|javascript|file|data):/,y=/^data:image\/(gif|png|jpeg|webp);/,b=["http:","https:","mailto:"];s.prototype.set=function(e){return a.assign(this.options,e),this},s.prototype.configure=function(e){var t,n=this;if(a.isString(e)&&(t=e,e=v[t],!e))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules)}),this},s.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this);var r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},s.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this);var r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},s.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},s.prototype.parse=function(e,t){var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},s.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},s.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},s.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=s},function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e)}function o(e){return"[object String]"===r(e)}function i(e,t){return k.call(e,t)}function s(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(n){e[n]=t[n]})}}),e}function a(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function u(e){return e>=55296&&57343>=e?!1:e>=64976&&65007>=e?!1:65535===(65535&e)||65534===(65535&e)?!1:e>=0&&8>=e?!1:11===e?!1:e>=14&&31>=e?!1:e>=127&&159>=e?!1:!(e>1114111)}function l(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function c(e,t){var n=0;return i(S,t)?S[t]:35===t.charCodeAt(0)&&C.test(t)&&(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10),u(n))?l(n):e}function f(e){return e.indexOf("\\")<0?e:e.replace(w,"$1")}function p(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(_,function(e,t,n){return t?t:c(e,n)})}function h(e){return O[e]}function d(e){return M.test(e)?e.replace(A,h):e}function m(e){return e.replace(P,"\\$&")}function v(e){if(e>=8192&&8202>=e)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function g(e){return T.test(e)}function y(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function b(e){return e.trim().replace(/\s+/g," ").toUpperCase()}var k=Object.prototype.hasOwnProperty,w=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,x=/&([a-z#][a-z0-9]{1,31});/gi,_=new RegExp(w.source+"|"+x.source,"gi"),C=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,S=n(402),M=/[&<>"]/,A=/[&<>"]/g,O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},P=/[.?*+^$[\]\\(){}|-]/g,T=n(404);t.lib={},t.lib.mdurl=n(405),t.lib.ucmicro=n(410),t.assign=s,t.isString=o,t.has=i,t.unescapeMd=f,t.unescapeAll=p,t.isValidEntityCode=u,t.fromCodePoint=l,t.escapeHtml=d,t.arrayReplaceAt=a,t.isWhiteSpace=v,t.isMdAsciiPunct=y,t.isPunctChar=g,t.escapeRE=m,t.normalizeReference=b},function(e,t,n){"use strict";e.exports=n(403)},function(e,t){e.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",
Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"","in":"",infin:"",infintie:"",inodot:"",intcal:"","int":"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDE38-\uDE3D]|\uD805[\uDCC6\uDDC1-\uDDC9\uDE41-\uDE43]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F/},function(e,t,n){"use strict";e.exports.encode=n(406),e.exports.decode=n(407),e.exports.format=n(408),e.exports.parse=n(409)},function(e,t){"use strict";function n(e){var t,n,r=o[e];if(r)return r;for(r=o[e]=[],t=0;128>t;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function r(e,t,o){var i,s,a,u,l,c="";for("string"!=typeof t&&(o=t,t=r.defaultChars),"undefined"==typeof o&&(o=!0),l=n(t),i=0,s=e.length;s>i;i++)if(a=e.charCodeAt(i),o&&37===a&&s>i+2&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))c+=e.slice(i,i+3),i+=2;else if(128>a)c+=l[a];else if(a>=55296&&57343>=a){if(a>=55296&&56319>=a&&s>i+1&&(u=e.charCodeAt(i+1),u>=56320&&57343>=u)){c+=encodeURIComponent(e[i]+e[i+1]),i++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(e[i]);return c}var o={};r.defaultChars=";/?:@&=+$,-_.!~*'()#",r.componentChars="-_.!~*'()",e.exports=r},function(e,t){"use strict";function n(e){var t,n,r=o[e];if(r)return r;for(r=o[e]=[],t=0;128>t;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function r(e,t){var o;return"string"!=typeof t&&(t=r.defaultChars),o=n(t),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var t,n,r,i,s,a,u,l="";for(t=0,n=e.length;n>t;t+=3)r=parseInt(e.slice(t+1,t+3),16),128>r?l+=o[r]:192===(224&r)&&n>t+3&&(i=parseInt(e.slice(t+4,t+6),16),128===(192&i))?(u=r<<6&1984|63&i,l+=128>u?"":String.fromCharCode(u),t+=3):224===(240&r)&&n>t+6&&(i=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),128===(192&i)&&128===(192&s))?(u=r<<12&61440|i<<6&4032|63&s,l+=2048>u||u>=55296&&57343>=u?"":String.fromCharCode(u),t+=6):240===(248&r)&&n>t+9&&(i=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),128===(192&i)&&128===(192&s)&&128===(192&a))?(u=r<<18&1835008|i<<12&258048|s<<6&4032|63&a,65536>u||u>1114111?l+="":(u-=65536,l+=String.fromCharCode(55296+(u>>10),56320+(1023&u))),t+=9):l+="";return l})}var o={};r.defaultChars=";/?:@&=+$,#",r.componentChars="",e.exports=r},function(e,t){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",t+=e.hostname&&-1!==e.hostname.indexOf(":")?"["+e.hostname+"]":e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},function(e,t){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}function r(e,t){if(e&&e instanceof n)return e;var r=new n;return r.parse(e,t),r}var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r","\n","	"],u=["{","}","|","\\","^","`"].concat(a),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=255,h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};n.prototype.parse=function(e,t){var n,r,i,a,u,l=e;if(l=l.trim(),!t&&1===e.split("#").length){var g=s.exec(l);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var y=o.exec(l);if(y&&(y=y[0],i=y.toLowerCase(),this.protocol=y,l=l.substr(y.length)),(t||y||l.match(/^\/\/[^@\/]+@[^@\/]+/))&&(u="//"===l.substr(0,2),!u||y&&m[y]||(l=l.substr(2),this.slashes=!0)),!m[y]&&(u||y&&!v[y])){var b=-1;for(n=0;n<f.length;n++)a=l.indexOf(f[n]),-1!==a&&(-1===b||b>a)&&(b=a);var k,w;for(w=-1===b?l.lastIndexOf("@"):l.lastIndexOf("@",b),-1!==w&&(k=l.slice(0,w),l=l.slice(w+1),this.auth=k),b=-1,n=0;n<c.length;n++)a=l.indexOf(c[n]),-1!==a&&(-1===b||b>a)&&(b=a);-1===b&&(b=l.length),":"===l[b-1]&&b--;var x=l.slice(0,b);l=l.slice(b),this.parseHost(x),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_){var C=this.hostname.split(/\./);for(n=0,r=C.length;r>n;n++){var S=C[n];if(S&&!S.match(h)){for(var M="",A=0,O=S.length;O>A;A++)M+=S.charCodeAt(A)>127?"x":S[A];if(!M.match(h)){var P=C.slice(0,n),T=C.slice(n+1),D=S.match(d);D&&(P.push(D[1]),T.unshift(D[2])),T.length&&(l=T.join(".")+l),this.hostname=P.join(".");break}}}}this.hostname.length>p&&(this.hostname=""),_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var E=l.indexOf("#");-1!==E&&(this.hash=l.substr(E),l=l.slice(0,E));var j=l.indexOf("?");return-1!==j&&(this.search=l.substr(j),l=l.slice(0,j)),l&&(this.pathname=l),v[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},n.prototype.parseHost=function(e){var t=i.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=r},function(e,t,n){e.exports.Any=n(411),e.exports.Cc=n(412),e.exports.Cf=n(413),e.exports.P=n(404),e.exports.Z=n(414)},function(e,t){e.exports=/[\0-\uD7FF\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t,n){"use strict";t.parseLinkLabel=n(416),t.parseLinkDestination=n(417),t.parseLinkTitle=n(418)},function(e,t){"use strict";e.exports=function(e,t,n){var r,o,i,s,a=-1,u=e.posMax,l=e.pos;for(e.pos=t+1,r=1;e.pos<u;){if(i=e.src.charCodeAt(e.pos),93===i&&(r--,0===r)){o=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===i)if(s===e.pos-1)r++;else if(n)return e.pos=l,-1}return o&&(a=e.pos),e.pos=l,a}},function(e,t,n){"use strict";var r=n(401).unescapeAll;e.exports=function(e,t,n){var o,i,s=0,a=t,u={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;n>t;){if(o=e.charCodeAt(t),10===o)return u;if(62===o)return u.pos=t+1,u.str=r(e.slice(a+1,t)),u.ok=!0,u;92===o&&n>t+1?t+=2:t++}return u}for(i=0;n>t&&(o=e.charCodeAt(t),32!==o)&&!(32>o||127===o);)if(92===o&&n>t+1)t+=2;else{if(40===o&&(i++,i>1))break;if(41===o&&(i--,0>i))break;t++}return a===t?u:(u.str=r(e.slice(a,t)),u.lines=s,u.pos=t,u.ok=!0,u)}},function(e,t,n){"use strict";var r=n(401).unescapeAll;e.exports=function(e,t,n){var o,i,s=0,a=t,u={ok:!1,pos:0,lines:0,str:""};if(t>=n)return u;if(i=e.charCodeAt(t),34!==i&&39!==i&&40!==i)return u;for(t++,40===i&&(i=41);n>t;){if(o=e.charCodeAt(t),o===i)return u.pos=t+1,u.lines=s,u.str=r(e.slice(a+1,t)),u.ok=!0,u;10===o?s++:92===o&&n>t+1&&(t++,10===e.charCodeAt(t)&&s++),t++}return u}},function(e,t,n){"use strict";function r(){this.rules=o({},a)}var o=n(401).assign,i=n(401).unescapeAll,s=n(401).escapeHtml,a={};a.code_inline=function(e,t){return"<code>"+s(e[t].content)+"</code>"},a.code_block=function(e,t){return"<pre><code>"+s(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,r,o){var a,u=e[t],l=u.info?i(u.info).trim():"",c="";return l&&(c=l.split(/\s+/g)[0],u.attrPush(["class",n.langPrefix+c])),a=n.highlight?n.highlight(u.content,c)||s(u.content):s(u.content),"<pre><code"+o.renderAttrs(u)+">"+a+"</code></pre>\n"},a.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},a.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return s(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},r.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;n>t;t++)r+=" "+s(e.attrs[t][0])+'="'+s(e.attrs[t][1])+'"';return r},r.prototype.renderToken=function(e,t,n){var r,o="",i=!1,s=e[t];return s.hidden?"":(s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===s.nesting?"</":"<")+s.tag,o+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(o+=" /"),s.block&&(i=!0,1===s.nesting&&t+1<e.length&&(r=e[t+1],"inline"===r.type||r.hidden?i=!1:-1===r.nesting&&r.tag===s.tag&&(i=!1))),o+=i?">\n":">")},r.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,s=0,a=e.length;a>s;s++)r=e[s].type,o+="undefined"!=typeof i[r]?i[r](e,s,t,n,this):this.renderToken(e,s,t);return o},r.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=this.rules,i=0,s=e.length;s>i;i++)"text"===e[i].type?r+=o.text(e,i,t,n,this):"image"===e[i].type&&(r+=this.renderInlineAsText(e[i].children,t,n));return r},r.prototype.render=function(e,t,n){var r,o,i,s="",a=this.rules;for(r=0,o=e.length;o>r;r++)i=e[r].type,s+="inline"===i?this.renderInline(e[r].children,t,n):"undefined"!=typeof a[i]?a[e[r].type](e,r,t,n,this):this.renderToken(e,r,t,n);
return s},e.exports=r},function(e,t,n){"use strict";function r(){this.ruler=new o;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1])}var o=n(421),i=[["normalize",n(422)],["block",n(423)],["inline",n(424)],["linkify",n(425)],["replacements",n(426)],["smartquotes",n(427)]];r.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;n>t;t++)r[t](e)},r.prototype.State=n(428),e.exports=r},function(e,t){"use strict";function n(){this.__rules__=[],this.__cache__=null}n.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},n.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))})})},n.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},n.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},n.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},n.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},n.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(0>r){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)},this),this.__cache__=null,n},n.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},n.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(0>r){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)},this),this.__cache__=null,n},n.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=n},function(e,t){"use strict";var n=/[\n\t]/g,r=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,o=/\u0000/g;e.exports=function(e){var t,i,s;t=e.src.replace(r,"\n"),t=t.replace(o,""),t.indexOf("	")>=0&&(i=0,s=0,t=t.replace(n,function(e,n){var r;return 10===t.charCodeAt(n)?(i=n+1,s=0,e):(r="    ".slice((n-i-s)%4),s=n-i+1,r)})),e.src=t}},function(e,t){"use strict";e.exports=function(e){var t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t){"use strict";e.exports=function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;r>n;n++)t=o[n],"inline"===t.type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,n){"use strict";function r(e){return/^<a[>\s]/i.test(e)}function o(e){return/^<\/a\s*>/i.test(e)}var i=n(401).arrayReplaceAt;e.exports=function(e){var t,n,s,a,u,l,c,f,p,h,d,m,v,g,y,b,k,w=e.tokens;if(e.md.options.linkify)for(n=0,s=w.length;s>n;n++)if("inline"===w[n].type&&e.md.linkify.pretest(w[n].content))for(a=w[n].children,v=0,t=a.length-1;t>=0;t--)if(l=a[t],"link_close"!==l.type){if("html_inline"===l.type&&(r(l.content)&&v>0&&v--,o(l.content)&&v++),!(v>0)&&"text"===l.type&&e.md.linkify.test(l.content)){for(p=l.content,k=e.md.linkify.match(p),c=[],m=l.level,d=0,f=0;f<k.length;f++)g=k[f].url,y=e.md.normalizeLink(g),e.md.validateLink(y)&&(b=k[f].text,b=k[f].schema?"mailto:"!==k[f].schema||/^mailto:/i.test(b)?e.md.normalizeLinkText(b):e.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,""),h=k[f].index,h>d&&(u=new e.Token("text","",0),u.content=p.slice(d,h),u.level=m,c.push(u)),u=new e.Token("link_open","a",1),u.attrs=[["href",y]],u.level=m++,u.markup="linkify",u.info="auto",c.push(u),u=new e.Token("text","",0),u.content=b,u.level=m,c.push(u),u=new e.Token("link_close","a",-1),u.level=--m,u.markup="linkify",u.info="auto",c.push(u),d=k[f].lastIndex);d<p.length&&(u=new e.Token("text","",0),u.content=p.slice(d),u.level=m,c.push(u)),w[n].children=a=i(a,t,c)}}else for(t--;a[t].level!==l.level&&"link_open"!==a[t].type;)t--}},function(e,t){"use strict";function n(e,t){return u[t.toLowerCase()]}function r(e){var t,r;for(t=e.length-1;t>=0;t--)r=e[t],"text"===r.type&&(r.content=r.content.replace(a,n))}function o(e){var t,n;for(t=e.length-1;t>=0;t--)n=e[t],"text"===n.type&&i.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1$2").replace(/(^|\s)--(\s|$)/gm,"$1$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1$2"))}var i=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,s=/\((c|tm|r|p)\)/i,a=/\((c|tm|r|p)\)/gi,u={c:"",r:"",p:"",tm:""};e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(s.test(e.tokens[t].content)&&r(e.tokens[t].children),i.test(e.tokens[t].content)&&o(e.tokens[t].children))}},function(e,t,n){"use strict";function r(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function o(e,t){var n,o,u,f,p,h,d,m,v,g,y,b,k,w,x,_,C,S,M,A,O;for(M=[],n=0;n<e.length;n++){for(o=e[n],d=e[n].level,C=M.length-1;C>=0&&!(M[C].level<=d);C--);if(M.length=C+1,"text"===o.type){u=o.content,p=0,h=u.length;e:for(;h>p&&(l.lastIndex=p,f=l.exec(u));)if(x=_=!0,p=f.index+1,S="'"===f[0],v=f.index-1>=0?u.charCodeAt(f.index-1):32,g=h>p?u.charCodeAt(p):32,y=a(v)||s(String.fromCharCode(v)),b=a(g)||s(String.fromCharCode(g)),k=i(v),w=i(g),w?x=!1:b&&(k||y||(x=!1)),k?_=!1:y&&(w||b||(_=!1)),34===g&&'"'===f[0]&&v>=48&&57>=v&&(_=x=!1),x&&_&&(x=!1,_=b),x||_){if(_)for(C=M.length-1;C>=0&&(m=M[C],!(M[C].level<d));C--)if(m.single===S&&M[C].level===d){m=M[C],S?(A=t.md.options.quotes[2],O=t.md.options.quotes[3]):(A=t.md.options.quotes[0],O=t.md.options.quotes[1]),o.content=r(o.content,f.index,O),e[m.token].content=r(e[m.token].content,m.pos,A),p+=O.length-1,m.token===n&&(p+=A.length-1),u=o.content,h=u.length,M.length=C;continue e}x?M.push({token:n,pos:f.index,single:S,level:d}):_&&S&&(o.content=r(o.content,f.index,c))}else S&&(o.content=r(o.content,f.index,c))}}}var i=n(401).isWhiteSpace,s=n(401).isPunctChar,a=n(401).isMdAsciiPunct,u=/['"]/,l=/['"]/g,c="";e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&u.test(e.tokens[t].content)&&o(e.tokens[t].children,e)}},function(e,t,n){"use strict";function r(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}var o=n(429);r.prototype.Token=o,e.exports=r},function(e,t){"use strict";function n(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}n.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(t=this.attrs,n=0,r=t.length;r>n;n++)if(t[n][0]===e)return n;return-1},n.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},e.exports=n},function(e,t,n){"use strict";function r(){this.ruler=new o;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1],{alt:(i[e][2]||[]).slice()})}var o=n(421),i=[["code",n(431)],["fence",n(432),["paragraph","reference","blockquote","list"]],["blockquote",n(433),["paragraph","reference","list"]],["hr",n(434),["paragraph","reference","blockquote","list"]],["list",n(435),["paragraph","reference","blockquote"]],["reference",n(436)],["heading",n(437),["paragraph","reference","blockquote"]],["lheading",n(438)],["html_block",n(439),["paragraph","reference","blockquote"]],["table",n(442),["paragraph","reference"]],["paragraph",n(443)]];r.prototype.tokenize=function(e,t,n){for(var r,o,i=this.ruler.getRules(""),s=i.length,a=t,u=!1,l=e.md.options.maxNesting;n>a&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.tShift[a]<e.blkIndent);){if(e.level>=l){e.line=n;break}for(o=0;s>o&&!(r=i[o](e,a,n,!1));o++);if(e.tight=!u,e.isEmpty(e.line-1)&&(u=!0),a=e.line,n>a&&e.isEmpty(a)){if(u=!0,a++,n>a&&"list"===e.parentType&&e.isEmpty(a))break;e.line=a}}},r.prototype.parse=function(e,t,n,r){var o;return e?(o=new this.State(e,t,n,r),void this.tokenize(o,o.line,o.lineMax)):[]},r.prototype.State=n(444),e.exports=r},function(e,t){"use strict";e.exports=function(e,t,n){var r,o,i;if(e.tShift[t]-e.blkIndent<4)return!1;for(o=r=t+1;n>r;)if(e.isEmpty(r))r++;else{if(!(e.tShift[r]-e.blkIndent>=4))break;r++,o=r}return e.line=r,i=e.push("code_block","code",0),i.content=e.getLines(t,o,4+e.blkIndent,!0),i.map=[t,e.line],!0}},function(e,t){"use strict";e.exports=function(e,t,n,r){var o,i,s,a,u,l,c,f=!1,p=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(p+3>h)return!1;if(o=e.src.charCodeAt(p),126!==o&&96!==o)return!1;if(u=p,p=e.skipChars(p,o),i=p-u,3>i)return!1;if(c=e.src.slice(u,p),s=e.src.slice(p,h),s.indexOf("`")>=0)return!1;if(r)return!0;for(a=t;(a++,!(a>=n))&&(p=u=e.bMarks[a]+e.tShift[a],h=e.eMarks[a],!(h>p&&e.tShift[a]<e.blkIndent));)if(e.src.charCodeAt(p)===o&&!(e.tShift[a]-e.blkIndent>=4||(p=e.skipChars(p,o),i>p-u||(p=e.skipSpaces(p),h>p)))){f=!0;break}return i=e.tShift[t],e.line=a+(f?1:0),l=e.push("fence","code",0),l.info=s,l.content=e.getLines(t+1,a,i,!0),l.markup=c,l.map=[t,e.line],!0}},function(e,t){"use strict";e.exports=function(e,t,n,r){var o,i,s,a,u,l,c,f,p,h,d,m,v=e.bMarks[t]+e.tShift[t],g=e.eMarks[t];if(62!==e.src.charCodeAt(v++))return!1;if(r)return!0;for(32===e.src.charCodeAt(v)&&v++,u=e.blkIndent,e.blkIndent=0,a=[e.bMarks[t]],e.bMarks[t]=v,v=g>v?e.skipSpaces(v):v,i=v>=g,s=[e.tShift[t]],e.tShift[t]=v-e.bMarks[t],f=e.md.block.ruler.getRules("blockquote"),o=t+1;n>o&&!(e.tShift[o]<u)&&(v=e.bMarks[o]+e.tShift[o],g=e.eMarks[o],!(v>=g));o++)if(62!==e.src.charCodeAt(v++)){if(i)break;for(m=!1,h=0,d=f.length;d>h;h++)if(f[h](e,o,n,!0)){m=!0;break}if(m)break;a.push(e.bMarks[o]),s.push(e.tShift[o]),e.tShift[o]=-1}else 32===e.src.charCodeAt(v)&&v++,a.push(e.bMarks[o]),e.bMarks[o]=v,v=g>v?e.skipSpaces(v):v,i=v>=g,s.push(e.tShift[o]),e.tShift[o]=v-e.bMarks[o];for(l=e.parentType,e.parentType="blockquote",p=e.push("blockquote_open","blockquote",1),p.markup=">",p.map=c=[t,0],e.md.block.tokenize(e,t,o),p=e.push("blockquote_close","blockquote",-1),p.markup=">",e.parentType=l,c[1]=e.line,h=0;h<s.length;h++)e.bMarks[h+t]=a[h],e.tShift[h+t]=s[h];return e.blkIndent=u,!0}},function(e,t){"use strict";e.exports=function(e,t,n,r){var o,i,s,a,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(o=e.src.charCodeAt(u++),42!==o&&45!==o&&95!==o)return!1;for(i=1;l>u;){if(s=e.src.charCodeAt(u++),s!==o&&32!==s)return!1;s===o&&i++}return 3>i?!1:r?!0:(e.line=t+1,a=e.push("hr","hr",0),a.map=[t,e.line],a.markup=Array(i+1).join(String.fromCharCode(o)),!0)}},function(e,t){"use strict";function n(e,t){var n,r,o;return r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],n=e.src.charCodeAt(r++),42!==n&&45!==n&&43!==n?-1:o>r&&32!==e.src.charCodeAt(r)?-1:r}function r(e,t){var n,r=e.bMarks[t]+e.tShift[t],o=r,i=e.eMarks[t];if(o+1>=i)return-1;if(n=e.src.charCodeAt(o++),48>n||n>57)return-1;for(;;){if(o>=i)return-1;n=e.src.charCodeAt(o++);{if(!(n>=48&&57>=n)){if(41===n||46===n)break;return-1}if(o-r>=10)return-1}}return i>o&&32!==e.src.charCodeAt(o)?-1:o}function o(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;r>n;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}e.exports=function(e,t,i,s){var a,u,l,c,f,p,h,d,m,v,g,y,b,k,w,x,_,C,S,M,A,O,P,T=!0;if((d=r(e,t))>=0)b=!0;else{if(!((d=n(e,t))>=0))return!1;b=!1}if(y=e.src.charCodeAt(d-1),s)return!0;for(w=e.tokens.length,b?(h=e.bMarks[t]+e.tShift[t],g=Number(e.src.substr(h,d-h-1)),M=e.push("ordered_list_open","ol",1),1!==g&&(M.attrs=[["start",g]])):M=e.push("bullet_list_open","ul",1),M.map=_=[t,0],M.markup=String.fromCharCode(y),a=t,x=!1,S=e.md.block.ruler.getRules("list");!(!(i>a)||(k=e.skipSpaces(d),m=e.eMarks[a],v=k>=m?1:k-d,v>4&&(v=1),u=d-e.bMarks[a]+v,M=e.push("list_item_open","li",1),M.markup=String.fromCharCode(y),M.map=C=[t,0],c=e.blkIndent,f=e.tight,l=e.tShift[t],p=e.parentType,e.tShift[t]=k-e.bMarks[t],e.blkIndent=u,e.tight=!0,e.parentType="list",e.md.block.tokenize(e,t,i,!0),e.tight&&!x||(T=!1),x=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=c,e.tShift[t]=l,e.tight=f,e.parentType=p,M=e.push("list_item_close","li",-1),M.markup=String.fromCharCode(y),a=t=e.line,C[1]=a,k=e.bMarks[t],a>=i)||e.isEmpty(a)||e.tShift[a]<e.blkIndent);){for(P=!1,A=0,O=S.length;O>A;A++)if(S[A](e,a,i,!0)){P=!0;break}if(P)break;if(b){if(d=r(e,a),0>d)break}else if(d=n(e,a),0>d)break;if(y!==e.src.charCodeAt(d-1))break}return M=b?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),M.markup=String.fromCharCode(y),_[1]=a,e.line=a,T&&o(e,w),!0}},function(e,t,n){"use strict";var r=n(417),o=n(418),i=n(401).normalizeReference;e.exports=function(e,t,n,s){var a,u,l,c,f,p,h,d,m,v,g,y,b,k,w,x=0,_=e.bMarks[t]+e.tShift[t],C=e.eMarks[t],S=t+1;if(91!==e.src.charCodeAt(_))return!1;for(;++_<C;)if(93===e.src.charCodeAt(_)&&92!==e.src.charCodeAt(_-1)){if(_+1===C)return!1;if(58!==e.src.charCodeAt(_+1))return!1;break}for(c=e.lineMax,k=e.md.block.ruler.getRules("reference");c>S&&!e.isEmpty(S);S++)if(!(e.tShift[S]-e.blkIndent>3||e.tShift[S]<0)){for(b=!1,p=0,h=k.length;h>p;p++)if(k[p](e,S,c,!0)){b=!0;break}if(b)break}for(y=e.getLines(t,S,e.blkIndent,!1).trim(),C=y.length,_=1;C>_;_++){if(a=y.charCodeAt(_),91===a)return!1;if(93===a){m=_;break}10===a?x++:92===a&&(_++,C>_&&10===y.charCodeAt(_)&&x++)}if(0>m||58!==y.charCodeAt(m+1))return!1;for(_=m+2;C>_;_++)if(a=y.charCodeAt(_),10===a)x++;else if(32!==a)break;if(v=r(y,_,C),!v.ok)return!1;if(f=e.md.normalizeLink(v.str),!e.md.validateLink(f))return!1;for(_=v.pos,x+=v.lines,u=_,l=x,g=_;C>_;_++)if(a=y.charCodeAt(_),10===a)x++;else if(32!==a)break;for(v=o(y,_,C),C>_&&g!==_&&v.ok?(w=v.str,_=v.pos,x+=v.lines):(w="",_=u,x=l);C>_&&32===y.charCodeAt(_);)_++;if(C>_&&10!==y.charCodeAt(_)&&w)for(w="",_=u,x=l;C>_&&32===y.charCodeAt(_);)_++;return C>_&&10!==y.charCodeAt(_)?!1:(d=i(y.slice(1,m)))?s?!0:("undefined"==typeof e.env.references&&(e.env.references={}),"undefined"==typeof e.env.references[d]&&(e.env.references[d]={title:w,href:f}),e.line=t+x+1,!0):!1}},function(e,t){"use strict";e.exports=function(e,t,n,r){var o,i,s,a,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(o=e.src.charCodeAt(u),35!==o||u>=l)return!1;for(i=1,o=e.src.charCodeAt(++u);35===o&&l>u&&6>=i;)i++,o=e.src.charCodeAt(++u);return i>6||l>u&&32!==o?!1:r?!0:(l=e.skipCharsBack(l,32,u),s=e.skipCharsBack(l,35,u),s>u&&32===e.src.charCodeAt(s-1)&&(l=s),e.line=t+1,a=e.push("heading_open","h"+String(i),1),a.markup="########".slice(0,i),a.map=[t,e.line],a=e.push("inline","",0),a.content=e.src.slice(u,l).trim(),a.map=[t,e.line],a.children=[],a=e.push("heading_close","h"+String(i),-1),a.markup="########".slice(0,i),!0)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,o,i,s,a,u=t+1;return u>=n?!1:e.tShift[u]<e.blkIndent?!1:e.tShift[u]-e.blkIndent>3?!1:(o=e.bMarks[u]+e.tShift[u],i=e.eMarks[u],o>=i?!1:(r=e.src.charCodeAt(o),45!==r&&61!==r?!1:(o=e.skipChars(o,r),o=e.skipSpaces(o),i>o?!1:(o=e.bMarks[t]+e.tShift[t],e.line=u+1,a=61===r?1:2,s=e.push("heading_open","h"+String(a),1),s.markup=String.fromCharCode(r),s.map=[t,e.line],s=e.push("inline","",0),s.content=e.src.slice(o,e.eMarks[t]).trim(),s.map=[t,e.line-1],s.children=[],s=e.push("heading_close","h"+String(a),-1),s.markup=String.fromCharCode(r),!0))))}},function(e,t,n){"use strict";var r=n(440),o=n(441).HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var o,s,a,u,l=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(l))return!1;for(u=e.src.slice(l,c),o=0;o<i.length&&!i[o][0].test(u);o++);if(o===i.length)return!1;if(r)return i[o][2];if(s=t+1,!i[o][1].test(u))for(;n>s&&!(e.tShift[s]<e.blkIndent);s++)if(l=e.bMarks[s]+e.tShift[s],c=e.eMarks[s],u=e.src.slice(l,c),i[o][1].test(u)){0!==u.length&&s++;break}return e.line=s,a=e.push("html_block","",0),a.map=[t,s],a.content=e.getLines(t,s,e.blkIndent,!0),!0}},function(e,t){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","head","header","hr","html","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t){"use strict";var n="[a-zA-Z_:][a-zA-Z0-9:._-]*",r="[^\"'=<>`\\x00-\\x20]+",o="'[^']*'",i='"[^"]*"',s="(?:"+r+"|"+o+"|"+i+")",a="(?:\\s+"+n+"(?:\\s*=\\s*"+s+")?)",u="<[A-Za-z][A-Za-z0-9\\-]*"+a+"*\\s*\\/?>",l="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",c="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",f="<[?].*?[?]>",p="<![A-Z]+\\s+[^>]*>",h="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",d=new RegExp("^(?:"+u+"|"+l+"|"+c+"|"+f+"|"+p+"|"+h+")"),m=new RegExp("^(?:"+u+"|"+l+")");e.exports.HTML_TAG_RE=d,e.exports.HTML_OPEN_CLOSE_TAG_RE=m},function(e,t){"use strict";function n(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function r(e){var t,n=[],r=0,o=e.length,i=0,s=0,a=!1,u=0;for(t=e.charCodeAt(r);o>r;)96===t&&i%2===0?(a=!a,u=r):124!==t||i%2!==0||a?92===t?i++:i=0:(n.push(e.substring(s,r)),s=r+1),r++,r===o&&a&&(a=!1,r=u+1),t=e.charCodeAt(r);return n.push(e.substring(s)),n}e.exports=function(e,t,o,i){var s,a,u,l,c,f,p,h,d,m,v;if(t+2>o)return!1;if(c=t+1,e.tShift[c]<e.blkIndent)return!1;if(u=e.bMarks[c]+e.tShift[c],u>=e.eMarks[c])return!1;if(s=e.src.charCodeAt(u),124!==s&&45!==s&&58!==s)return!1;if(a=n(e,t+1),!/^[-:| ]+$/.test(a))return!1;if(f=a.split("|"),f.length<2)return!1;for(h=[],l=0;l<f.length;l++){if(d=f[l].trim(),!d){if(0===l||l===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(d))return!1;58===d.charCodeAt(d.length-1)?h.push(58===d.charCodeAt(0)?"center":"right"):58===d.charCodeAt(0)?h.push("left"):h.push("")}if(a=n(e,t).trim(),-1===a.indexOf("|"))return!1;if(f=r(a.replace(/^\||\|$/g,"")),h.length!==f.length)return!1;if(i)return!0;for(p=e.push("table_open","table",1),p.map=m=[t,0],p=e.push("thead_open","thead",1),p.map=[t,t+1],p=e.push("tr_open","tr",1),p.map=[t,t+1],l=0;l<f.length;l++)p=e.push("th_open","th",1),p.map=[t,t+1],h[l]&&(p.attrs=[["style","text-align:"+h[l]]]),p=e.push("inline","",0),p.content=f[l].trim(),p.map=[t,t+1],p.children=[],p=e.push("th_close","th",-1);for(p=e.push("tr_close","tr",-1),p=e.push("thead_close","thead",-1),p=e.push("tbody_open","tbody",1),p.map=v=[t+2,0],c=t+2;o>c&&!(e.tShift[c]<e.blkIndent)&&(a=n(e,c).trim(),-1!==a.indexOf("|"));c++){for(f=r(a.replace(/^\||\|$/g,"")),f.length=h.length,p=e.push("tr_open","tr",1),l=0;l<f.length;l++)p=e.push("td_open","td",1),h[l]&&(p.attrs=[["style","text-align:"+h[l]]]),p=e.push("inline","",0),p.content=f[l]?f[l].trim():"",p.children=[],p=e.push("td_close","td",-1);p=e.push("tr_close","tr",-1)}return p=e.push("tbody_close","tbody",-1),p=e.push("table_close","table",-1),m[1]=v[1]=c,e.line=c,!0}},function(e,t){"use strict";e.exports=function(e,t){for(var n,r,o,i,s,a=t+1,u=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;l>a&&!e.isEmpty(a);a++)if(!(e.tShift[a]-e.blkIndent>3||e.tShift[a]<0)){for(r=!1,o=0,i=u.length;i>o;o++)if(u[o](e,a,l,!0)){r=!0;break}if(r)break}return n=e.getLines(t,a,e.blkIndent,!1).trim(),e.line=a,s=e.push("paragraph_open","p",1),s.map=[t,e.line],s=e.push("inline","",0),s.content=n,s.map=[t,e.line],s.children=[],s=e.push("paragraph_close","p",-1),!0}},function(e,t,n){"use strict";function r(e,t,n,r){var o,i,s,a,u,l,c;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",i=this.src,l=0,c=!1,s=a=l=0,u=i.length;u>a;a++){if(o=i.charCodeAt(a),!c){if(32===o){l++;continue}c=!0}10!==o&&a!==u-1||(10!==o&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(l),c=!1,l=0,s=a+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}var o=n(429);r.prototype.push=function(e,t,n){var r=new o(e,t,n);return r.block=!0,0>n&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},r.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},r.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;t>e&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},r.prototype.skipSpaces=function(e){for(var t=this.src.length;t>e&&32===this.src.charCodeAt(e);e++);return e},r.prototype.skipChars=function(e,t){for(var n=this.src.length;n>e&&this.src.charCodeAt(e)===t;e++);return e},r.prototype.skipCharsBack=function(e,t,n){if(n>=e)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},r.prototype.getLines=function(e,t,n,r){var o,i,s,a,u,l=e;if(e>=t)return"";if(l+1===t)return i=this.bMarks[l]+Math.min(this.tShift[l],n),s=this.eMarks[t-1]+(r?1:0),this.src.slice(i,s);for(a=new Array(t-e),o=0;t>l;l++,o++)u=this.tShift[l],u>n&&(u=n),0>u&&(u=0),i=this.bMarks[l]+u,s=t>l+1||r?this.eMarks[l]+1:this.eMarks[l],a[o]=this.src.slice(i,s);return a.join("")},r.prototype.Token=o,e.exports=r},function(e,t,n){"use strict";function r(){this.ruler=new o;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1])}var o=n(421),i=[["text",n(446)],["newline",n(447)],["escape",n(448)],["backticks",n(449)],["strikethrough",n(450)],["emphasis",n(451)],["link",n(452)],["image",n(453)],["autolink",n(454)],["html_inline",n(456)],["entity",n(457)]];r.prototype.skipToken=function(e){var t,n=e.pos,r=this.ruler.getRules(""),o=r.length,i=e.md.options.maxNesting,s=e.cache;if("undefined"!=typeof s[n])return void(e.pos=s[n]);if(e.level<i)for(t=0;o>t;t++)if(r[t](e,!0))return void(s[n]=e.pos);e.pos++,s[n]=e.pos},r.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,s=e.md.options.maxNesting;e.pos<i;){if(e.level<s)for(n=0;o>n&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},r.prototype.parse=function(e,t,n,r){var o=new this.State(e,t,n,r);this.tokenize(o)},r.prototype.State=n(458),e.exports=r},function(e,t){"use strict";function n(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var r=e.pos;r<e.posMax&&!n(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}},function(e,t){"use strict";e.exports=function(e,t){var n,r,o=e.pos;if(10!==e.src.charCodeAt(o))return!1;for(n=e.pending.length-1,r=e.posMax,t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),o++;r>o&&32===e.src.charCodeAt(o);)o++;return e.pos=o,!0}},function(e,t){"use strict";for(var n=[],r=0;256>r;r++)n.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){n[e.charCodeAt(0)]=1}),e.exports=function(e,t){var r,o=e.pos,i=e.posMax;if(92!==e.src.charCodeAt(o))return!1;if(o++,i>o){if(r=e.src.charCodeAt(o),256>r&&0!==n[r])return t||(e.pending+=e.src[o]),e.pos+=2,!0;if(10===r){for(t||e.push("hardbreak","br",0),o++;i>o&&32===e.src.charCodeAt(o);)o++;return e.pos=o,!0}}return t||(e.pending+="\\"),e.pos++,!0}},function(e,t){"use strict";e.exports=function(e,t){var n,r,o,i,s,a,u=e.pos,l=e.src.charCodeAt(u);if(96!==l)return!1;for(n=u,u++,r=e.posMax;r>u&&96===e.src.charCodeAt(u);)u++;for(o=e.src.slice(n,u),i=s=u;-1!==(i=e.src.indexOf("`",s));){for(s=i+1;r>s&&96===e.src.charCodeAt(s);)s++;if(s-i===o.length)return t||(a=e.push("code_inline","code",0),a.markup=o,a.content=e.src.slice(u,i).replace(/[ \n]+/g," ").trim()),e.pos=s,!0}return t||(e.pending+=o),e.pos+=o.length,!0}},function(e,t,n){"use strict";function r(e,t){var n,r,a,u,l,c,f,p=t,h=!0,d=!0,m=e.posMax,v=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):32;m>p&&e.src.charCodeAt(p)===v;)p++;return p>=m&&(h=!1),a=p-t,r=m>p?e.src.charCodeAt(p):32,l=s(n)||i(String.fromCharCode(n)),f=s(r)||i(String.fromCharCode(r)),u=o(n),c=o(r),c?h=!1:f&&(u||l||(h=!1)),u?d=!1:l&&(c||f||(d=!1)),{can_open:h,can_close:d,delims:a}}var o=n(401).isWhiteSpace,i=n(401).isPunctChar,s=n(401).isMdAsciiPunct;e.exports=function(e,t){var n,o,i,s,a,u,l,c=e.posMax,f=e.pos,p=e.src.charCodeAt(f);if(126!==p)return!1;if(t)return!1;if(u=r(e,f),n=u.delims,!u.can_open)return e.pos+=n,e.pending+=e.src.slice(f,e.pos),!0;if(a=Math.floor(n/2),0>=a)return!1;for(e.pos=f+n;e.pos<c;)if(e.src.charCodeAt(e.pos)!==p)e.md.inline.skipToken(e);else{if(u=r(e,e.pos),o=u.delims,i=Math.floor(o/2),u.can_close){if(i>=a){e.pos+=o-2,s=!0;break}a-=i,e.pos+=o;continue}u.can_open&&(a+=i),e.pos+=o}return s?(e.posMax=e.pos,e.pos=f+2,l=e.push("s_open","s",1),l.markup="~~",e.md.inline.tokenize(e),l=e.push("s_close","s",-1),l.markup="~~",e.pos=e.posMax+2,e.posMax=c,!0):(e.pos=f,!1)}},function(e,t,n){"use strict";function r(e,t){var n,r,a,u,l,c,f,p,h,d=t,m=!0,v=!0,g=e.posMax,y=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):32;g>d&&e.src.charCodeAt(d)===y;)d++;return a=d-t,r=g>d?e.src.charCodeAt(d):32,f=s(n)||i(String.fromCharCode(n)),h=s(r)||i(String.fromCharCode(r)),c=o(n),p=o(r),p?m=!1:h&&(c||f||(m=!1)),c?v=!1:f&&(p||h||(v=!1)),95===y?(u=m&&(!v||f),l=v&&(!m||h)):(u=m,l=v),{can_open:u,can_close:l,delims:a}}var o=n(401).isWhiteSpace,i=n(401).isPunctChar,s=n(401).isMdAsciiPunct;e.exports=function(e,t){var n,o,i,s,a,u,l,c,f=e.posMax,p=e.pos,h=e.src.charCodeAt(p);if(95!==h&&42!==h)return!1;if(t)return!1;if(l=r(e,p),n=l.delims,!l.can_open)return e.pos+=n,e.pending+=e.src.slice(p,e.pos),!0;for(e.pos=p+n,u=[n];e.pos<f;)if(e.src.charCodeAt(e.pos)!==h)e.md.inline.skipToken(e);else{if(l=r(e,e.pos),o=l.delims,l.can_close){for(s=u.pop(),a=o;s!==a;){if(s>a){u.push(s-a);break}if(a-=s,0===u.length)break;e.pos+=s,s=u.pop()}if(0===u.length){n=s,i=!0;break}e.pos+=o;continue}l.can_open&&u.push(o),e.pos+=o}if(!i)return e.pos=p,!1;for(e.posMax=e.pos,e.pos=p+n,o=n;o>1;o-=2)c=e.push("strong_open","strong",1),c.markup=String.fromCharCode(h)+String.fromCharCode(h);for(o%2&&(c=e.push("em_open","em",1),c.markup=String.fromCharCode(h)),e.md.inline.tokenize(e),o%2&&(c=e.push("em_close","em",-1),c.markup=String.fromCharCode(h)),o=n;o>1;o-=2)c=e.push("strong_close","strong",-1),c.markup=String.fromCharCode(h)+String.fromCharCode(h);return e.pos=e.posMax+n,e.posMax=f,!0}},function(e,t,n){"use strict";var r=n(416),o=n(417),i=n(418),s=n(401).normalizeReference;e.exports=function(e,t){var n,a,u,l,c,f,p,h,d,m,v="",g=e.pos,y=e.posMax,b=e.pos;if(91!==e.src.charCodeAt(e.pos))return!1;if(c=e.pos+1,l=r(e,e.pos,!0),0>l)return!1;if(f=l+1,y>f&&40===e.src.charCodeAt(f)){for(f++;y>f&&(a=e.src.charCodeAt(f),32===a||10===a);f++);if(f>=y)return!1;for(b=f,p=o(e.src,f,e.posMax),p.ok&&(v=e.md.normalizeLink(p.str),e.md.validateLink(v)?f=p.pos:v=""),b=f;y>f&&(a=e.src.charCodeAt(f),32===a||10===a);f++);if(p=i(e.src,f,e.posMax),y>f&&b!==f&&p.ok)for(d=p.str,f=p.pos;y>f&&(a=e.src.charCodeAt(f),32===a||10===a);f++);else d="";if(f>=y||41!==e.src.charCodeAt(f))return e.pos=g,!1;f++}else{if("undefined"==typeof e.env.references)return!1;for(;y>f&&(a=e.src.charCodeAt(f),32===a||10===a);f++);if(y>f&&91===e.src.charCodeAt(f)?(b=f+1,f=r(e,f),f>=0?u=e.src.slice(b,f++):f=l+1):f=l+1,u||(u=e.src.slice(c,l)),h=e.env.references[s(u)],!h)return e.pos=g,!1;v=h.href,d=h.title}return t||(e.pos=c,e.posMax=l,m=e.push("link_open","a",1),m.attrs=n=[["href",v]],d&&n.push(["title",d]),e.md.inline.tokenize(e),m=e.push("link_close","a",-1)),e.pos=f,e.posMax=y,!0}},function(e,t,n){"use strict";var r=n(416),o=n(417),i=n(418),s=n(401).normalizeReference;e.exports=function(e,t){var n,a,u,l,c,f,p,h,d,m,v,g,y="",b=e.pos,k=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(c=e.pos+2,l=r(e,e.pos+1,!1),0>l)return!1;if(f=l+1,k>f&&40===e.src.charCodeAt(f)){for(f++;k>f&&(a=e.src.charCodeAt(f),32===a||10===a);f++);if(f>=k)return!1;for(g=f,h=o(e.src,f,e.posMax),h.ok&&(y=e.md.normalizeLink(h.str),e.md.validateLink(y)?f=h.pos:y=""),g=f;k>f&&(a=e.src.charCodeAt(f),32===a||10===a);f++);if(h=i(e.src,f,e.posMax),k>f&&g!==f&&h.ok)for(d=h.str,f=h.pos;k>f&&(a=e.src.charCodeAt(f),32===a||10===a);f++);else d="";if(f>=k||41!==e.src.charCodeAt(f))return e.pos=b,!1;f++}else{if("undefined"==typeof e.env.references)return!1;for(;k>f&&(a=e.src.charCodeAt(f),32===a||10===a);f++);if(k>f&&91===e.src.charCodeAt(f)?(g=f+1,f=r(e,f),f>=0?u=e.src.slice(g,f++):f=l+1):f=l+1,u||(u=e.src.slice(c,l)),p=e.env.references[s(u)],!p)return e.pos=b,!1;y=p.href,d=p.title}if(!t){e.pos=c,e.posMax=l;var w=new e.md.inline.State(e.src.slice(c,l),e.md,e.env,v=[]);w.md.inline.tokenize(w),m=e.push("image","img",0),m.attrs=n=[["src",y],["alt",""]],m.children=v,d&&n.push(["title",d])}return e.pos=f,e.posMax=k,!0}},function(e,t,n){"use strict";var r=n(455),o=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,i=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;e.exports=function(e,t){var n,s,a,u,l,c,f=e.pos;return 60!==e.src.charCodeAt(f)?!1:(n=e.src.slice(f),n.indexOf(">")<0?!1:i.test(n)?(s=n.match(i),r.indexOf(s[1].toLowerCase())<0?!1:(u=s[0].slice(1,-1),l=e.md.normalizeLink(u),e.md.validateLink(l)?(t||(c=e.push("link_open","a",1),c.attrs=[["href",l]],c=e.push("text","",0),c.content=e.md.normalizeLinkText(u),c=e.push("link_close","a",-1)),e.pos+=s[0].length,!0):!1)):o.test(n)?(a=n.match(o),u=a[0].slice(1,-1),l=e.md.normalizeLink("mailto:"+u),e.md.validateLink(l)?(t||(c=e.push("link_open","a",1),c.attrs=[["href",l]],c.markup="autolink",c.info="auto",c=e.push("text","",0),c.content=e.md.normalizeLinkText(u),c=e.push("link_close","a",-1),c.markup="autolink",c.info="auto"),e.pos+=a[0].length,!0):!1):!1)}},function(e,t){"use strict";e.exports=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"];
},function(e,t,n){"use strict";function r(e){var t=32|e;return t>=97&&122>=t}var o=n(441).HTML_TAG_RE;e.exports=function(e,t){var n,i,s,a,u=e.pos;return e.md.options.html?(s=e.posMax,60!==e.src.charCodeAt(u)||u+2>=s?!1:(n=e.src.charCodeAt(u+1),(33===n||63===n||47===n||r(n))&&(i=e.src.slice(u).match(o))?(t||(a=e.push("html_inline","",0),a.content=e.src.slice(u,u+i[0].length)),e.pos+=i[0].length,!0):!1)):!1}},function(e,t,n){"use strict";var r=n(402),o=n(401).has,i=n(401).isValidEntityCode,s=n(401).fromCodePoint,a=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,u=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,l,c,f=e.pos,p=e.posMax;if(38!==e.src.charCodeAt(f))return!1;if(p>f+1)if(n=e.src.charCodeAt(f+1),35===n){if(c=e.src.slice(f).match(a))return t||(l="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),e.pending+=s(i(l)?l:65533)),e.pos+=c[0].length,!0}else if(c=e.src.slice(f).match(u),c&&o(r,c[1]))return t||(e.pending+=r[c[1]]),e.pos+=c[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,n){"use strict";function r(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={}}var o=n(429);r.prototype.pushPending=function(){var e=new o("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},r.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new o(e,t,n);return 0>n&&this.level--,r.level=this.level,n>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(r),r},r.prototype.Token=o,e.exports=r},function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object String]"===o(e)}function s(e){return"[object Object]"===o(e)}function a(e){return"[object RegExp]"===o(e)}function u(e){return"[object Function]"===o(e)}function l(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function c(e){return Object.keys(e||{}).reduce(function(e,t){return e||y.hasOwnProperty(t)},!1)}function f(e){e.__index__=-1,e.__text_cache__=""}function p(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function h(){return function(e,t){t.normalize(e)}}function d(e){function t(e){return e.replace("%TLDS%",c.src_tlds)}function o(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}var c=e.re=r({},n(460)),d=e.__tlds__.slice();e.__tlds_replaced__||d.push(k),d.push(c.src_xn),c.src_tlds=d.join("|"),c.email_fuzzy=RegExp(t(c.tpl_email_fuzzy),"i"),c.link_fuzzy=RegExp(t(c.tpl_link_fuzzy),"i"),c.link_no_ip_fuzzy=RegExp(t(c.tpl_link_no_ip_fuzzy),"i"),c.host_fuzzy_test=RegExp(t(c.tpl_host_fuzzy_test),"i");var m=[];e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};return e.__compiled__[t]=r,s(n)?(a(n.validate)?r.validate=p(n.validate):u(n.validate)?r.validate=n.validate:o(t,n),void(u(n.normalize)?r.normalize=n.normalize:n.normalize?o(t,n):r.normalize=h())):i(n)?void m.push(t):void o(t,n)}}),m.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:h()};var v=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(l).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:>|"+c.src_ZPCc+"))("+v+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:>|"+c.src_ZPCc+"))("+v+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),f(e)}function m(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function v(e,t){var n=new m(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function g(e,t){return this instanceof g?(t||c(e)&&(t=e,e={}),this.__opts__=r({},y,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},b,e),this.__compiled__={},this.__tlds__=w,this.__tlds_replaced__=!1,this.re={},void d(this)):new g(e,t)}var y={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},b={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},k="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",w="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");g.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},g.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},g.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,s,a,u,l;if(this.re.schema_test.test(e))for(a=this.re.schema_search,a.lastIndex=0;null!==(t=a.exec(e));)if(o=this.testSchemaAt(e,t[2],a.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,s=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=s))),this.__index__>=0},g.prototype.pretest=function(e){return this.re.pretest.test(e)},g.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},g.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(v(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(v(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},g.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},g.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},e.exports=g},function(e,t,n){"use strict";var r=t.src_Any=n(411).source,o=t.src_Cc=n(412).source,i=t.src_Z=n(414).source,s=t.src_P=n(404).source,a=t.src_ZPCc=[i,s,o].join("|"),u=t.src_ZCc=[i,o].join("|"),l="(?:(?!"+a+")"+r+")",c="(?:(?![0-9]|"+a+")"+r+")",f=t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)";t.src_auth="(?:(?:(?!"+u+").)+@)?";var p=t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",h=t.src_host_terminator="(?=$|"+a+")(?!-|_|:\\d|\\.-|\\.(?!$|"+a+"))",d=t.src_path="(?:[/?#](?:(?!"+u+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+u+"|\\]).)*\\]|\\((?:(?!"+u+"|[)]).)*\\)|\\{(?:(?!"+u+'|[}]).)*\\}|\\"(?:(?!'+u+'|["]).)+\\"|\\\'(?:(?!'+u+"|[']).)+\\'|\\'(?="+l+").|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+u+"|[.]).|\\-(?!--(?:[^-]|$))(?:-*)|\\,(?!"+u+").|\\!(?!"+u+"|[!]).|\\?(?!"+u+"|[?]).)+|\\/)?",m=t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',v=t.src_xn="xn--[a-z0-9\\-]{1,59}",g=t.src_domain_root="(?:"+v+"|"+c+"{1,63})",y=t.src_domain="(?:"+v+"|(?:"+l+")|(?:"+l+"(?:-(?!-)|"+l+"){0,61}"+l+"))",b=t.src_host="(?:"+f+"|(?:(?:(?:"+y+")\\.)*"+g+"))",k=t.tpl_host_fuzzy="(?:"+f+"|(?:(?:(?:"+y+")\\.)+(?:%TLDS%)))",w=t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+y+")\\.)+(?:%TLDS%))";t.src_host_strict=b+h;var x=t.tpl_host_fuzzy_strict=k+h;t.src_host_port_strict=b+p+h;var _=t.tpl_host_port_fuzzy_strict=k+p+h,C=t.tpl_host_port_no_ip_fuzzy_strict=w+p+h;t.tpl_host_fuzzy_test="localhost|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+a+"|$))",t.tpl_email_fuzzy="(^|>|"+u+")("+m+"@"+x+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+a+"))((?![$+<=>^`|])"+_+d+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+a+"))((?![$+<=>^`|])"+C+d+")"},function(e,t,n){var r;(function(e,o){!function(i){function s(e){throw new RangeError(E[e])}function a(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(D,".");var o=e.split("."),i=a(o,t).join(".");return r+i}function l(e){for(var t,n,r=[],o=0,i=e.length;i>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&i>o?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function c(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=q(e>>>10&1023|55296),e=56320|1023&e),t+=q(e)}).join("")}function f(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:w}function p(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,n){var r=0;for(e=n?z(e/S):e>>1,e+=z(e/t);e>j*_>>1;r+=w)e=z(e/j);return z(r+(j+1)*e/(e+C))}function d(e){var t,n,r,o,i,a,u,l,p,d,m=[],v=e.length,g=0,y=A,b=M;for(n=e.lastIndexOf(O),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&s("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;v>o;){for(i=g,a=1,u=w;o>=v&&s("invalid-input"),l=f(e.charCodeAt(o++)),(l>=w||l>z((k-g)/a))&&s("overflow"),g+=l*a,p=b>=u?x:u>=b+_?_:u-b,!(p>l);u+=w)d=w-p,a>z(k/d)&&s("overflow"),a*=d;t=m.length+1,b=h(g-i,t,0==i),z(g/t)>k-y&&s("overflow"),y+=z(g/t),g%=t,m.splice(g++,0,y)}return c(m)}function m(e){var t,n,r,o,i,a,u,c,f,d,m,v,g,y,b,C=[];for(e=l(e),v=e.length,t=A,n=0,i=M,a=0;v>a;++a)m=e[a],128>m&&C.push(q(m));for(r=o=C.length,o&&C.push(O);v>r;){for(u=k,a=0;v>a;++a)m=e[a],m>=t&&u>m&&(u=m);for(g=r+1,u-t>z((k-n)/g)&&s("overflow"),n+=(u-t)*g,t=u,a=0;v>a;++a)if(m=e[a],t>m&&++n>k&&s("overflow"),m==t){for(c=n,f=w;d=i>=f?x:f>=i+_?_:f-i,!(d>c);f+=w)b=c-d,y=w-d,C.push(q(p(d+b%y,0))),c=z(b/y);C.push(q(p(c,0))),i=h(n,g,r==o),n=0,++r}++n,++t}return C.join("")}function v(e){return u(e,function(e){return P.test(e)?d(e.slice(4).toLowerCase()):e})}function g(e){return u(e,function(e){return T.test(e)?"xn--"+m(e):e})}var y=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof o&&o);y.global!==y&&y.window!==y&&y.self!==y||(i=y);var b,k=2147483647,w=36,x=1,_=26,C=38,S=700,M=72,A=128,O="-",P=/^xn--/,T=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=w-x,z=Math.floor,q=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:l,encode:c},decode:d,encode:m,toASCII:g,toUnicode:v},r=function(){return b}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(462)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}}},function(e,t){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"]}}}},function(e,t){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"]}}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=new c;return t.renderContent(e),t.out}function i(e,t){e.prototype.serializeMarkdown=t}function s(e,t,n){e.prototype.openMarkdown=t,e.prototype.closeMarkdown=n}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.toMarkdown=o;var u=n(353),l=n(377);(0,l.defineTarget)("markdown",o);var c=function(){function e(){r(this,e),this.delim=this.out="",this.closed=!1,this.inTightList=!1}return a(e,[{key:"flushClose",value:function(e){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==e&&(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var r=1;e>r;r++)this.out+=t+"\n"}this.closed=!1}}},{key:"wrapBlock",value:function(e,t,n,r){var o=this.delim;this.write(t||e),this.delim+=e,r(),this.delim=o,this.closeBlock(n)}},{key:"atBlank",value:function(){return/(^|\n)$/.test(this.out)}},{key:"ensureNewLine",value:function(){this.atBlank()||(this.out+="\n")}},{key:"write",value:function(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}},{key:"closeBlock",value:function(e){this.closed=e}},{key:"text",value:function(e,t){for(var n=e.split("\n"),r=0;r<n.length;r++){var o=this.atBlank()||this.closed;this.write(),this.out+=t!==!1?this.esc(n[r],o):n[r],r!=n.length-1&&(this.out+="\n")}}},{key:"render",value:function(e){e.type.serializeMarkdown(this,e)}},{key:"renderContent",value:function(e){var t=this;e.forEach(function(e){return t.render(e)})}},{key:"renderInline",value:function(e){var t=this,n=[],r=function(e){var r=e?e.marks.slice():[];!n.length||"code"!=n[n.length-1].type||r.length&&"code"==r[r.length-1].type||(t.text("`",!1),n.pop());for(var o=0;o<n.length;o++){for(var i=n[o],s=!1,a=0;a<r.length;a++)if(r[a].eq(n[o])){r.splice(a,1),s=!0;break}s||(t.text(t.markString(i,!1),!1),n.splice(o--,1))}for(var o=0;o<r.length;o++){var i=r[o];n.push(i),t.text(t.markString(i,!0),!1)}e&&t.render(e)};e.forEach(r),r(null)}},{key:"renderList",value:function(e,t,n){var r=this;this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var o=this.inTightList;this.inTightList=e.attrs.tight;for(var i,s=function(o,i,s){i&&e.attrs.tight&&r.flushClose(1),r.wrapBlock(t,n(i),e,function(){return r.render(s)})},a=e.iter(),u=0;i=a.next().value;u++)s(a,u,i);this.inTightList=o}},{key:"esc",value:function(e,t){return e=e.replace(/[`*\\~+\[\]]/g,"\\$&"),t&&(e=e.replace(/^[:#-]/,"\\$&")),e}},{key:"quote",value:function(e){var t=-1==e.indexOf('"')?'""':-1==e.indexOf("'")?"''":"()";return t[0]+e+t[1]}},{key:"repeat",value:function(e,t){for(var n="",r=0;t>r;r++)n+=e;return n}},{key:"markString",value:function(e,t){var n=t?e.type.openMarkdown:e.type.closeMarkdown;return"string"==typeof n?n:n(this,e)}}]),e}();i(u.BlockQuote,function(e,t){e.wrapBlock("> ",null,t,function(){return e.renderContent(t)})}),i(u.CodeBlock,function(e,t){null==t.attrs.params?e.wrapBlock("    ",null,t,function(){return e.text(t.textContent,!1)}):(e.write("```"+t.attrs.params+"\n"),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t))}),i(u.Heading,function(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t),e.closeBlock(t)}),i(u.HorizontalRule,function(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)}),i(u.BulletList,function(e,t){e.renderList(t,"  ",function(){return(t.attrs.bullet||"*")+" "})}),i(u.OrderedList,function(e,t){var n=Number(t.attrs.order||1),r=String(n+t.size-1).length,o=e.repeat(" ",r+2);e.renderList(t,o,function(t){var o=String(n+t);return e.repeat(" ",r-o.length)+o+". "})}),i(u.ListItem,function(e,t){return e.renderContent(t)}),i(u.Paragraph,function(e,t){e.renderInline(t),e.closeBlock(t)}),i(u.Image,function(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+e.esc(t.attrs.src)+(t.attrs.title?" "+e.quote(t.attrs.title):"")+")")}),i(u.HardBreak,function(e){return e.write("\\\n")}),i(u.Text,function(e,t){return e.text(t.text)}),s(u.EmMark,"*","*"),s(u.StrongMark,"**","**"),s(u.LinkMark,"[",function(e,t){return"]("+e.esc(t.attrs.href)+(t.attrs.title?" "+e.quote(t.attrs.title):"")+")"}),s(u.CodeMark,"`","`")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){for(var t=e.parentNode;t;t=t.parentNode)if(t.scrollHeight>t.clientHeight)return t}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":i(e)},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(348),l=n(351),c=n(468),f=n(469),p="ProseMirror-menubar";(0,u.defineOption)("menuBar",!1,function(e,t){e.mod.menuBar&&e.mod.menuBar.detach(),e.mod.menuBar=t?new d(e,t):null});var h=[f.inlineGroup,f.insertMenu,[f.textblockMenu,f.blockGroup],f.historyGroup],d=function(){function e(t,n){var o=this;r(this,e),this.pm=t,this.config=n||{},this.wrapper=t.wrapper.insertBefore((0,l.elt)("div",{"class":p}),t.wrapper.firstChild),this.spacer=null,this.maxHeight=0,this.widthForMaxHeight=0,this.updater=new c.UpdateScheduler(t,"selectionChange change activeMarkChange commandsChanged",function(){return o.update()}),this.content=n.content||h,this.updater.force(),this.floating=!1,this.config["float"]&&(this.updateFloat(),this.scrollFunc=function(){document.body.contains(o.pm.wrapper)?o.updateFloat():window.removeEventListener("scroll",o.scrollFunc)},window.addEventListener("scroll",this.scrollFunc))}return a(e,[{key:"detach",value:function(){this.updater.detach(),this.wrapper.parentNode.removeChild(this.wrapper),this.scrollFunc&&window.removeEventListener("scroll",this.scrollFunc)}},{key:"update",value:function(){var e=this;return this.wrapper.textContent="",this.wrapper.appendChild((0,f.renderGrouped)(this.pm,this.content)),this["float"]?this.updateScrollCursor():function(){return e.wrapper.offsetWidth!=e.widthForMaxHeight&&(e.widthForMaxHeight=e.wrapper.offsetWidth,e.maxHeight=0),e.wrapper.offsetHeight>e.maxHeight?(e.maxHeight=e.wrapper.offsetHeight,function(){e.wrapper.style.minHeight=e.maxHeight+"px"}):void 0}}},{key:"updateFloat",value:function(){var e=this.pm.wrapper.getBoundingClientRect();if(this.floating)if(e.top>=0||e.bottom<this.wrapper.offsetHeight+10)this.floating=!1,this.wrapper.style.position=this.wrapper.style.left=this.wrapper.style.width="",this.wrapper.style.display="",this.spacer.parentNode.removeChild(this.spacer),this.spacer=null;else{var t=(this.pm.wrapper.offsetWidth-this.pm.wrapper.clientWidth)/2;this.wrapper.style.left=e.left+t+"px",this.wrapper.style.display=e.top>window.innerHeight?"none":""}else if(e.top<0&&e.bottom>=this.wrapper.offsetHeight+10){this.floating=!0;var n=this.wrapper.getBoundingClientRect();this.wrapper.style.left=n.left+"px",this.wrapper.style.width=n.width+"px",this.wrapper.style.position="fixed",this.spacer=(0,l.elt)("div",{"class":p+"-spacer",style:"height: "+n.height+"px"}),this.pm.wrapper.insertBefore(this.spacer,this.wrapper)}}},{key:"updateScrollCursor",value:function(){var e=this;if(!this.floating)return null;var t=this.pm.selection.head;return t?function(){var n=e.pm.coordsAtPos(t),r=e.wrapper.getBoundingClientRect();if(n.top<r.bottom&&n.bottom>r.top){var i=function(){var t=o(e.pm.wrapper);return t?{v:function(){t.scrollTop-=r.bottom-n.top}}:void 0}();if("object"===("undefined"==typeof i?"undefined":s(i)))return i.v}}:null}}]),e}();(0,l.insertCSS)("\n."+p+" {\n  border-top-left-radius: inherit;\n  border-top-right-radius: inherit;\n  position: relative;\n  min-height: 1em;\n  color: #666;\n  padding: 1px 6px;\n  top: 0; left: 0; right: 0;\n  border-bottom: 1px solid silver;\n  background: white;\n  z-index: 10;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: visible;\n}\n")},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){u.get(e).set(t)}function o(e,t){u.get(e).unset(t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleDOMUpdate=r,t.unscheduleDOMUpdate=o;var s=50,a=100,u=function(){function e(t){n(this,e),this.waiting=[],this.timeout=null,this.lastForce=0,this.pm=t,this.force=this.force.bind(this),t.on("flush",this.onFlush.bind(this))}return i(e,[{key:"set",value:function(e){0==this.waiting.length&&(this.timeout=setTimeout(this.force,s)),-1==this.waiting.indexOf(e)&&this.waiting.push(e)}},{key:"unset",value:function(e){var t=this.waiting.indexOf(e);t>-1&&this.waiting.splice(t,1)}},{key:"force",value:function(){for(clearTimeout(this.timeout),this.lastForce=Date.now();this.waiting.length;)for(var e=0;e<this.waiting.length;e++){var t=this.waiting[e]();t?this.waiting[e]=t:this.waiting.splice(e--,1)}}},{key:"onFlush",value:function(){this.waiting.length&&Date.now()-this.lastForce>a&&this.force()}}],[{key:"get",value:function(e){return e.mod.centralScheduler||(e.mod.centralScheduler=new this(e))}}]),e}();t.UpdateScheduler=function(){function e(t,r,o){var i=this;n(this,e),this.pm=t,this.start=o,this.events=r.split(" "),this.onEvent=this.onEvent.bind(this),this.events.forEach(function(e){return t.on(e,i.onEvent)})}return i(e,[{key:"detach",value:function(){var e=this;o(this.pm,this.start),this.events.forEach(function(t){return e.pm.off(t,e.onEvent)})}},{key:"onEvent",value:function(){r(this.pm,this.start)}},{key:"force",value:function(){if(this.pm.operation)this.onEvent();else{o(this.pm,this.start);for(var e=this.start;e;e=e());}}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!t.label)return null;var n=t.name&&e.keyForCommand(t.name);return n?t.label+" ("+n+")":t.label}function s(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r].render(t);o&&n.push((0,f.elt)("div",{"class":g+"-dropdown-item"},o))}return n.length||n.push((0,f.elt)("div",{"class":g+"-dropdown-empty"},"(empty)")),n}function a(e,t){for(var n=void 0,r=Array.isArray(t),o=0;o<(r?t.length:1);o++){var i=r?t[o]:t;if(i instanceof b){var s=i.get(e);if(!r||1==t.length)return s;n=(n||t.slice(0,o)).concat(s)}else n&&n.push(i)}return n||(r?t:[t])}function u(e,t){for(var n=document.createDocumentFragment(),r=!1,o=0;o<t.length;o++){for(var i=a(e,t[o]),s=!1,u=0;u<i.length;u++){var c=i[u].render(e);c&&(!s&&r&&n.appendChild(l()),n.appendChild((0,f.elt)("span",{"class":g+"item"},c)),s=!0)}s&&(r=!0)}return n}function l(){return(0,f.elt)("span",{"class":g+"separator"})}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.historyGroup=t.blockGroup=t.textblockMenu=t.insertMenu=t.inlineGroup=t.DropdownSubmenu=t.Dropdown=t.MenuCommandGroup=t.MenuCommand=void 0,t.resolveGroup=a,t.renderGrouped=u;var f=n(351),p=n(374),h=r(p),d=n(361),m=n(357),v=n(470),g="ProseMirror-menu",y=t.MenuCommand=function(){function e(t,n){o(this,e),this.command_=t,this.options=n}return c(e,[{key:"command",value:function(e){return"string"==typeof this.command_?e.commands[this.command_]:this.command_}},{key:"render",value:function(e){var t=this.command(e),n=!1;if(t){if("ignore"!=this.options.select&&!t.select(e)){if(null==this.options.select||"hide"==this.options.select)return null;"disable"==this.options.select&&(n=!0)}var r=this.options.display;r||m.AssertionError.raise("No display style defined for menu command "+t.name);var o=void 0;return r.render?o=r.render(t):"icon"==r.type?(o=(0,v.getIcon)(t.name,r),!n&&t.active(e)&&o.classList.add(g+"-active")):"label"==r.type?o=(0,f.elt)("div",null,r.label||t.spec.label):m.AssertionError.raise("Unsupported command display style: "+r.type),o.setAttribute("title",i(e,t)),this.options["class"]&&o.classList.add(this.options["class"]),n&&o.classList.add(g+"-disabled"),this.options.css&&(o.style.cssText+=this.options.css),o.addEventListener("mousedown",function(n){n.preventDefault(),n.stopPropagation(),e.signal("interaction"),t.exec(e,null,o)}),o}}}]),e}(),b=t.MenuCommandGroup=function(){function e(t,n){o(this,e),this.name=t,this.options=n}return c(e,[{key:"collect",value:function(e){var t=this,n=[];for(var r in e.commands){var o=e.commands[r],i=o.spec.menu;i&&i.group==this.name&&(0,h["default"])(n,{cmd:o,rank:null==i.rank?50:i.rank},function(e,t){return e.rank-t.rank})}return n.map(function(e){var n=e.cmd.spec.menu;return t.options&&(n=(0,d.copyObj)(t.options,(0,d.copyObj)(n))),new y(e.cmd,n)})}},{key:"get",value:function(e){var t=e.mod.menuGroups||this.startGroups(e);return t[this.name]||(t[this.name]=this.collect(e))}},{key:"startGroups",value:function(e){var t=function n(){e.mod.menuGroups=null,e.off("commandsChanging",n)};return e.on("commandsChanging",t),e.mod.menuGroups=Object.create(null)}}]),e}(),k=t.Dropdown=function(){function e(t,n){o(this,e),this.options=t||{},this.content=n}return c(e,[{key:"render",value:function(e){var t=this;if(0!=a(e,this.content).length){var n=this.options.activeLabel&&this.findActiveIn(this,e)||this.options.label,r=(0,f.elt)("div",{"class":g+"-dropdown "+(this.options["class"]||""),style:this.options.css,title:this.options.title},n),o=null;return r.addEventListener("mousedown",function(n){n.preventDefault(),n.stopPropagation(),o=o&&o()?null:t.expand(e,r)}),r}}},{key:"expand",value:function(e,t){function n(){return l?void 0:(l=!0,e.off("interaction",n),e.wrapper.removeChild(u),!0)}var r=s(a(e,this.content),e),o=t.getBoundingClientRect(),i=e.wrapper.getBoundingClientRect(),u=(0,f.elt)("div",{"class":g+"-dropdown-menu "+(this.options["class"]||""),style:"left: "+(o.left-i.left)+"px; top: "+(o.bottom-i.top)+"px"},r),l=!1;return e.signal("interaction"),e.wrapper.appendChild(u),e.on("interaction",n),n}},{key:"findActiveIn",value:function(e,t){for(var n=a(t,e.content),r=0;r<n.length;r++){var o=n[r];if(o instanceof y){var i=o.command(t).active(t);if(i)return o.options.activeLabel}else if(o instanceof w){var s=this.findActiveIn(o,t);if(s)return s}}}}]),e}(),w=t.DropdownSubmenu=function(){function e(t,n){o(this,e),this.options=t||{},this.content=n}return c(e,[{key:"render",value:function(e){var t=a(e,this.content);if(t.length){var n=(0,f.elt)("div",{"class":g+"-submenu-label"},this.options.label),r=(0,f.elt)("div",{"class":g+"-submenu-wrap"},n,(0,f.elt)("div",{"class":g+"-submenu"},s(t,e)));return n.addEventListener("mousedown",function(e){e.preventDefault(),e.stopPropagation(),r.classList.toggle(g+"-submenu-wrap-active")}),r}}}]),e}();t.inlineGroup=new b("inline"),t.insertMenu=new k({label:"Insert"},new b("insert")),t.textblockMenu=new k({label:"Type..",displayActive:!0,"class":"ProseMirror-textblock-dropdown"},[new b("textblock"),new w({label:"Heading"},new b("textblockHeading"))]),t.blockGroup=new b("block"),t.historyGroup=new b("history");(0,f.insertCSS)("\n\n.ProseMirror-textblock-dropdown {\n  min-width: 3em;\n}\n\n."+g+" {\n  margin: 0 -4px;\n  line-height: 1;\n}\n\n.ProseMirror-tooltip ."+g+" {\n  width: -webkit-fit-content;\n  width: fit-content;\n  white-space: pre;\n}\n\n."+g+"item {\n  margin-right: 3px;\n  display: inline-block;\n}\n\n."+g+"separator {\n  border-right: 1px solid #ddd;\n  margin-right: 3px;\n}\n\n."+g+"-dropdown, ."+g+"-dropdown-menu {\n  font-size: 90%;\n}\n\n."+g+"-dropdown {\n  padding: 1px 14px 1px 4px;\n  display: inline-block;\n  vertical-align: 1px;\n  position: relative;\n  cursor: pointer;\n}\n\n."+g+'-dropdown:after {\n  content: "";\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid currentColor;\n  opacity: .6;\n  position: absolute;\n  right: 2px;\n  top: calc(50% - 2px);\n}\n\n.'+g+"-dropdown-menu, ."+g+"-submenu {\n  position: absolute;\n  background: white;\n  color: #666;\n  border: 1px solid #aaa;\n  padding: 2px;\n}\n\n."+g+"-dropdown-menu {\n  z-index: 15;\n  min-width: 6em;\n}\n\n."+g+"-dropdown-item {\n  cursor: pointer;\n  padding: 2px 8px 2px 4px;\n}\n\n."+g+"-dropdown-item:hover {\n  background: #f2f2f2;\n}\n\n."+g+"-dropdown-empty {\n  opacity: 0.4;\n}\n\n."+g+"-submenu-wrap {\n  position: relative;\n  margin-right: -4px;\n}\n\n."+g+'-submenu-label:after {\n  content: "";\n  border-top: 4px solid transparent;\n  border-bottom: 4px solid transparent;\n  border-left: 4px solid currentColor;\n  opacity: .6;\n  position: absolute;\n  right: 4px;\n  top: calc(50% - 4px);\n}\n\n.'+g+"-submenu {\n  display: none;\n  min-width: 4em;\n  left: 100%;\n  top: -3px;\n}\n\n."+g+"-active {\n  background: #eee;\n  border-radius: 4px;\n}\n\n."+g+"-active {\n  background: #eee;\n  border-radius: 4px;\n}\n\n."+g+"-disabled {\n  opacity: .3;\n}\n\n."+g+"-submenu-wrap:hover ."+g+"-submenu, ."+g+"-submenu-wrap-active ."+g+"-submenu {\n  display: block;\n}\n")},function(e,t,n){"use strict";function r(e,t){var n=document.createElement("div");if(n.className=c,t.path){a[e]||o(e,t);var r=n.appendChild(document.createElementNS(u,"svg"));r.style.width=t.width/t.height+"em";var i=r.appendChild(document.createElementNS(u,"use"));i.setAttributeNS(l,"href","#pm-icon-"+e)}else n.appendChild(document.createElement("span")).textContent=t.text,t.css&&(n.firstChild.style.cssText=t.css);return n}function o(e,t){s||(s=document.createElementNS(u,"svg"),s.style.display="none",document.body.insertBefore(s,document.body.firstChild));var n=document.createElementNS(u,"symbol");n.id="pm-icon-"+e,n.setAttribute("viewBox","0 0 "+t.width+" "+t.height);var r=n.appendChild(document.createElementNS(u,"path"));r.setAttribute("d",t.path),s.appendChild(n),a[e]=!0}Object.defineProperty(t,"__esModule",{value:!0}),t.getIcon=r;var i=n(351),s=null,a=Object.create(null),u="http://www.w3.org/2000/svg",l="http://www.w3.org/1999/xlink",c="ProseMirror-icon";(0,i.insertCSS)("\n."+c+" {\n  display: inline-block;\n  line-height: .8;\n  vertical-align: -2px; /* Compensate for padding */\n  padding: 2px 8px;\n  cursor: pointer;\n}\n\n."+c+" svg {\n  fill: currentColor;\n  height: 1em;\n}\n\n."+c+" span {\n  vertical-align: text-top;\n}");
}]));